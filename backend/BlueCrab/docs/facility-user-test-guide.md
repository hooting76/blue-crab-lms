# 시설 & 사용자 등록 API 테스트 페이지 가이드

## 🎯 개요

시설 관리와 사용자 등록 시스템을 테스트할 수 있는 통합 웹 페이지입니다.

## 📂 파일 위치

```
backend/BlueCrab/
├── facility-user-test.html                           # 루트 (개발용)
└── src/main/resources/static/facility-user-test.html # 배포용
```

## 🚀 접속 방법

### 로컬 개발 환경
1. 백엔드 서버 실행
   ```bash
   cd backend/BlueCrab
   mvn spring-boot:run
   ```

2. 브라우저에서 접속
   ```
   http://localhost:8080/facility-user-test.html
   ```

### 파일로 직접 열기 (시뮬레이션만)
```
backend/BlueCrab/facility-user-test.html
```
더블클릭으로 브라우저에서 직접 열기 (API 호출은 서버 필요)

## 📋 주요 기능

### 1️⃣ 시설 관리 탭

#### 시설 목록 조회
- **기능**: 등록된 모든 시설 조회
- **엔드포인트**: `GET /api/facilities`
- **필터**: 시설 타입별 조회 가능
- **지원 타입**:
  - AQUACULTURE (양식장)
  - AUDITORIUM (강당)
  - GYM (체육관)
  - MARINE (해양시설)
  - MEETING_ROOM (회의실)
  - SPORTS (체육시설)
  - STORAGE (창고)
  - WORKSHOP (작업장)

#### 시설 통계
- **기능**: 시설 타입별 개수 집계
- **표시**: 테이블 형식으로 통계 표시

### 2️⃣ 사용자 등록 탭

#### 학생 등록 시뮬레이션
**입력 항목**:
- 입학년도 (2020~2030)
- 이름, 이메일, 전화번호
- 학부 선택 (01~05)
  - 01: 해양학부
  - 02: 보건학부
  - 03: 자연과학부
  - 04: 인문학부
  - 05: 공학부
- 학과 선택 (학부별 상이)
- 생년월일 (YYYYMMDD)
- 입학경로 (신규/편입/전과)
- 부전공 (선택사항)

**생성되는 데이터**:
```
📝 USER_TBL
- USER_CODE: 2025-001-01-847
- USER_NAME: 김해양
- USER_EMAIL: student@bluecrab.ac.kr
- USER_PHONE: 01012345678
- USER_BIRTH: 20050315
- USER_STUDENT: 0 (학생)
- USER_ZIP: 06234 (자동 생성)
- USER_FIRST_ADD: 서울특별시 강남구 테헤란로 152 (자동 생성)
- PROFILE_IMAGE_KEY: default/profile_default_1.jpg (자동 생성)

📚 REGIST_TABLE
- USER_CODE: 2025-001-01-847
- JOIN_PATH: 신규
- STD_STAT: 재학
- CNT_TERM: 0

🎓 SERIAL_CODE_TABLE
- SERIAL_CODE: 01 (주전공 학부)
- SERIAL_SUB: 01 (주전공 학과)
- SERIAL_CODE_ND: 05 (부전공 학부, 선택)
- SERIAL_SUB_ND: 01 (부전공 학과, 선택)
```

**기능**:
- 🔍 미리보기: 입력한 정보로 생성될 데이터 확인
- 🎲 랜덤 생성: 모든 항목 자동 랜덤 생성

#### 교수 등록 시뮬레이션
**입력 항목**:
- 임용년도
- 이름, 이메일
- 소속 학부/학과

**생성되는 데이터**:
```
📝 USER_TBL
- USER_CODE: 2024-104-04-XXX (교수는 1로 시작)
- USER_STUDENT: 1 (교수)
- ... (기타 동일)

🎓 SERIAL_CODE_TABLE
- SERIAL_CODE: 04 (소속 학부)
- SERIAL_SUB: 04 (소속 학과)
```

### 3️⃣ 유틸리티 탭

#### 학번/교번 생성기
- **기능**: 지정된 조건으로 학번/교번 생성
- **입력**: 년도, 유형(학생/교수), 학부, 학과
- **출력**: 
  - 단일 생성: 1개 학번
  - 10개 생성: 동일 조건으로 10개 학번 (고유번호만 다름)

**예시**:
```
2025-001-01-847
2025-001-01-312
2025-001-01-654
...
```

#### 랜덤 주소 생성기
- **기능**: 한국 주소 형식의 랜덤 주소 생성
- **포함 항목**:
  - 우편번호 (5자리)
  - 기본주소 (시/도, 구/군, 도로명)
  - 상세주소 (동/호수)

**예시**:
```
[06234] 서울특별시 강남구 테헤란로 152, 3동 502호
[48099] 부산광역시 해운대구 해운대로 123, 12동 1205호
```

#### 학번 파싱
- **기능**: 학번 형식 분석
- **입력**: `2025-001-01-847`
- **출력**:
  ```
  입학/임용년도: 2025년
  유형: 학생 (0)
  학부 코드: 01
  학과 코드: 01
  고유 번호: 847
  ```

## 🎨 UI 특징

### 탭 구조
- **시설 관리**: 시설 조회 및 통계
- **사용자 등록**: 학생/교수 등록 시뮬레이션
- **유틸리티**: 개발 도구

### 응답 표시
- ✅ **성공**: 녹색 상태 표시
- ❌ **실패**: 빨간색 상태 표시
- 📊 **테이블**: 시설 목록, 통계
- 📝 **JSON**: 원본 응답 데이터

### 색상 코딩
- 🔵 파란색: 정보, 기본 버튼
- 🟢 녹색: 성공, 생성 버튼
- 🔴 빨간색: 오류, 위험 버튼
- ⚫ 검은색: 응답 데이터 (터미널 스타일)

## 🔧 사용 시나리오

### 시나리오 1: 시설 목록 확인
1. "시설 관리" 탭 선택
2. 필터 선택 (또는 "전체")
3. "🔍 시설 목록 조회" 클릭
4. 결과 확인 (테이블 + JSON)

### 시나리오 2: 신입생 등록 시뮬레이션
1. "사용자 등록" 탭 선택
2. 입학년도, 이름, 학부/학과 입력
3. "🔍 미리보기" 클릭
4. 생성될 데이터 확인
   - USER_TBL 항목
   - REGIST_TABLE 항목
   - SERIAL_CODE_TABLE 항목

### 시나리오 3: 부전공 있는 학생
1. 기본 정보 입력
2. 부전공 학부/학과 선택
3. "🔍 미리보기" 클릭
4. SERIAL_CODE_TABLE에서 부전공 정보 확인

### 시나리오 4: 랜덤 학생 생성
1. "🎲 랜덤 생성" 클릭
2. 모든 항목 자동 입력됨
3. 자동으로 미리보기 표시

### 시나리오 5: 대량 학번 생성
1. "유틸리티" 탭 선택
2. 학번/교번 생성기 섹션
3. 조건 입력 (년도, 유형, 학부, 학과)
4. "🎲 10개 생성" 클릭
5. 10개의 학번 확인

### 시나리오 6: 학번 분석
1. "유틸리티" 탭 선택
2. 학번 파싱 섹션
3. 학번 입력 (예: `2025-001-01-847`)
4. "🔍 파싱" 클릭
5. 학번 구성 요소 확인

## 📊 테스트 데이터 예시

### DB 실제 시설 데이터
```
양식장 (AQUACULTURE): 6개
- 해수 양식장 1구역
- 해수 양식장 2구역
- 담수 양식장 1구역
...

체육시설 (SPORTS): 3개
- 풋살장
- 농구장
- 운동장

회의실 (MEETING_ROOM): 4개
- 다목적 회의실 1호
- 다목적 회의실 2호
...
```

### 학부/학과 코드
```
01 해양학부
  - 01 항해학과
  - 02 해양경찰
  - 03 해군사관
  - 04 도선학과
  - 05 해양수산학
  - 06 조선학과

02 보건학부
  - 01 간호학
  - 02 치위생
  - 03 약학과
  - 04 보건정책학

... (총 5개 학부, 24개 학과)
```

## 🚨 주의사항

### API 호출
- 백엔드 서버가 실행 중이어야 합니다
- CORS 설정 확인 필요
- 포트 번호 확인 (기본: 8080)

### 데이터 생성
- **시뮬레이션만**: 실제 DB에 저장되지 않음
- **미리보기 용도**: 개발자가 데이터 구조 확인
- **실제 저장**: 백엔드 API 구현 후 사용

### 학번 고유성
- 고유 번호(000~999)는 랜덤 생성
- 실제 구현 시 DB 중복 체크 필요

## 🔜 향후 개선 사항

### 실제 API 연동
```javascript
// 현재: 시뮬레이션만
function generateStudentPreview() {
    // 프론트엔드에서 데이터 생성
}

// 향후: 실제 API 호출
async function registerStudent() {
    const data = { /* 입력 데이터 */ };
    const response = await fetch('/api/admin/users/students', {
        method: 'POST',
        headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify(data)
    });
    // 실제 DB에 저장
}
```

### 추가 기능
- [ ] 엑셀 파일 업로드 (대량 등록)
- [ ] 등록 이력 조회
- [ ] 사용자 검색
- [ ] 학생 정보 수정
- [ ] 시설 예약 연동

## 📱 접근성

### 반응형 디자인
- 데스크톱: 최적화됨
- 태블릿: 2단 레이아웃
- 모바일: 1단 레이아웃

### 브라우저 호환성
- ✅ Chrome
- ✅ Edge
- ✅ Firefox
- ✅ Safari

## 🎓 학습 자료

이 테스트 페이지는 다음을 이해하는데 도움이 됩니다:

1. **학번 체계**: YYYY-ABC-DE-FGH 형식
2. **테이블 구조**: USER_TBL, REGIST_TABLE, SERIAL_CODE_TABLE
3. **학부/학과 코드**: 실제 DB 코드 체계
4. **자동 생성**: 주소, 프로필 이미지 키
5. **API 응답**: JSON 형식과 상태 코드

---

**작성일**: 2025-10-14  
**파일**: `facility-user-test.html`  
**위치**: `backend/BlueCrab/` & `backend/BlueCrab/src/main/resources/static/`
