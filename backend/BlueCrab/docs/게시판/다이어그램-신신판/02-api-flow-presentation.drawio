<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" version="28.2.8">
  <diagram name="API Flow" id="api-flow">
    <mxGraphModel dx="679" dy="370" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="light-dark(#FFFFFF,#FFFFFF)" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="02. Blue-Crab LMS 게시판 API 플로우" style="text;html=1;strokeColor=#432D57;fillColor=#76608a;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="220" y="80" width="1100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="client" value="클라이언트&#xa;(React / 브라우저 콘솔)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=18;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="80" y="160" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=light-dark(#000000,#FF8000);entryX=0;entryY=0.5;entryDx=0;entryDy=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;" parent="1" source="client" target="jwt-token" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="290" y="200" as="sourcePoint" />
            <mxPoint x="350" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="jwt-token" value="JWT Bearer Token" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f08080;strokeColor=#800000;fontSize=16;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="360" y="175" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="arrow2" value="" style="endArrow=classic;html=1;rounded=0;strokeWidth=3;strokeColor=light-dark(#000000,#FF8000);exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;" parent="1" source="jwt-token" target="api-endpoints" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="550" y="200" as="sourcePoint" />
            <mxPoint x="610" y="200" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="api-endpoints" value="Spring Boot REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f08080;strokeColor=#800000;fontSize=20;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="620" y="175" width="280" height="50" as="geometry" />
        </mxCell>
        <mxCell id="board-crud-title" value="📝 게시글 CRUD API" style="text;html=1;strokeColor=#314354;fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="80" y="260" width="320" height="50" as="geometry" />
        </mxCell>
        <mxCell id="create-board" value="POST /api/boards/create" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontSize=16;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="330" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="create-request" value="Request:&#xa;boardTitle: &quot;제목&quot;&#xa;boardContent: &quot;내용&quot;&#xa;boardCode: 0-3&#xa;lecSerial?: &quot;ETH201&quot;" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d2691e;strokeColor=#8B4513;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="350" y="320" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="create-response" value="Response:&#xa;boardIdx: 123&#xa;boardTitle: &quot;제목&quot;&#xa;boardWriter: &quot;admin&quot;&#xa;success: true" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="580" y="320" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="read-board" value="POST /api/boards/list" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontSize=16;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="450" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="read-request" value="Request:&#xa;boardCode?: 0-3&#xa;lecSerial?: &quot;ETH201&quot;&#xa;page: 0&#xa;size: 10" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d2691e;strokeColor=#8B4513;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="350" y="440" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="read-response" value="Response:&#xa;content: [...]&#xa;totalElements: 50&#xa;totalPages: 5&#xa;number: 0" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="580" y="440" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="detail-board" value="POST /api/boards/detail" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontSize=16;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="80" y="570" width="240" height="50" as="geometry" />
        </mxCell>
        <mxCell id="detail-request" value="Request:&#xa;boardIdx: 123" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d2691e;strokeColor=#8B4513;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="350" y="570" width="200" height="70" as="geometry" />
        </mxCell>
        <mxCell id="detail-response" value="Response:&#xa;boardIdx: 123&#xa;boardTitle: &quot;제목&quot;&#xa;boardContent: &quot;내용&quot;&#xa;attachments: [...]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="580" y="560" width="200" height="110" as="geometry" />
        </mxCell>
        <mxCell id="attachment-title" value="📎 첨부파일 API (3단계 워크플로우)" style="text;html=1;strokeColor=#314354;fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=22;fontStyle=1;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="840" y="240" width="600" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step1-box" value="1️⃣ 게시글 생성" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8b4513;strokeColor=#5d2906;fontSize=18;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="840" y="310" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step1-api" value="POST /api/boards/create&#xa;→ boardIdx 반환" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffc0cb;strokeColor=#d8576b;fontSize=14;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="840" y="370" width="180" height="60" as="geometry" />
        </mxCell>
        <mxCell id="step2-box" value="2️⃣ 파일 업로드" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8b0000;strokeColor=#5d0000;fontSize=18;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1045" y="310" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step2-api" value="POST /api/board-attachments/upload/{boardIdx}&#xa;FormData: 파일 전송&#xa;→ attachmentIdx[] 반환" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffc0cb;strokeColor=#d8576b;fontSize=13;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1045" y="370" width="190" height="80" as="geometry" />
        </mxCell>
        <mxCell id="step3-box" value="3️⃣ 첨부파일 연결" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#4b0082;strokeColor=#2d004e;fontSize=18;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1260" y="310" width="180" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step3-api" value="POST /api/boards/link-attachments/{boardIdx}&#xa;attachmentIdxList: [...]&#xa;→ 연결 완료" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffc0cb;strokeColor=#d8576b;fontSize=13;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="1260" y="370" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="download-title" value="🗂️ 파일 다운로드 API" style="text;html=1;strokeColor=#314354;fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=20;fontStyle=1;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="840" y="460" width="300" height="45" as="geometry" />
        </mxCell>
        <mxCell id="download-api" value="POST /api/board-attachments/download" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8b0000;strokeColor=#5d0000;fontSize=16;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="840" y="520" width="300" height="50" as="geometry" />
        </mxCell>
        <mxCell id="download-request" value="Request:&#xa;attachmentIdx: 45" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d2691e;strokeColor=#8B4513;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="840" y="580" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="download-response" value="Response:&#xa;Blob 파일 데이터&#xa;브라우저 자동 다운로드" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="1000" y="580" width="140" height="70" as="geometry" />
        </mxCell>
        <mxCell id="info-api" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;POST /api/board-attachments/info&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#8b0000;strokeColor=#5d0000;fontSize=16;fontColor=#ffffff;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="1180" y="520" width="260" height="50" as="geometry" />
        </mxCell>
        <mxCell id="info-request" value="Request:&#xa;boardIdx: 123" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#d2691e;strokeColor=#8B4513;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="1180" y="580" width="120" height="70" as="geometry" />
        </mxCell>
        <mxCell id="info-response" value="Response:&#xa;attachmentIdx: 45&#xa;originalFileName: &quot;문서.pdf&quot;&#xa;fileSize: 1024" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=13;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="1320" y="580" width="120" height="90" as="geometry" />
        </mxCell>
        <mxCell id="board-codes" value="📋 게시판 코드&#xa;0: 학생공지 (공지사항)&#xa;1: 기타공지 (공지사항)&#xa;2: 기타공지 (질의응답)&#xa;3: 강의공지 (질의응답+과제)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b8860b;strokeColor=#704000;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="80" y="680" width="280" height="120" as="geometry" />
        </mxCell>
        <mxCell id="auth-info" value="🔐 인증 요구사항&#xa;• 모든 API는 JWT Bearer Token 필수&#xa;• Base64 인코딩 지원 (제목/내용)&#xa;• 강의공지 필수: lecSerial 제공" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d2691e;strokeColor=#8B4513;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="390" y="680" width="320" height="120" as="geometry" />
        </mxCell>
        <mxCell id="file-limits" value="📎 파일 제한사항&#xa;• 최대 5개 파일&#xa;• 각 파일 최대 15MB(작성)/20MB(업로드)&#xa;• 허용 타입: 13종의 확장자&#xa;• FormData 전송 필수" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#b8860b;strokeColor=#704000;fontSize=14;align=left;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="740" y="680" width="340" height="120" as="geometry" />
        </mxCell>
        <mxCell id="response-format" value="✅ 응답 형식&#xa;성공: { success: true, data: {...} }&#xa;실패: { success: false, message: &quot;오류&quot; }&#xa;페이징: { content: [...], totalElements, totalPages }" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffc0cb;strokeColor=#d8576b;fontSize=14;align=left;fontColor=#000000;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="1110" y="680" width="330" height="120" as="geometry" />
        </mxCell>
        <mxCell id="Xwyoj-RADdbCRts7sKpM-1" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=light-dark(#000000,#00CC00);strokeWidth=3;" parent="1" source="step1-box" target="step2-box" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="390" as="sourcePoint" />
            <mxPoint x="1050" y="340" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="Xwyoj-RADdbCRts7sKpM-2" value="" style="endArrow=classic;html=1;rounded=0;exitX=1;exitY=0.5;exitDx=0;exitDy=0;entryX=0;entryY=0.5;entryDx=0;entryDy=0;strokeColor=light-dark(#000000,#00CC00);strokeWidth=3;" parent="1" source="step2-box" target="step3-box" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="1000" y="400" as="sourcePoint" />
            <mxPoint x="1030" y="400" as="targetPoint" />
          </mxGeometry>
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
