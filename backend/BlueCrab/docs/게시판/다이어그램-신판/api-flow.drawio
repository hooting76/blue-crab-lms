<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" version="28.2.8">
  <diagram name="API Flow" id="api-flow">
    <mxGraphModel dx="1426" dy="777" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1169" pageHeight="827" background="light-dark(#FFFFFF,#FFFFFF)" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="Blue-Crab LMS 게시판 API 플로우" style="text;html=1;strokeColor=light-dark(#432D57,#524C58);fillColor=#76608a;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1;fontColor=#ffffff;strokeWidth=3;" parent="1" vertex="1">
          <mxGeometry x="300" y="60" width="569" height="40" as="geometry" />
        </mxCell>
        <mxCell id="client" value="클라이언트&#xa;(React / 브라우저 콘솔)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=14;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="50" y="120" width="180" height="80" as="geometry" />
        </mxCell>
        <mxCell id="jwt-token" value="JWT Bearer Token" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;strokeColor=#6F0000;fontSize=12;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="280" y="140" width="140" height="40" as="geometry" />
        </mxCell>
        <mxCell id="api-endpoints" value="Spring Boot REST API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;strokeColor=#6F0000;fontSize=16;fontStyle=1;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="480" y="120" width="200" height="80" as="geometry" />
        </mxCell>
        <mxCell id="board-crud-title" value="📝 게시글 CRUD API" style="text;html=1;strokeColor=light-dark(#314354,#3333FF);fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="50" y="220" width="250" height="30" as="geometry" />
        </mxCell>
        <mxCell id="create-board" value="POST /api/boards/create" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontSize=12;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="50" y="270" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="create-request" value="Request:&#xa;{&#xa;  boardTitle: &quot;제목&quot;,&#xa;  boardContent: &quot;내용&quot;,&#xa;  boardCode: 0-3,&#xa;  lecSerial?: &quot;ETH201&quot;&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a0522d;strokeColor=light-dark(#6D1F00,#906A5A);fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="280" y="270" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="create-response" value="Response:&#xa;{&#xa;  boardIdx: 123,&#xa;  boardTitle: &quot;제목&quot;,&#xa;  boardWriter: &quot;admin&quot;,&#xa;  success: true&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=light-dark(#432D57,#897E95);fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="460" y="270" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="read-board" value="POST /api/boards/list" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontSize=12;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="50" y="360" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="read-request" value="Request:&#xa;{&#xa;  boardCode?: 0-3,&#xa;  lecSerial?: &quot;ETH201&quot;,&#xa;  page: 0,&#xa;  size: 10&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a0522d;strokeColor=light-dark(#6D1F00,#906A5A);fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="280" y="370" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="read-response" value="Response:&#xa;{&#xa;  content: [...],&#xa;  totalElements: 50,&#xa;  totalPages: 5,&#xa;  number: 0&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=light-dark(#432D57,#897E95);fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="460" y="370" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="detail-board" value="POST /api/boards/detail" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#60a917;strokeColor=#2D7600;fontSize=12;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="50" y="450" width="180" height="40" as="geometry" />
        </mxCell>
        <mxCell id="detail-request" value="Request:&#xa;{&#xa;  boardIdx: 123&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a0522d;strokeColor=light-dark(#6D1F00,#906A5A);fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="280" y="470" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="detail-response" value="Response:&#xa;{&#xa;  boardIdx: 123,&#xa;  boardTitle: &quot;제목&quot;,&#xa;  boardContent: &quot;내용&quot;,&#xa;  attachments: [...]&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=light-dark(#432D57,#897E95);fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="460" y="470" width="150" height="90" as="geometry" />
        </mxCell>
        <mxCell id="attachment-title" value="📎 첨부파일 API (3단계 워크플로우)" style="text;html=1;strokeColor=light-dark(#314354,#3333FF);fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=18;fontStyle=1;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="700" y="201" width="400" height="30" as="geometry" />
        </mxCell>
        <mxCell id="step1" value="1️⃣ 게시글 생성" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#e57373;fontSize=12;fontStyle=1;fontColor=#1a1a1a;" parent="1" vertex="1">
          <mxGeometry x="650" y="251" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step1-detail" value="POST /api/boards/create&#xa;→ boardIdx 반환" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;strokeColor=#6F0000;fontSize=10;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="650" y="301" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step2" value="2️⃣ 파일 업로드" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#e57373;fontSize=12;fontStyle=1;fontColor=#1a1a1a;" parent="1" vertex="1">
          <mxGeometry x="800" y="251" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step2-detail" value="POST /api/board-attachments/upload/{boardIdx}&#xa;FormData로 전송&#xa;→ attachmentIdx[] 반환" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;strokeColor=#6F0000;fontSize=10;align=left;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="800" y="301" width="150" height="60" as="geometry" />
        </mxCell>
        <mxCell id="step3" value="3️⃣ 첨부파일 연결" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffcdd2;strokeColor=#e57373;fontSize=12;fontStyle=1;fontColor=#1a1a1a;" parent="1" vertex="1">
          <mxGeometry x="980" y="251" width="120" height="40" as="geometry" />
        </mxCell>
        <mxCell id="step3-detail" value="POST /api/boards/link-attachments/{boardIdx}&#xa;{attachmentIdxList: [...]}&#xa;→ 연결 완료" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a20025;strokeColor=#6F0000;fontSize=10;align=left;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="980" y="301" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="download-title" value="📥 파일 다운로드 API" style="text;html=1;strokeColor=light-dark(#314354,#3333FF);fillColor=#647687;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;fontStyle=1;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="650" y="377" width="200" height="30" as="geometry" />
        </mxCell>
        <mxCell id="download-api" value="POST /api/board-attachments/download" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor=#9c27b0;fontSize=12;fontColor=#1a1a1a;" parent="1" vertex="1">
          <mxGeometry x="650" y="420" width="230" height="40" as="geometry" />
        </mxCell>
        <mxCell id="download-request" value="Request:&#xa;{&#xa;  attachmentIdx: 45&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a0522d;strokeColor=#6D1F00;fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="650" y="470" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="download-response" value="Response:&#xa;Blob 파일 데이터&#xa;브라우저 자동 다운로드" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="760" y="470" width="120" height="60" as="geometry" />
        </mxCell>
        <mxCell id="info-api" value="POST /api/board-attachments/info" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1bee7;strokeColor=#9c27b0;fontSize=12;fontColor=#1a1a1a;" parent="1" vertex="1">
          <mxGeometry x="900" y="420" width="240" height="40" as="geometry" />
        </mxCell>
        <mxCell id="info-request" value="Request:&#xa;{&#xa;  boardIdx: 123&#xa;}" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#a0522d;strokeColor=#6D1F00;fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="900" y="470" width="90" height="60" as="geometry" />
        </mxCell>
        <mxCell id="info-response" value="Response:&#xa;[{&#xa;  attachmentIdx: 45,&#xa;  originalFileName: &quot;문서.pdf&quot;,&#xa;  fileSize: 1024&#xa;}]" style="rounded=0;whiteSpace=wrap;html=1;fillColor=#76608a;strokeColor=#432D57;fontSize=10;align=left;fontColor=#ffffff;strokeWidth=2;" parent="1" vertex="1">
          <mxGeometry x="1000" y="470" width="140" height="90" as="geometry" />
        </mxCell>
        <mxCell id="board-codes" value="📋 게시판 코드&#xa;0: 학사공지 (관리자)&#xa;1: 행정공지 (관리자)&#xa;2: 기타공지 (관리자)&#xa;3: 강의공지 (관리자+교수)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f0a30a;strokeColor=#BD7000;fontSize=12;align=left;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="50" y="580" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="auth-notes" value="🔐 인증 요구사항&#xa;• 모든 API는 JWT Bearer Token 필수&#xa;• Base64 인코딩 지원 (제목/내용)&#xa;• 강의공지(3)는 lecSerial 필수" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#a0522d;strokeColor=#6D1F00;fontSize=12;align=left;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="300" y="580" width="250" height="100" as="geometry" />
        </mxCell>
        <mxCell id="file-constraints" value="📎 파일 제한사항&#xa;• 최대 5개 파일&#xa;• 각 파일 최대 10MB&#xa;• 허용 타입: 문서, 이미지&#xa;• FormData 전송 필수" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fa6800;strokeColor=#C73500;fontSize=12;align=left;fontColor=#000000;" parent="1" vertex="1">
          <mxGeometry x="600" y="580" width="200" height="100" as="geometry" />
        </mxCell>
        <mxCell id="response-format" value="📤 응답 형식&#xa;성공: { success: true, data: {...} }&#xa;실패: { success: false, message: &quot;오류&quot; }&#xa;페이징: { content: [...], totalElements, totalPages }" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e51400;strokeColor=#B20000;fontSize=12;align=left;fontColor=#ffffff;" parent="1" vertex="1">
          <mxGeometry x="850" y="580" width="280" height="100" as="geometry" />
        </mxCell>
        <mxCell id="arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#424242, #318735);strokeWidth=2;" parent="1" source="client" target="jwt-token" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=light-dark(#424242, #318735);strokeWidth=2;" parent="1" source="jwt-token" target="api-endpoints" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step-arrow1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=3;" parent="1" source="step1" target="step2" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="step-arrow2" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;strokeColor=#4caf50;strokeWidth=3;" parent="1" source="step2" target="step3" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
