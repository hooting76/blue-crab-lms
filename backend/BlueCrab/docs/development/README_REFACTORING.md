# BlueCrab ν”„λ΅μ νΈ λ¦¬ν©ν† λ§ μ™„λ£

## π“‹ λ¦¬ν©ν† λ§ λ‚΄μ—­

### 1. μ„¤μ • νμΌ μ™Έλ¶€ν™” λ° ν•λ“μ½”λ”© μ κ±°

#### μƒλ΅ μ¶”κ°€λ νμΌ:
- **`AppConfig.java`**: μ• ν”λ¦¬μΌ€μ΄μ… μ„¤μ •μ„ μ¤‘μ•™ν™”ν•μ—¬ κ΄€λ¦¬
  - JWT μ„¤μ • (λΉ„λ°€ν‚¤, ν† ν° λ§λ£μ‹κ°„)
  - λ³΄μ• μ„¤μ • (ν—μ© λ„λ©”μΈ, μ•”νΈν™” μ•κ³ λ¦¬μ¦)  
  - λ°μ΄ν„°λ² μ΄μ¤ μ„¤μ • (μ—°κ²°ν’€ ν¬κΈ°, νƒ€μ„μ•„μ›ƒ)

#### μμ •λ μ„¤μ •:
- **`application.properties`**: ν™κ²½λ³€μλ¥Ό ν†µν• μ™Έλ¶€ μ„¤μ • μ§€μ›
  ```properties
  # ν™κ²½λ³€μ λλ” κΈ°λ³Έκ°’ μ‚¬μ©
  app.jwt.secret=${JWT_SECRET:defaultValue}
  app.security.allowed-origins=${ALLOWED_ORIGINS:localhost}
  ```

### 2. κ³µν†µ μ‘λ‹µ κ°μ²΄ λ° μμ™Έ μ²λ¦¬ μ‹μ¤ν…

#### μƒλ΅ μ¶”κ°€λ ν΄λμ¤:
- **`ApiResponse<T>`**: λ¨λ“  API μ‘λ‹µμ μΌκ΄€μ„±μ„ μ„ν• κ³µν†µ DTO
  - success/failure μƒνƒ ν‘μ‹
  - λ©”μ‹μ§€μ™€ λ°μ΄ν„° ν¬ν•¨
  - νƒ€μ„μ¤νƒ¬ν”„ μλ™ μƒμ„±

- **`GlobalExceptionHandler`**: μ „μ—­ μμ™Έ μ²λ¦¬
  - RuntimeException, ValidationException μ²λ¦¬
  - μΈμ¦ μ‹¤ν¨, λ¦¬μ†μ¤ λ¶€μ¬ μμ™Έ μ²λ¦¬
  - μΌκ΄€λ μ—λ¬ μ‘λ‹µ ν•μ‹

- **`ResourceNotFoundException`**: λ¦¬μ†μ¤ λ¶€μ¬ μμ™Έ
- **`DuplicateResourceException`**: λ¦¬μ†μ¤ μ¤‘λ³µ μμ™Έ

### 3. Controller μ¤‘λ³µ μ½”λ“ μ κ±° λ° μ‘λ‹µ ν•μ‹ ν†µμΌ

#### λ¦¬ν©ν† λ§λ μ»¨νΈλ΅¤λ¬:
- **`UserController`**: 
  - try-catch λΈ”λ΅ μ κ±° (GlobalExceptionHandlerκ°€ μ²λ¦¬)
  - ApiResponse ν™μ©ν• μΌκ΄€λ μ‘λ‹µ ν•μ‹
  - μƒμ„Έν• JavaDoc μ£Όμ„ μ¶”κ°€

- **`AuthController`**: 
  - **π”„ [2025-08-26 μμ •]** λ¨λ“  μ—”λ“ν¬μΈνΈκ°€ ApiResponse ν•μ‹μΌλ΅ ν†µμΌλ¨
  - λ΅κ·ΈμΈ/ν† ν°κ°±μ‹ : `ApiResponse<LoginResponse>` ν•μ‹μΌλ΅ λ³€κ²½
  - μ‘λ‹µ μμ‹λ¥Ό ν¬ν•¨ν• μƒμ„Έν• JavaDoc μ£Όμ„ μ¶”κ°€
  - μμ™Έ μ²λ¦¬ λ΅μ§ μ κ±° (GlobalExceptionHandlerκ°€ μ²λ¦¬)

#### ν†µμΌλ μ‘λ‹µ ν•μ‹:
λ¨λ“  API μ—”λ“ν¬μΈνΈλ” λ‹¤μκ³Ό κ°™μ€ μΌκ΄€λ ν•μ‹μΌλ΅ μ‘λ‹µν•©λ‹λ‹¤:
```json
{
  "success": true,
  "message": "μ‘μ—…μ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μµλ‹λ‹¤.",
  "data": { /* μ‹¤μ  μ‘λ‹µ λ°μ΄ν„° */ },
  "timestamp": "2025-08-26T12:00:00Z"
}
```

μ΄μ  ν΄λΌμ΄μ–ΈνΈμ—μ„ λ¨λ“  API μ‘λ‹µμ„ λ™μΌν• λ°©μ‹μΌλ΅ μ²λ¦¬ν•  μ μμµλ‹λ‹¤.

### 4. Service κ³„μΈµ κ°μ„ 

#### `UserService` λ¦¬ν©ν† λ§:
- **ν—¬νΌ λ©”μ„λ“ λ¶„λ¦¬**:
  - `findUserById()`: IDλ΅ μ‚¬μ©μ μ΅°ν
  - `validateUserUniqueness()`: μ‚¬μ©μ μƒμ„± μ‹ μ¤‘λ³µ κ²€μ‚¬
  - `validateUserUniquenessForUpdate()`: μμ • μ‹ μ¤‘λ³µ κ²€μ‚¬
  - `updateUserFields()`: μ‚¬μ©μ ν•„λ“ μ—…λ°μ΄νΈ

- **μμ™Έ μ²λ¦¬ κ°μ„ **: 
  - μ»¤μ¤ν…€ μμ™Έ ν΄λμ¤ μ‚¬μ©
  - λ” λ…ν™•ν• μ—λ¬ λ©”μ‹μ§€

### 5. JWT μ ν‹Έλ¦¬ν‹° κ°μ„ 

#### `JwtUtil` λ¦¬ν©ν† λ§:
- AppConfigλ¥Ό ν†µν• μ„¤μ •κ°’ μ£Όμ…
- μƒμ„Έν• λ΅κΉ… μ¶”κ°€
- μμ™Έλ³„ μ„Έλ¶€ μ²λ¦¬ λ΅μ§ κµ¬ν„
- JavaDoc μ£Όμ„ μ¶”κ°€

### 6. Security μ„¤μ • κ°μ„ 

#### `SecurityConfig` λ¦¬ν©ν† λ§:
- AppConfigλ¥Ό ν†µν• μ„¤μ •κ°’ μ£Όμ…  
- CORS μ„¤μ • μƒμ„Έν™” (ν—¤λ”, λ©”μ„λ“, μΊμ‹ μ‹κ°„)
- ν—μ© λ„λ©”μΈ μ„¤μ • μ™Έλ¶€ν™”

## π”§ μ μ©λ κ°μ„ μ‚¬ν•­

### μ½”λ“ ν’μ§ ν–¥μƒ:
- **μ¤‘λ³µ μ½”λ“ μ κ±°**: Controllerμ λ°λ³µμ μΈ try-catch ν¨ν„΄ μ κ±°
- **κ΄€μ‹¬μ‚¬ λ¶„λ¦¬**: μμ™Έ μ²λ¦¬λ¥Ό GlobalExceptionHandlerλ΅ λ¶„λ¦¬
- **μ„¤μ • μ¤‘μ•™ν™”**: AppConfigλ¥Ό ν†µν• μ„¤μ • κ΄€λ¦¬

### μ μ§€λ³΄μμ„± ν–¥μƒ:
- **μΌκ΄€λ API μ‘λ‹µ**: ApiResponseλ¥Ό ν†µν• ν‘μ¤€ν™”λ μ‘λ‹µ ν•μ‹
- **λ…ν™•ν• μμ™Έ μ²λ¦¬**: μ»¤μ¤ν…€ μμ™Έλ΅ λ” μ •ν™•ν• μ—λ¬ μ •λ³΄ μ κ³µ
- **μ™Έλ¶€ μ„¤μ • μ§€μ›**: ν™κ²½λ³€μλ¥Ό ν†µν• μ μ—°ν• λ°°ν¬ ν™κ²½ μ§€μ›

### λ³΄μ• κ°•ν™”:
- **CORS μ„¤μ • κµ¬μ²΄ν™”**: ν•„μ”ν• ν—¤λ”μ™€ λ©”μ„λ“λ§ ν—μ©
- **μ„¤μ • μ™Έλ¶€ν™”**: λ―Όκ°ν• μ •λ³΄λ¥Ό ν™κ²½λ³€μλ΅ κ΄€λ¦¬

## π€ μ‚¬μ©λ²•

### ν™κ²½λ³€μ μ„¤μ •:
```bash
export JWT_SECRET="your-secret-key-here"
export ALLOWED_ORIGINS="http://localhost:3000,https://yourdomain.com"
export PASSWORD_ALGORITHM="SHA-256"
```

### μƒλ΅μ΄ API μ‘λ‹µ ν•μ‹:
```json
{
  "success": true,
  "message": "μ‘μ—…μ΄ μ„±κ³µμ μΌλ΅ μ™„λ£λμ—μµλ‹λ‹¤.",
  "data": { /* μ‘λ‹µ λ°μ΄ν„° */ },
  "timestamp": "2024-01-01T12:00:00Z"
}
```

## π“ μ¶”ν›„ κ°μ„  κ¶μ¥μ‚¬ν•­

1. **Argon2 ν¨μ¤μ›λ“ μΈμ½”λ” μ μ©**
2. **Userμ™€ UserTbl μ—”ν‹°ν‹° ν†µν•©**
3. **Redisλ¥Ό ν™μ©ν• JWT ν† ν° κ΄€λ¦¬**
4. **API λ²„μ €λ‹ μ μ©**
5. **Swagger/OpenAPI λ¬Έμ„ν™”**