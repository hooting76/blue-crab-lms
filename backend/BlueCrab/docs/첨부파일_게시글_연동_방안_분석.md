# ì²¨ë¶€íŒŒì¼-ê²Œì‹œê¸€ ì—°ë™ ë°©ì•ˆ ë¶„ì„

## ê°œìš”

BlueCrab LMS ì‹œìŠ¤í…œì—ì„œ ê²Œì‹œê¸€ ì‘ì„±/ìˆ˜ì • ì‹œ ì²¨ë¶€íŒŒì¼ ê¸°ëŠ¥ì„ ì—°ë™í•˜ëŠ” ë‘ ê°€ì§€ ë°©ì•ˆì„ ë¶„ì„í•œ ë¬¸ì„œì…ë‹ˆë‹¤.

í˜„ì¬ ë…ë¦½ì ìœ¼ë¡œ êµ¬í˜„ëœ ê²Œì‹œê¸€ ê´€ë¦¬ APIì™€ ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ APIë¥¼ íš¨ê³¼ì ìœ¼ë¡œ ì—°ë™í•˜ê¸° ìœ„í•œ ì„¤ê³„ ë°©ì•ˆì„ ì œì‹œí•˜ê³ , ê° ë°©ì•ˆì˜ ì¥ë‹¨ì ì„ ë¹„êµ ë¶„ì„í•©ë‹ˆë‹¤.

## í˜„ì¬ êµ¬í˜„ ìƒí™© (ì •í™•í•œ ê²€í†  ê²°ê³¼)

- **ê²Œì‹œê¸€ API**: 
  - `BoardCreateController.createBoard()` - JSON ë°©ì‹ìœ¼ë¡œ ê²Œì‹œê¸€ ìƒì„± âœ…
  - `BoardUpdateController.updateBoard()` - JSON ë°©ì‹ìœ¼ë¡œ ê²Œì‹œê¸€ ìˆ˜ì • âœ…
  - `BoardController.getBoardDetail()` - ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ âœ…
- **ì²¨ë¶€íŒŒì¼ API**: 
  - `BoardAttachmentUploadController.uploadFiles()` - ì™„ì „ êµ¬í˜„ ì™„ë£Œ âœ…
  - `POST /api/board-attachments/upload/{boardIdx}` ì—”ë“œí¬ì¸íŠ¸
  - MinIO ì—…ë¡œë“œ, JWT ê²€ì¦, íŒŒì¼ ê²€ì¦, ë¡¤ë°± ì²˜ë¦¬ ëª¨ë‘ êµ¬í˜„ë¨
- **ë°ì´í„°ë² ì´ìŠ¤**: 
  - `BoardAttachmentTbl` ì™„ì „ êµ¬í˜„ (ëª¨ë“  í•„ë“œ + validation)
  - `BOARD_IDX` ì™¸ë˜í‚¤ë¡œ ê²Œì‹œê¸€ê³¼ ì—°ê²°
  - `BoardAttachmentRepository` êµ¬í˜„ ì™„ë£Œ
- **ê¸°ì¡´ ìŠ¤í‚¤ë§ˆ**: `BOARD_TBL`ì— `BOARD_FILE VARCHAR(250)` ì»¬ëŸ¼ì´ ì´ë¯¸ ì¡´ì¬
- **ì„œë¹„ìŠ¤ ê³„ì¸µ**: `BoardAttachmentService.uploadFiles()` ì™„ì „ êµ¬í˜„ ì™„ë£Œ

---

## Aì•ˆ: ìˆœì°¨ ì²˜ë¦¬ ë°©ì‹ (Sequential Processing)

ê²Œì‹œê¸€ ì‘ì„±/ìˆ˜ì • API ë‚´ë¶€ì—ì„œ ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œë¥¼ í•¨ê»˜ ì²˜ë¦¬í•˜ëŠ” í†µí•© ë°©ì‹ì…ë‹ˆë‹¤.

### ğŸ”„ ì²˜ë¦¬ íë¦„

1. **í†µí•© ìš”ì²­ ìˆ˜ì‹ **
   - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²Œì‹œê¸€ ë°ì´í„°ì™€ ì²¨ë¶€íŒŒì¼ì„ í•˜ë‚˜ì˜ ìš”ì²­ìœ¼ë¡œ ì „ì†¡
   - ë°±ì—”ë“œì—ì„œ ì²¨ë¶€íŒŒì¼ í¬í•¨ ì—¬ë¶€ë¥¼ í™•ì¸

2. **ì¡°ê±´ë¶€ ì²˜ë¦¬**
   - **ì²¨ë¶€íŒŒì¼ ì—†ìŒ**: ê²Œì‹œê¸€ ì •ë³´ë§Œ ì €ì¥ (`BOARD_FILE = NULL`)
   - **ì²¨ë¶€íŒŒì¼ ìˆìŒ**: ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ ì™„ë£Œ í›„ ê²Œì‹œê¸€ ì €ì¥ (`BOARD_FILE = "123,124,125"` - ì‰¼í‘œ êµ¬ë¶„)

3. **íŠ¸ëœì­ì…˜ ì²˜ë¦¬**
   - `BOARD_TBL`ì— ê²Œì‹œê¸€ ì •ë³´ ì €ì¥
   - `BOARD_ATTACHMENT_TBL`ì— ì²¨ë¶€íŒŒì¼ ë©”íƒ€ë°ì´í„° ì €ì¥
   - `BOARD_TBL.BOARD_FILE`ì— ì²¨ë¶€íŒŒì¼ ID ëª©ë¡ ì €ì¥ (ì‰¼í‘œ êµ¬ë¶„, ìµœëŒ€ 5ê°œ)

### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

```sql
-- ê¸°ì¡´ BOARD_TBLì˜ BOARD_FILE ì»¬ëŸ¼ í™œìš© (ì´ë¯¸ ì¡´ì¬)
-- BOARD_FILE VARCHAR(250): ì²¨ë¶€íŒŒì¼ ATTACHMENT_IDXë“¤ì„ ì‰¼í‘œë¡œ êµ¬ë¶„í•˜ì—¬ ì €ì¥
-- ì˜ˆì‹œ: "123,124,125" (ìµœëŒ€ 5ê°œ ì²¨ë¶€íŒŒì¼ ì§€ì›)

-- ë°ì´í„° ì˜ˆì‹œ
-- ë‹¨ì¼ ì²¨ë¶€íŒŒì¼: BOARD_FILE = "123"
-- ë‹¤ì¤‘ ì²¨ë¶€íŒŒì¼: BOARD_FILE = "123,124,125,126,127"
```

### ğŸ”§ API ì„¤ê³„ (í˜„ì‹¤ì ì¸ êµ¬í˜„ ë°©ì•ˆ)

**ê¸°ì¡´ APIë¥¼ ìµœëŒ€í•œ í™œìš©í•˜ëŠ” í˜„ì‹¤ì ì¸ ë°©ì‹ì…ë‹ˆë‹¤:**

#### ğŸ¯ **ìµœì¢… ê¶Œì¥ ë°©ì‹: ê¸°ì¡´ API í™œìš© + ì—°ê²° API ì¶”ê°€**

```javascript
// í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ (ê¸°ì¡´ API 100% ì¬ì‚¬ìš©)
const createBoardWithAttachments = async (boardData, files) => {
    try {
        // 1. ê²Œì‹œê¸€ ìƒì„± (ê¸°ì¡´ API - JSON ë°©ì‹ ìœ ì§€)
        const boardResponse = await fetch('/api/boards/create', {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(boardData)
        });
        
        const boardResult = await boardResponse.json();
        const boardIdx = boardResult.board.boardIdx;
        
        // 2. ì²¨ë¶€íŒŒì¼ì´ ìˆìœ¼ë©´ ì—…ë¡œë“œ (ê¸°ì¡´ API - FormData ë°©ì‹)
        if (files && files.length > 0) {
            const formData = new FormData();
            files.forEach(file => formData.append('files', file));
            
            const attachmentResponse = await fetch(`/api/board-attachments/upload/${boardIdx}`, {
                method: 'POST',
                headers: { 'Authorization': `Bearer ${token}` },
                body: formData
            });
            
            const attachmentResult = await attachmentResponse.json();
            
            // 3. ê²Œì‹œê¸€ì— ì²¨ë¶€íŒŒì¼ ì—°ê²° (ìƒˆë¡œ ì¶”ê°€í•  API - JSON ë°©ì‹)
            const attachmentIds = attachmentResult.attachments.map(att => att.attachmentIdx);
            
            await fetch(`/api/boards/${boardIdx}/link-attachments`, {
                method: 'PATCH',
                headers: { 
                    'Content-Type': 'application/json',
                    'Authorization': `Bearer ${token}` 
                },
                body: JSON.stringify({ attachmentIds })
            });
        }
        
        return { success: true, boardIdx };
        
    } catch (error) {
        console.error('ê²Œì‹œê¸€ ìƒì„± ì‹¤íŒ¨:', error);
        return { success: false, error: error.message };
    }
};
```

#### ğŸ†• **ìƒˆë¡œ ì¶”ê°€í•  API (ë‹¨ í•˜ë‚˜ë§Œ í•„ìš”)**

```java
// BoardControllerì— ì¶”ê°€í•  ë©”ì„œë“œ
@PatchMapping("/{boardIdx}/link-attachments")
public ResponseEntity<?> linkAttachments(
    @PathVariable Integer boardIdx,
    @RequestBody AttachmentLinkRequest request,
    HttpServletRequest httpRequest) {
    
    try {
        // JWT í† í° ê²€ì¦ (ê¸°ì¡´ ë°©ì‹ê³¼ ë™ì¼)
        String authHeader = httpRequest.getHeader("Authorization");
        if (authHeader == null || !authHeader.startsWith("Bearer ")) {
            return ResponseEntity.status(401)
                .body(Map.of("success", false, "message", "í† í°ì´ í•„ìš”í•©ë‹ˆë‹¤."));
        }
        
        String token = authHeader.substring(7);
        if (!jwtUtil.validateToken(token)) {
            return ResponseEntity.status(401)
                .body(Map.of("success", false, "message", "ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤."));
        }
        
        // ê²Œì‹œê¸€ ì¡´ì¬ í™•ì¸
        Optional<BoardTbl> boardOpt = boardService.findById(boardIdx);
        if (!boardOpt.isPresent()) {
            return ResponseEntity.status(404)
                .body(Map.of("success", false, "message", "ê²Œì‹œê¸€ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
        }
        
        // BOARD_FILE ì—…ë°ì´íŠ¸ (ì‰¼í‘œ êµ¬ë¶„ìœ¼ë¡œ ì²¨ë¶€íŒŒì¼ ID ì €ì¥)
        BoardTbl board = boardOpt.get();
        board.setAttachmentIds(request.getAttachmentIds());
        boardService.updateBoard(board);
        
        logger.info("ì²¨ë¶€íŒŒì¼ ì—°ê²° ì™„ë£Œ - ê²Œì‹œê¸€ IDX: {}, ì²¨ë¶€íŒŒì¼ ìˆ˜: {}", 
                   boardIdx, request.getAttachmentIds().size());
        
        return ResponseEntity.ok(Map.of(
            "success", true,
            "message", "ì²¨ë¶€íŒŒì¼ì´ ì„±ê³µì ìœ¼ë¡œ ì—°ê²°ë˜ì—ˆìŠµë‹ˆë‹¤.",
            "attachmentCount", request.getAttachmentIds().size()
        ));
        
    } catch (Exception e) {
        logger.error("ì²¨ë¶€íŒŒì¼ ì—°ê²° ì‹¤íŒ¨ - ê²Œì‹œê¸€ IDX: {}, ì˜¤ë¥˜: {}", boardIdx, e.getMessage());
        return ResponseEntity.status(500)
            .body(Map.of("success", false, "message", "ì²¨ë¶€íŒŒì¼ ì—°ê²° ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤."));
    }
}

// ìš”ì²­ DTO
public class AttachmentLinkRequest {
    private List<Integer> attachmentIds;
    
    public List<Integer> getAttachmentIds() {
        return attachmentIds;
    }
    
    public void setAttachmentIds(List<Integer> attachmentIds) {
        this.attachmentIds = attachmentIds;
    }
}
```

#### ğŸ”§ **BoardTblì— ì¶”ê°€í•  ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ**

```java
// BoardTbl.javaì— ì¶”ê°€
public void setAttachmentIds(List<Integer> attachmentIds) {
    if (attachmentIds != null && !attachmentIds.isEmpty()) {
        this.boardFile = attachmentIds.stream()
            .map(String::valueOf)
            .collect(Collectors.joining(","));
    } else {
        this.boardFile = null;
    }
}

public List<Integer> getAttachmentIds() {
    if (boardFile == null || boardFile.trim().isEmpty()) {
        return new ArrayList<>();
    }
    return Arrays.stream(boardFile.split(","))
        .filter(id -> !id.trim().isEmpty())
        .map(id -> Integer.parseInt(id.trim()))
        .collect(Collectors.toList());
}
```

### ğŸ”„ ê°œì„ ëœ ì²˜ë¦¬ íë¦„

1. **ê²Œì‹œê¸€ ë¨¼ì € ìƒì„±**
   - ì²¨ë¶€íŒŒì¼ ì—†ì´ ê²Œì‹œê¸€ì„ ë¨¼ì € DBì— ì €ì¥
   - `BOARD_IDX` ìë™ ìƒì„±ìœ¼ë¡œ PK í™•ë³´

2. **ê¸°ì¡´ ì²¨ë¶€íŒŒì¼ API í™œìš©**
   - `BoardAttachmentService.uploadFiles(boardIdx, files)` í˜¸ì¶œ
   - ê¸°ì¡´ì— êµ¬í˜„ëœ MinIO ì—…ë¡œë“œ ë¡œì§ ê·¸ëŒ€ë¡œ í™œìš©

3. **ATTACHMENT_IDX ìˆ˜ì§‘ ë° ì—°ê²°**
   - ì—…ë¡œë“œëœ ì²¨ë¶€íŒŒì¼ë“¤ì˜ `ATTACHMENT_IDX` ìˆ˜ì§‘
   - `"123,124,125"` í˜•íƒœë¡œ ë¬¸ìì—´ ìƒì„±

4. **BOARD_FILE ì—…ë°ì´íŠ¸**
   - ê²Œì‹œê¸€ì˜ `BOARD_FILE` ì»¬ëŸ¼ì— ì²¨ë¶€íŒŒì¼ ID ëª©ë¡ ì €ì¥
   - ê²Œì‹œê¸€ ì •ë³´ ì—…ë°ì´íŠ¸

### âœ… Aì•ˆì˜ ì‹¤ì œ ì¥ì  (í˜„ì‹¤ì  ê²€í†  í›„)

- **ê¸°ì¡´ API 100% ì¬ì‚¬ìš©**: ì´ë¯¸ ì™„ì „ êµ¬í˜„ëœ APIë“¤ì„ ê·¸ëŒ€ë¡œ í™œìš©
- **JSON ì¸í„°í˜ì´ìŠ¤ ìœ ì§€**: ê²Œì‹œê¸€ APIëŠ” JSON ë°©ì‹ ì™„ì „ ìœ ì§€
- **ê°„ë‹¨í•œ ì¡°íšŒ**: ê²Œì‹œê¸€ ì¡°íšŒ ì‹œ BOARD_FILEì—ì„œ ì²¨ë¶€íŒŒì¼ IDë¥¼ ì§ì ‘ í™•ì¸
- **ê¸°ì¡´ ìŠ¤í‚¤ë§ˆ í™œìš©**: BOARD_TBLì˜ BOARD_FILE ì»¬ëŸ¼ì„ ë°”ë¡œ ì‚¬ìš© ê°€ëŠ¥
- **ë‹¤ì¤‘ ì²¨ë¶€íŒŒì¼ ì§€ì›**: ì‰¼í‘œ êµ¬ë¶„ìœ¼ë¡œ ìµœëŒ€ 5ê°œ ì²¨ë¶€íŒŒì¼ ì§€ì›
- **ìµœì†Œ ê°œë°œ ê³µìˆ˜**: ì—°ê²° API í•˜ë‚˜ë§Œ ì¶”ê°€í•˜ë©´ ì™„ë£Œ
- **ê²€ì¦ëœ ë¡œì§ í™œìš©**: ì´ë¯¸ í…ŒìŠ¤íŠ¸ëœ MinIO ì—…ë¡œë“œ ë° JWT ê²€ì¦ ë¡œì§ ì‚¬ìš©

### âŒ Aì•ˆì˜ ì‹¤ì œ ë‹¨ì  (í˜„ì‹¤ì  ê²€í†  í›„)

- **3ë‹¨ê³„ API í˜¸ì¶œ**: ê²Œì‹œê¸€ ìƒì„± â†’ ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ â†’ ì—°ê²°ì˜ ìˆœì°¨ ì²˜ë¦¬
- **í”„ë¡ íŠ¸ì—”ë“œ ë¡œì§ ì¦ê°€**: ì—ëŸ¬ ì²˜ë¦¬ ë° API í˜¸ì¶œ ìˆœì„œ ê´€ë¦¬ í•„ìš”
- **ë¬¸ìì—´ íŒŒì‹±**: BOARD_FILEì—ì„œ ì²¨ë¶€íŒŒì¼ ID ì¶”ì¶œ ì‹œ íŒŒì‹± í•„ìš”
- **ë¶€ë¶„ ì‹¤íŒ¨ ê°€ëŠ¥ì„±**: ì¤‘ê°„ ë‹¨ê³„ ì‹¤íŒ¨ ì‹œ ì¼ê´€ì„± ë¬¸ì œ (ë‹¨, ê° APIì—ì„œ ê°œë³„ ë¡¤ë°± ì²˜ë¦¬ë¨)

---

## Bì•ˆ: ë³‘ë ¬ ì²˜ë¦¬ ë°©ì‹ (Parallel Processing)

ê²Œì‹œê¸€ APIì™€ ì²¨ë¶€íŒŒì¼ APIë¥¼ ë…ë¦½ì ìœ¼ë¡œ í˜¸ì¶œí•˜ì—¬ ì—°ë™í•˜ëŠ” ë¶„ë¦¬í˜• ë°©ì‹ì…ë‹ˆë‹¤.

### ğŸ”„ ì²˜ë¦¬ íë¦„

1. **ë…ë¦½ì  API í˜¸ì¶œ**
   - í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ê²Œì‹œê¸€ ìƒì„± APIì™€ ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ APIë¥¼ ë³„ë„ë¡œ í˜¸ì¶œ
   - ê° APIëŠ” ì„œë¡œ ë…ë¦½ì ìœ¼ë¡œ ì²˜ë¦¬ë˜ë©° ê¸°ì¡´ êµ¬í˜„ì„ ê·¸ëŒ€ë¡œ í™œìš©

2. **ê²Œì‹œê¸€ ì¡´ì¬ ê²€ì¦**
   - ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ APIì—ì„œ ëŒ€ìƒ ê²Œì‹œê¸€ì˜ ì¡´ì¬ ì—¬ë¶€ë¥¼ ë¨¼ì € í™•ì¸
   - ê²Œì‹œê¸€ì´ ì •ìƒ ìƒì„±ëœ ê²½ìš°ì—ë§Œ ì²¨ë¶€íŒŒì¼ì„ ì‹¤ì œ ì €ì¥ì†Œì— ì €ì¥

3. **ê°œë³„ ë°ì´í„° ì €ì¥**
   - `BOARD_TBL`ì— ê²Œì‹œê¸€ ì •ë³´ ì €ì¥ (ê¸°ì¡´ êµ¬ì¡° ê·¸ëŒ€ë¡œ ìœ ì§€)
   - `BOARD_ATTACHMENT_TBL`ì— ì²¨ë¶€íŒŒì¼ ë©”íƒ€ë°ì´í„° ì €ì¥ (`BOARD_IDX` ì™¸ë˜í‚¤ë¡œ ì—°ê²°)

### ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°

```sql
-- ê¸°ì¡´ êµ¬ì¡° ìœ ì§€ (ë³€ê²½ ë¶ˆí•„ìš”)
-- BOARD_ATTACHMENT_TBL.BOARD_IDXë¡œ ì—°ê²°
```

### ğŸ”§ API ì„¤ê³„

```javascript
// í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë³‘ë ¬ í˜¸ì¶œ
const createBoard = async () => {
    // 1. ê²Œì‹œê¸€ ì‘ì„± API í˜¸ì¶œ
    const boardPromise = fetch('/api/boards/create', {
        method: 'POST',
        body: JSON.stringify(boardData)
    });
    
    // 2. ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ API í˜¸ì¶œ (ê²Œì‹œê¸€ ìƒì„± í›„)
    const boardResponse = await boardPromise;
    const { boardIdx } = await boardResponse.json();
    
    if (files.length > 0) {
        const formData = new FormData();
        files.forEach(file => formData.append('files', file));
        
        await fetch(`/api/board-attachments/upload/${boardIdx}`, {
            method: 'POST',
            body: formData
        });
    }
};
```

```java
// BoardAttachmentServiceì— ê²Œì‹œê¸€ ì¡´ì¬ ê²€ì¦ ë¡œì§ ì¶”ê°€
public List<BoardAttachmentTbl> uploadFiles(Integer boardIdx, List<MultipartFile> files) {
    // 1. ê²Œì‹œê¸€ ì¡´ì¬ ì—¬ë¶€ í™•ì¸
    if (!boardService.existsById(boardIdx)) {
        throw new IllegalArgumentException("ì¡´ì¬í•˜ì§€ ì•ŠëŠ” ê²Œì‹œê¸€ì…ë‹ˆë‹¤: " + boardIdx);
    }
    
    // 2. ì²¨ë¶€íŒŒì¼ ì—…ë¡œë“œ ì²˜ë¦¬
    return processFileUpload(boardIdx, files);
}
```

### âœ… ì¥ì 

- **ê¸°ì¡´ êµ¬ì¡° ìœ ì§€**: ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆë‚˜ API ì¸í„°í˜ì´ìŠ¤ ë³€ê²½ì´ ë¶ˆí•„ìš”
- **ë‹¤ì¤‘ ì²¨ë¶€íŒŒì¼ ì§€ì›**: ì—¬ëŸ¬ ê°œì˜ ì²¨ë¶€íŒŒì¼ì„ ìì—°ìŠ¤ëŸ½ê²Œ ì§€ì› ê°€ëŠ¥
- **API ë…ë¦½ì„±**: ê¸°ì¡´ ê²Œì‹œê¸€ APIì™€ ì²¨ë¶€íŒŒì¼ APIë¥¼ ê·¸ëŒ€ë¡œ í™œìš©
- **í™•ì¥ì„±**: ë‹¤ë¥¸ ê¸°ëŠ¥ì—ì„œë„ ì²¨ë¶€íŒŒì¼ ì‹œìŠ¤í…œì„ ì¬ì‚¬ìš©í•  ìˆ˜ ìˆìŒ
- **ìœ ì§€ë³´ìˆ˜ì„±**: ê° ê¸°ëŠ¥ì´ ë…ë¦½ì ìœ¼ë¡œ ê´€ë¦¬ë˜ì–´ ìœ ì§€ë³´ìˆ˜ê°€ ìš©ì´

### âŒ ë‹¨ì 

- **ë™ê¸°í™” ë³µì¡ì„±**: ë‘ ê°œì˜ ë…ë¦½ì ì¸ API ê°„ íƒ€ì´ë° ì´ìŠˆ ì²˜ë¦¬ í•„ìš”
- **ì—ëŸ¬ ì²˜ë¦¬**: ë¶€ë¶„ ì‹¤íŒ¨ ìƒí™©ì— ëŒ€í•œ ë¡¤ë°± ë¡œì§ì´ ë³µì¡í•¨
- **í”„ë¡ íŠ¸ì—”ë“œ ë³µì¡ì„±**: í´ë¼ì´ì–¸íŠ¸ì—ì„œ ë‘ APIì˜ í˜¸ì¶œ ìˆœì„œì™€ ì—ëŸ¬ ì²˜ë¦¬ ê´€ë¦¬ í•„ìš”
- **ë°ì´í„° ì¼ê´€ì„±**: íŠ¸ëœì­ì…˜ì´ ë¶„ë¦¬ë˜ì–´ ì¼ì‹œì  ë¶ˆì¼ì¹˜ ìƒíƒœ ë°œìƒ ê°€ëŠ¥

---

## ë°©ì•ˆ ë¹„êµ ë¶„ì„

ë‘ ë°©ì•ˆì˜ ì£¼ìš” íŠ¹ì§•ì„ ê°ê´€ì ìœ¼ë¡œ ë¹„êµí•œ í‘œì…ë‹ˆë‹¤.

| í‰ê°€ í•­ëª© | Aì•ˆ (ìˆœì°¨ ì²˜ë¦¬) | Bì•ˆ (ë³‘ë ¬ ì²˜ë¦¬) |
|-----------|-----------------|-----------------|
| **DB ìŠ¤í‚¤ë§ˆ ë³€ê²½** | ë¶ˆí•„ìš” (BOARD_FILE ì»¬ëŸ¼ ì´ë¯¸ ì¡´ì¬) | ë¶ˆí•„ìš” |
| **ì²¨ë¶€íŒŒì¼ ê°œìˆ˜** | ë‹¤ì¤‘ íŒŒì¼ ì§€ì› (ì‰¼í‘œ êµ¬ë¶„, ìµœëŒ€ 5ê°œ) | ë‹¤ì¤‘ íŒŒì¼ ì§€ì› |
| **API ì¸í„°í˜ì´ìŠ¤ ë³€ê²½** | ê²Œì‹œê¸€ API ìˆ˜ì • í•„ìš” | ê¸°ì¡´ API ê·¸ëŒ€ë¡œ ìœ ì§€ |
| **ë°ì´í„° ì¼ê´€ì„±** | ë†’ìŒ (ë‹¨ì¼ íŠ¸ëœì­ì…˜) | ë³´í†µ (ë³„ë„ ê²€ì¦ ë¡œì§ í•„ìš”) |
| **êµ¬í˜„ ë³µì¡ë„** | ì¤‘ê°„ | ë†’ìŒ |
| **ì‹œìŠ¤í…œ í™•ì¥ì„±** | ë³´í†µ | ë†’ìŒ |
| **ìœ ì§€ë³´ìˆ˜ ë‚œì´ë„** | ë³´í†µ | ì–´ë ¤ì›€ |
| **ê°œë°œ ê³µìˆ˜** | ì¤‘ê°„ | ë†’ìŒ |
| **ì²¨ë¶€íŒŒì¼ ì¡°íšŒ** | ë¹ ë¦„ (BOARD_FILEì—ì„œ ì§ì ‘) | ëŠë¦¼ (JOIN ë˜ëŠ” ë³„ë„ ì¡°íšŒ) |

---

## ê¶Œì¥ ë°©ì•ˆ ë° êµ¬í˜„ ì „ëµ

### ğŸ¯ **ê¶Œì¥ ë°©ì•ˆ ì¬ê²€í† **

**Aì•ˆê³¼ Bì•ˆ ëª¨ë‘ ë‹¤ì¤‘ ì²¨ë¶€íŒŒì¼ì„ ì§€ì›í•  ìˆ˜ ìˆë‹¤ëŠ” ì ì„ ê³ ë ¤í•˜ë©´, ê° ë°©ì•ˆì˜ ì¥ë‹¨ì ì´ ë‹¤ì‹œ í‰ê°€ë©ë‹ˆë‹¤:**

**Aì•ˆ (ìˆœì°¨ ì²˜ë¦¬)ì˜ ìƒˆë¡œìš´ ì¥ì :**

- **ë¹ ë¥¸ ì²¨ë¶€íŒŒì¼ ì¡°íšŒ**: BOARD_FILE ì»¬ëŸ¼ì—ì„œ ì§ì ‘ ì²¨ë¶€íŒŒì¼ ID ëª©ë¡ì„ ì–»ì„ ìˆ˜ ìˆìŒ
- **ë‹¨ìˆœí•œ ë°ì´í„° ëª¨ë¸**: ê²Œì‹œê¸€ ì¡°íšŒ ì‹œ ì¶”ê°€ JOINì´ë‚˜ ë³„ë„ ì¿¼ë¦¬ ë¶ˆí•„ìš”
- **íŠ¸ëœì­ì…˜ ì¼ê´€ì„±**: ê²Œì‹œê¸€ê³¼ ì²¨ë¶€íŒŒì¼ì´ ë™ì‹œì— ìƒì„±/ë¡¤ë°±ë¨

**Bì•ˆ (ë³‘ë ¬ ì²˜ë¦¬)ì˜ ì¥ì :**

- **ê¸°ì¡´ API ìœ ì§€**: í˜„ì¬ êµ¬í˜„ëœ APIë“¤ì„ ê·¸ëŒ€ë¡œ í™œìš©
- **ë†’ì€ í™•ì¥ì„±**: ë‹¤ë¥¸ ê¸°ëŠ¥ì—ì„œë„ ì²¨ë¶€íŒŒì¼ ì‹œìŠ¤í…œ ì¬ì‚¬ìš© ê°€ëŠ¥
- **ë…ë¦½ì  ê´€ë¦¬**: ê° ê¸°ëŠ¥ì´ ë…ë¦½ì ìœ¼ë¡œ ê°œë°œ/ìœ ì§€ë³´ìˆ˜ ê°€ëŠ¥

### ğŸ’¡ **ìµœì¢… ê¶Œì¥: Aì•ˆ (ê¸°ì¡´ API í™œìš© ë°©ì‹)**

**ì „ì²´ ê²€í†  ê²°ê³¼, Aì•ˆì´ ê°€ì¥ í˜„ì‹¤ì ì´ê³  íš¨ìœ¨ì ì…ë‹ˆë‹¤.**

**ì„ íƒ ì´ìœ :**

1. **ê¸°ì¡´ íˆ¬ì ë³´í˜¸**: ì´ë¯¸ ì™„ì „ êµ¬í˜„ëœ APIì™€ ì„œë¹„ìŠ¤ ë¡œì§ì„ ê·¸ëŒ€ë¡œ í™œìš©
2. **ìµœì†Œ ê°œë°œ ê³µìˆ˜**: ì—°ê²° API í•˜ë‚˜ì™€ ìœ í‹¸ë¦¬í‹° ë©”ì„œë“œ ëª‡ ê°œë§Œ ì¶”ê°€
3. **JSON ì¸í„°í˜ì´ìŠ¤ ìœ ì§€**: ê²Œì‹œê¸€ APIì˜ ê¸°ì¡´ JSON ë°©ì‹ ì™„ì „ ë³´ì¡´
4. **ì„±ëŠ¥ ìš°ìœ„**: BOARD_FILEì—ì„œ ì§ì ‘ ì²¨ë¶€íŒŒì¼ ID ì¡°íšŒë¡œ ë¹ ë¥¸ ì„±ëŠ¥
5. **ê²€ì¦ëœ ì•ˆì •ì„±**: ì´ë¯¸ í…ŒìŠ¤íŠ¸ëœ ì—…ë¡œë“œ ë¡œì§ê³¼ JWT ê²€ì¦ í™œìš©

### ğŸ“‹ **Aì•ˆ êµ¬í˜„ ê°€ì´ë“œ (ì‹¤ì œ ì‘ì—… ëª©ë¡)**

1. **BoardTbl.java ìˆ˜ì •** (5ë¶„)
   - `setAttachmentIds()`, `getAttachmentIds()` ë©”ì„œë“œ ì¶”ê°€

2. **BoardController.java ìˆ˜ì •** (15ë¶„)
   - `linkAttachments()` API í•˜ë‚˜ë§Œ ì¶”ê°€
   - JWT ê²€ì¦ ë¡œì§ í¬í•¨

3. **AttachmentLinkRequest.java ìƒì„±** (3ë¶„)
   - ê°„ë‹¨í•œ DTO í´ë˜ìŠ¤ ìƒì„±

4. **í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„** (30ë¶„)
   - ê¸°ì¡´ API í˜¸ì¶œ ì½”ë“œì— ì—°ê²° API í˜¸ì¶œ ì¶”ê°€
   - ì—ëŸ¬ ì²˜ë¦¬ ë¡œì§ ì¶”ê°€

**ì´ ì˜ˆìƒ ê°œë°œ ì‹œê°„: 1ì‹œê°„ ì´ë‚´**

---

## ê²°ë¡ 

**BOARD_FILE ì»¬ëŸ¼ì— ì‰¼í‘œ êµ¬ë¶„ìœ¼ë¡œ ë‹¤ì¤‘ ATTACHMENT_IDXë¥¼ ì €ì¥í•  ìˆ˜ ìˆë‹¤ëŠ” ì **ì„ ê³ ë ¤í•˜ë©´, Aì•ˆ(ìˆœì°¨ ì²˜ë¦¬)ì´ ì„±ëŠ¥ê³¼ êµ¬í˜„ ë³µì¡ë„ ë©´ì—ì„œ ë” ìœ ë¦¬í•©ë‹ˆë‹¤.

ì´ ë°©ì‹ì„ í†µí•´ ê¸°ì¡´ ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡°ë¥¼ ìµœëŒ€í•œ í™œìš©í•˜ë©´ì„œë„ ë‹¤ì¤‘ ì²¨ë¶€íŒŒì¼ ê¸°ëŠ¥ì„ íš¨ìœ¨ì ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆì„ ê²ƒìœ¼ë¡œ íŒë‹¨ë©ë‹ˆë‹¤.
