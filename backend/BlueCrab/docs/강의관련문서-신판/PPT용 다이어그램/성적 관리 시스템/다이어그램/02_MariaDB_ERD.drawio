<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/141.0.0.0 Safari/537.36" version="28.2.5">
  <diagram name="강의 관리 DB ERD" id="lecture-db-erd">
    <mxGraphModel dx="1678" dy="914" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="#FFFFFF" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="title" value="강의·성적 관리 시스템 - MariaDB ERD" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=32;fontStyle=1;fontColor=#1A1A1A;" parent="1" vertex="1">
          <mxGeometry x="560" y="50" width="800" height="60" as="geometry" />
        </mxCell>
        <mxCell id="note" value="JSON 기반 설계: ENROLLMENT_DATA (출석·성적), ASSIGNMENT_DATA (과제·제출)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=2;fontSize=16;fontColor=#E65100;fontStyle=1;" parent="1" vertex="1">
          <mxGeometry x="560" y="120" width="800" height="60" as="geometry" />
        </mxCell>
        </mxCell>
        
        <!-- USER_TBL -->
        <mxCell id="userTable" value="👤 USER_TBL" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=40;fillColor=#E57373;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;strokeColor=#B71C1C;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="200" y="230" width="300" height="360" as="geometry" />
        </mxCell>
        <mxCell id="userPk" value="🔑 USER_IDX (PK)" style="text;strokeColor=#B71C1C;fillColor=#FFCDD2;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#000000;fontSize=15;fontStyle=1;" parent="userTable" vertex="1">
          <mxGeometry y="40" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="userCode" value="USER_CODE (학번/교번)" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="80" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="userName" value="USER_NAME" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="120" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="userEmail" value="USER_EMAIL" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="160" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="userPw" value="USER_PW" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="200" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="userStudent" value="USER_STUDENT (0=학생, 1=교수)" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="240" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="userPhone" value="USER_PHONE" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="280" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="profileImage" value="PROFILE_IMAGE_KEY" style="text;strokeColor=#B71C1C;fillColor=#E57373;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="userTable" vertex="1">
          <mxGeometry y="320" width="300" height="40" as="geometry" />
        </mxCell>

        <!-- LEC_TBL -->
        <mxCell id="lecTable" value="📖 LEC_TBL" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=40;fillColor=#64B5F6;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;strokeColor=#1976D2;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="1420" y="230" width="320" height="360" as="geometry" />
        </mxCell>
        <mxCell id="lecPk" value="🔑 LEC_IDX (PK)" style="text;strokeColor=#1976D2;fillColor=#BBDEFB;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#000000;fontSize=15;fontStyle=1;" parent="lecTable" vertex="1">
          <mxGeometry y="40" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecSerial" value="LEC_SERIAL (강의코드)" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="80" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecTitle" value="LEC_TIT (강의명)" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="120" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecProf" value="LEC_PROF (교수 USER_IDX)" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="160" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecPoint" value="LEC_POINT (학점)" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="200" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecTime" value="LEC_TIME (월1월2수3수4)" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="240" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecMany" value="LEC_MANY (최대인원)" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="280" width="320" height="40" as="geometry" />
        </mxCell>
        <mxCell id="lecYear" value="LEC_YEAR / LEC_SEMESTER" style="text;strokeColor=#1976D2;fillColor=#64B5F6;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="lecTable" vertex="1">
          <mxGeometry y="320" width="320" height="40" as="geometry" />
        </mxCell>

        <!-- ENROLLMENT_EXTENDED_TBL -->
        <mxCell id="enrollTable" value="📦 ENROLLMENT_EXTENDED_TBL" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=50;fillColor=#81C784;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;strokeColor=#388E3C;strokeWidth=4;fontColor=#FFFFFF;fontSize=19;" parent="1" vertex="1">
          <mxGeometry x="750" y="230" width="450" height="290" as="geometry" />
        </mxCell>
        <mxCell id="enrollPk" value="🔑 ENROLLMENT_IDX (PK)" style="text;strokeColor=#388E3C;fillColor=#C8E6C9;align=left;verticalAlign=middle;spacingLeft=10;fontColor=#000000;fontSize=16;fontStyle=1;" parent="enrollTable" vertex="1">
          <mxGeometry y="50" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="enrollUserFk" value="🔗 STUDENT_IDX (FK → USER_TBL.USER_IDX)" style="text;strokeColor=#388E3C;fillColor=#81C784;align=left;verticalAlign=middle;spacingLeft=10;fontColor=#FFFFFF;fontSize=14;" parent="enrollTable" vertex="1">
          <mxGeometry y="90" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="enrollLecFk" value="🔗 LEC_IDX (FK → LEC_TBL.LEC_IDX)" style="text;strokeColor=#388E3C;fillColor=#81C784;align=left;verticalAlign=middle;spacingLeft=10;fontColor=#FFFFFF;fontSize=14;" parent="enrollTable" vertex="1">
          <mxGeometry y="130" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="enrollJson" value="⭐ ENROLLMENT_DATA : LONGTEXT (JSON)" style="text;strokeColor=#388E3C;fillColor=#81C784;align=left;verticalAlign=middle;spacingLeft=10;fontColor=#FFFFFF;fontSize=15;fontStyle=1;" parent="enrollTable" vertex="1">
          <mxGeometry y="170" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="enrollNotes" value="※ JSON: {enrollment, attendance, grade}" style="text;strokeColor=#388E3C;fillColor=#81C784;align=left;verticalAlign=middle;spacingLeft=10;fontColor=#FFFFFF;fontSize=13;fontStyle=2;" parent="enrollTable" vertex="1">
          <mxGeometry y="210" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="enrollNotes2" value="※ 출석·성적 모두 JSON에 저장" style="text;strokeColor=#388E3C;fillColor=#81C784;align=left;verticalAlign=middle;spacingLeft=10;fontColor=#FFFFFF;fontSize=13;fontStyle=2;" parent="enrollTable" vertex="1">
          <mxGeometry y="250" width="450" height="40" as="geometry" />
        </mxCell>

        <!-- ASSIGNMENT_EXTENDED_TBL -->
        <mxCell id="assignTable" value="📝 ASSIGNMENT_EXTENDED_TBL" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=45;fillColor=#CE93D8;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;strokeColor=#7B1FA2;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="750" y="620" width="450" height="230" as="geometry" />
        </mxCell>
        <mxCell id="assignPk" value="🔑 ASSIGNMENT_IDX (PK)" style="text;strokeColor=#7B1FA2;fillColor=#E1BEE7;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#000000;fontSize=15;fontStyle=1;" parent="assignTable" vertex="1">
          <mxGeometry y="45" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="assignLecFk" value="🔗 LEC_IDX (FK → LEC_TBL.LEC_IDX)" style="text;strokeColor=#7B1FA2;fillColor=#CE93D8;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="assignTable" vertex="1">
          <mxGeometry y="85" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="assignData" value="⭐ ASSIGNMENT_DATA : LONGTEXT (JSON)" style="text;strokeColor=#7B1FA2;fillColor=#CE93D8;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=15;fontStyle=1;" parent="assignTable" vertex="1">
          <mxGeometry y="125" width="450" height="40" as="geometry" />
        </mxCell>
        <mxCell id="assignNote" value="※ JSON: {assignment: {...}, submissions: [...]}" style="text;strokeColor=#7B1FA2;fillColor=#CE93D8;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=13;fontStyle=2;" parent="assignTable" vertex="1">
          <mxGeometry y="165" width="450" height="35" as="geometry" />
        </mxCell>
        <mxCell id="assignNote2" value="※ 과제정보·제출·채점 모두 JSON에 저장" style="text;strokeColor=#7B1FA2;fillColor=#CE93D8;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=13;fontStyle=2;" parent="assignTable" vertex="1">
          <mxGeometry y="200" width="450" height="30" as="geometry" />
        </mxCell>

        <!-- FACULTY -->
        <mxCell id="facultyTable" value="🏛️ FACULTY" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=40;fillColor=#FFB74D;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;strokeColor=#F57C00;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="200" y="680" width="280" height="200" as="geometry" />
        </mxCell>
        <mxCell id="facultyPk" value="🔑 faculty_id (PK)" style="text;strokeColor=#F57C00;fillColor=#FFE0B2;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#000000;fontSize=15;fontStyle=1;" parent="facultyTable" vertex="1">
          <mxGeometry y="40" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="facultyCode" value="faculty_code (UNIQUE)" style="text;strokeColor=#F57C00;fillColor=#FFB74D;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="facultyTable" vertex="1">
          <mxGeometry y="80" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="facultyName" value="faculty_name (학부명)" style="text;strokeColor=#F57C00;fillColor=#FFB74D;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="facultyTable" vertex="1">
          <mxGeometry y="120" width="280" height="40" as="geometry" />
        </mxCell>
        <mxCell id="facultyCapacity" value="capacity (정원)" style="text;strokeColor=#F57C00;fillColor=#FFB74D;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="facultyTable" vertex="1">
          <mxGeometry y="160" width="280" height="40" as="geometry" />
        </mxCell>

        <!-- DEPARTMENT -->
        <mxCell id="deptTable" value="🏫 DEPARTMENT" style="swimlane;fontStyle=1;childLayout=stackLayout;horizontal=1;startSize=40;fillColor=#AED581;horizontalStack=0;resizeParent=1;resizeParentMax=0;resizeLast=0;collapsible=0;marginBottom=0;strokeColor=#689F38;strokeWidth=3;fontColor=#FFFFFF;fontSize=18;" parent="1" vertex="1">
          <mxGeometry x="1420" y="680" width="300" height="240" as="geometry" />
        </mxCell>
        <mxCell id="deptPk" value="🔑 dept_id (PK)" style="text;strokeColor=#689F38;fillColor=#DCEDC8;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#000000;fontSize=15;fontStyle=1;" parent="deptTable" vertex="1">
          <mxGeometry y="40" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="deptCode" value="dept_code" style="text;strokeColor=#689F38;fillColor=#AED581;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="deptTable" vertex="1">
          <mxGeometry y="80" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="deptName" value="dept_name (학과명)" style="text;strokeColor=#689F38;fillColor=#AED581;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="deptTable" vertex="1">
          <mxGeometry y="120" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="deptFacultyFk" value="🔗 faculty_id (FK → FACULTY)" style="text;strokeColor=#689F38;fillColor=#AED581;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="deptTable" vertex="1">
          <mxGeometry y="160" width="300" height="40" as="geometry" />
        </mxCell>
        <mxCell id="deptCapacity" value="capacity (정원)" style="text;strokeColor=#689F38;fillColor=#AED581;align=left;verticalAlign=middle;spacingLeft=8;fontColor=#FFFFFF;fontSize=14;" parent="deptTable" vertex="1">
          <mxGeometry y="200" width="300" height="40" as="geometry" />
        </mxCell>

        <!-- Relationships -->
        <mxCell id="relUserEnroll" value="1:N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeWidth=3;strokeColor=#4CAF50;fontColor=#1A1A1A;fontSize=16;fontStyle=1;endArrow=block;endFill=0;" parent="1" source="userTable" target="enrollTable" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="600" y="380" />
              <mxPoint x="600" y="380" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="relLecEnroll" value="1:N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeWidth=3;strokeColor=#4CAF50;fontColor=#1A1A1A;fontSize=16;fontStyle=1;endArrow=block;endFill=0;" parent="1" source="lecTable" target="enrollTable" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1300" y="380" />
              <mxPoint x="1300" y="380" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="relAssignLec" value="N:1" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeWidth=3;strokeColor=#7B1FA2;fontColor=#4A148C;fontSize=16;endArrow=block;endFill=0;dashed=1;" parent="1" source="assignTable" target="lecTable" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="1300" y="735" />
              <mxPoint x="1300" y="530" />
            </Array>
          </mxGeometry>
        </mxCell>
        
        <mxCell id="relFacultyDept" value="1:N" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;strokeWidth=3;strokeColor=#FF9800;fontColor=#1A1A1A;fontSize=16;fontStyle=1;endArrow=block;endFill=0;" parent="1" source="facultyTable" target="deptTable" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="600" y="800" />
              <mxPoint x="600" y="800" />
            </Array>
          </mxGeometry>
        </mxCell>

        <!-- Legend -->
        <mxCell id="legendBox" value="관계 요약&#xa;• USER (학생) 1명 ↔ ENROLLMENT 다수 (수강신청)&#xa;• LEC (강의) 1개 ↔ ENROLLMENT 다수 (수강생)&#xa;• LEC (강의) 1개 ↔ ASSIGNMENT 다수 (과제)&#xa;• FACULTY (학부) 1개 ↔ DEPARTMENT (학과) 다수&#xa;&#xa;JSON 데이터 구조:&#xa;• ENROLLMENT_DATA: 출석·성적 정보&#xa;• ASSIGNMENT_DATA: 과제·제출·채점 정보" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontColor=#000000;fontSize=14;align=left;verticalAlign=top;spacingLeft=15;spacingTop=10;" parent="1" vertex="1">
          <mxGeometry x="560" y="620" width="120" height="230" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
