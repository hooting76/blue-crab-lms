<mxfile host="app.diagrams.net" agent="Claude" version="28.2.5">
  <diagram name="성적 자동 계산 로직 + JSON 구조" id="grade-calculation">
    <mxGraphModel dx="2037" dy="1110" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1920" pageHeight="1080" background="#FFFFFF" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        
        <!-- 타이틀 -->
        <mxCell id="title" value="성적 자동 계산 로직 + JSON 구조" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=36;fontStyle=1;fontColor=#1A1A1A;" vertex="1" parent="1">
          <mxGeometry x="460" y="30" width="1000" height="70" as="geometry" />
        </mxCell>
        
        <!-- ========== 좌측: 계산 로직 플로우차트 ========== -->
        
        <mxCell id="left-title" value="⚙️ 자동 계산 로직 플로우" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;strokeWidth=3;fontSize=20;fontColor=#B71C1C;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="120" width="520" height="60" as="geometry" />
        </mxCell>
        
        <!-- 트리거 -->
        <mxCell id="trigger" value="🔔 트리거: GradeUpdateEvent 발행" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;strokeWidth=3;fontSize=16;fontColor=#B71C1C;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="210" width="360" height="60" as="geometry" />
        </mxCell>
        <mxCell id="trigger-detail" value="• 출석 승인 시&#xa;• 과제 채점 시" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#D32F2F;" vertex="1" parent="1">
          <mxGeometry x="140" y="280" width="320" height="40" as="geometry" />
        </mxCell>
        
        <!-- 화살표 1 -->
        <mxCell id="arrow1" value="" style="endArrow=block;html=1;strokeWidth=4;strokeColor=#D32F2F;endFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="320" as="sourcePoint" />
            <mxPoint x="300" y="360" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 1단계: 출석 점수 계산 -->
        <mxCell id="step1" value="1️⃣ 출석 점수 계산" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=3;fontSize=16;fontColor=#0D47A1;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="360" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step1-formula" value="&lt;font face=&quot;Courier New&quot;&gt;출석점수 = (출석횟수 × 출석만점 ÷ 전체세션) - (지각횟수 × 지각감점)&lt;br&gt;예: (50 × 120 ÷ 80) - (5 × 0.75) = 75.5점&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=1;fontSize=13;fontColor=#0D47A1;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="420" width="320" height="60" as="geometry" />
        </mxCell>
        
        <!-- 화살표 2 -->
        <mxCell id="arrow2" value="" style="endArrow=block;html=1;strokeWidth=4;strokeColor=#D32F2F;endFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="490" as="sourcePoint" />
            <mxPoint x="300" y="530" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 2단계: 과제 점수 합산 -->
        <mxCell id="step2" value="2️⃣ 과제 점수 합산" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=3;fontSize=16;fontColor=#F57F17;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="530" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step2-formula" value="&lt;font face=&quot;Courier New&quot;&gt;과제점수 = Σ assignments[i].score (null은 0으로 처리)&lt;br&gt;예: 45 + 0 + 0 = 45점&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=1;fontSize=13;fontColor=#F57F17;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="590" width="320" height="50" as="geometry" />
        </mxCell>
        
        <!-- 화살표 3 -->
        <mxCell id="arrow3" value="" style="endArrow=block;html=1;strokeWidth=4;strokeColor=#D32F2F;endFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="650" as="sourcePoint" />
            <mxPoint x="300" y="690" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 3단계: 총점 계산 -->
        <mxCell id="step3" value="3️⃣ 총점 계산" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;strokeWidth=3;fontSize=16;fontColor=#1B5E20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="690" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step3-formula" value="&lt;font face=&quot;Courier New&quot;&gt;총점 = 출석점수 + 과제점수&lt;br&gt;예: 75.5 + 45 = 120.5점&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#C8E6C9;strokeColor=#388E3C;strokeWidth=1;fontSize=13;fontColor=#1B5E20;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="750" width="320" height="50" as="geometry" />
        </mxCell>
        
        <!-- 화살표 4 -->
        <mxCell id="arrow4" value="" style="endArrow=block;html=1;strokeWidth=4;strokeColor=#D32F2F;endFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="810" as="sourcePoint" />
            <mxPoint x="300" y="850" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 4단계: 백분율 계산 -->
        <mxCell id="step4" value="4️⃣ 백분율 계산" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=3;fontSize=16;fontColor=#4A148C;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="850" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step4-formula" value="&lt;font face=&quot;Courier New&quot;&gt;백분율 = (총점 ÷ 총만점) × 100&lt;br&gt;총만점 = attendanceMaxScore + assignmentTotalScore&lt;br&gt;예: (120.5 ÷ 277) × 100 = 43.5%&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=1;fontSize=13;fontColor=#4A148C;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="910" width="320" height="70" as="geometry" />
        </mxCell>
        
        <!-- 화살표 5 -->
        <mxCell id="arrow5" value="" style="endArrow=block;html=1;strokeWidth=4;strokeColor=#D32F2F;endFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="990" as="sourcePoint" />
            <mxPoint x="300" y="1030" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 5단계: ENROLLMENT_DATA 업데이트 -->
        <mxCell id="step5" value="5️⃣ ENROLLMENT_DATA 업데이트" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=3;fontSize=16;fontColor=#E65100;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="1030" width="360" height="50" as="geometry" />
        </mxCell>
        <mxCell id="step5-detail" value="&lt;font face=&quot;Courier New&quot;&gt;• grade.attendanceScore.currentScore = 75.5&lt;br&gt;• grade.total.currentScore = 120.5&lt;br&gt;• grade.total.percentage = 43.5&lt;/font&gt;" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=1;fontSize=13;fontColor=#E65100;align=left;" vertex="1" parent="1">
          <mxGeometry x="140" y="1090" width="320" height="70" as="geometry" />
        </mxCell>
        
        <!-- 화살표 6 -->
        <mxCell id="arrow6" value="" style="endArrow=block;html=1;strokeWidth=4;strokeColor=#D32F2F;endFill=1;" edge="1" parent="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="300" y="1170" as="sourcePoint" />
            <mxPoint x="300" y="1210" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        
        <!-- 완료 -->
        <mxCell id="complete" value="✅ 완료: DB 저장" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=3;fontSize=16;fontColor=#1B5E20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="120" y="1210" width="360" height="60" as="geometry" />
        </mxCell>
        
        <!-- ========== 우측: JSON 구조 ========== -->
        
        <mxCell id="right-title" value="📦 ENROLLMENT_DATA JSON 구조" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=3;fontSize=20;fontColor=#4A148C;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="640" y="120" width="1240" height="60" as="geometry" />
        </mxCell>
        
        <!-- JSON 구조 박스 -->
        <mxCell id="json-box" value="" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FAFAFA;strokeColor=#9E9E9E;strokeWidth=2;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="640" y="200" width="1240" height="1070" as="geometry" />
        </mxCell>
        
        <!-- JSON 내용 -->
        <mxCell id="json-content" value="&lt;font face=&quot;Courier New&quot; style=&quot;font-size: 14px;&quot;&gt;{&lt;br&gt;  &lt;span style=&quot;color: #7B1FA2; font-weight: bold;&quot;&gt;&quot;gradeConfig&quot;&lt;/span&gt;: {  &lt;span style=&quot;color: #666;&quot;&gt;// 성적 구성 설정&lt;/span&gt;&lt;br&gt;    &quot;attendanceMaxScore&quot;: 120,  &lt;span style=&quot;color: #666;&quot;&gt;// 출석 만점&lt;/span&gt;&lt;br&gt;    &quot;latePenaltyPerSession&quot;: 0.75,  &lt;span style=&quot;color: #666;&quot;&gt;// 지각 1회당 감점&lt;/span&gt;&lt;br&gt;    &quot;assignmentTotalScore&quot;: 157,  &lt;span style=&quot;color: #F57C00; font-weight: bold;&quot;&gt;// 과제 총점 (자동 계산)&lt;/span&gt;&lt;br&gt;    &quot;totalMaxScore&quot;: 277,  &lt;span style=&quot;color: #F57C00; font-weight: bold;&quot;&gt;// 전체 만점 (자동 계산)&lt;/span&gt;&lt;br&gt;    &quot;configuredAt&quot;: &quot;2025-10-29 10:38:20&quot;&lt;br&gt;  },&lt;br&gt;&lt;br&gt;  &lt;span style=&quot;color: #1976D2; font-weight: bold;&quot;&gt;&quot;attendance&quot;&lt;/span&gt;: {  &lt;span style=&quot;color: #666;&quot;&gt;// 출석 데이터&lt;/span&gt;&lt;br&gt;    &quot;summary&quot;: {  &lt;span style=&quot;color: #666;&quot;&gt;// 요약 정보&lt;/span&gt;&lt;br&gt;      &quot;presentCount&quot;: 50,  &lt;span style=&quot;color: #666;&quot;&gt;// 출석 횟수&lt;/span&gt;&lt;br&gt;      &quot;lateCount&quot;: 5,  &lt;span style=&quot;color: #666;&quot;&gt;// 지각 횟수&lt;/span&gt;&lt;br&gt;      &quot;absentCount&quot;: 2,  &lt;span style=&quot;color: #666;&quot;&gt;// 결석 횟수&lt;/span&gt;&lt;br&gt;      &quot;totalSessions&quot;: 80,  &lt;span style=&quot;color: #666;&quot;&gt;// 전체 세션&lt;/span&gt;&lt;br&gt;      &quot;attendanceRate&quot;: 68.75,  &lt;span style=&quot;color: #666;&quot;&gt;// 출석률 (%)&lt;/span&gt;&lt;br&gt;      &quot;pendingCount&quot;: 0  &lt;span style=&quot;color: #666;&quot;&gt;// 승인 대기 중&lt;/span&gt;&lt;br&gt;    },&lt;br&gt;    &quot;sessions&quot;: [  &lt;span style=&quot;color: #666;&quot;&gt;// 승인된 출석 기록&lt;/span&gt;&lt;br&gt;      {&lt;br&gt;        &quot;sessionNumber&quot;: 1,&lt;br&gt;        &quot;status&quot;: &quot;PRESENT&quot;,  &lt;span style=&quot;color: #666;&quot;&gt;// 출석&lt;/span&gt;&lt;br&gt;        &quot;requestDate&quot;: &quot;2025-03-10 14:25:00&quot;,&lt;br&gt;        &quot;approvedAt&quot;: &quot;2025-03-10 14:30:00&quot;,&lt;br&gt;        &quot;approvedBy&quot;: 23  &lt;span style=&quot;color: #666;&quot;&gt;// 교수 USER_IDX&lt;/span&gt;&lt;br&gt;      },&lt;br&gt;      {&lt;br&gt;        &quot;sessionNumber&quot;: 2,&lt;br&gt;        &quot;status&quot;: &quot;LATE&quot;,  &lt;span style=&quot;color: #666;&quot;&gt;// 지각&lt;/span&gt;&lt;br&gt;        &quot;requestDate&quot;: &quot;2025-03-12 14:35:00&quot;,&lt;br&gt;        &quot;approvedAt&quot;: &quot;2025-03-12 14:40:00&quot;,&lt;br&gt;        &quot;approvedBy&quot;: 23&lt;br&gt;      }&lt;br&gt;      &lt;span style=&quot;color: #666;&quot;&gt;// ... 더 많은 세션들&lt;/span&gt;&lt;br&gt;    ],&lt;br&gt;    &quot;pendingRequests&quot;: []  &lt;span style=&quot;color: #666;&quot;&gt;// 승인 대기 출석 (비어있음)&lt;/span&gt;&lt;br&gt;  },&lt;br&gt;&lt;br&gt;  &lt;span style=&quot;color: #388E3C; font-weight: bold;&quot;&gt;&quot;grade&quot;&lt;/span&gt;: {  &lt;span style=&quot;color: #666;&quot;&gt;// 성적 데이터&lt;/span&gt;&lt;br&gt;    &quot;attendanceScore&quot;: {  &lt;span style=&quot;color: #666;&quot;&gt;// 출석 점수&lt;/span&gt;&lt;br&gt;      &lt;span style=&quot;color: #D32F2F; font-weight: bold;&quot;&gt;&quot;currentScore&quot;: 75.5&lt;/span&gt;,  &lt;span style=&quot;color: #D32F2F; font-weight: bold;&quot;&gt;// 현재 출석 점수 (자동 계산)&lt;/span&gt;&lt;br&gt;      &quot;latePenalty&quot;: -3.75,  &lt;span style=&quot;color: #666;&quot;&gt;// 지각 감점 (5 × 0.75)&lt;/span&gt;&lt;br&gt;      &quot;presentCount&quot;: 50,&lt;br&gt;      &quot;lateCount&quot;: 5,&lt;br&gt;      &quot;absentCount&quot;: 2,&lt;br&gt;      &quot;maxScore&quot;: 120.0&lt;br&gt;    },&lt;br&gt;    &quot;assignments&quot;: [  &lt;span style=&quot;color: #666;&quot;&gt;// 과제별 점수&lt;/span&gt;&lt;br&gt;      {&lt;br&gt;        &quot;assignmentIdx&quot;: 15,&lt;br&gt;        &quot;title&quot;: &quot;중간과제&quot;,&lt;br&gt;        &lt;span style=&quot;color: #388E3C; font-weight: bold;&quot;&gt;&quot;score&quot;: 45&lt;/span&gt;,  &lt;span style=&quot;color: #388E3C; font-weight: bold;&quot;&gt;// 채점 완료&lt;/span&gt;&lt;br&gt;        &quot;maxScore&quot;: 50,&lt;br&gt;        &quot;gradedAt&quot;: &quot;2025-02-16 10:00:00&quot;,&lt;br&gt;        &quot;feedback&quot;: &quot;잘했습니다.&quot;&lt;br&gt;      },&lt;br&gt;      {&lt;br&gt;        &quot;assignmentIdx&quot;: 16,&lt;br&gt;        &quot;title&quot;: &quot;기말과제&quot;,&lt;br&gt;        &lt;span style=&quot;color: #FF9800; font-weight: bold;&quot;&gt;&quot;score&quot;: null&lt;/span&gt;,  &lt;span style=&quot;color: #FF9800; font-weight: bold;&quot;&gt;// 미채점 (총점 계산 시 0으로 처리)&lt;/span&gt;&lt;br&gt;        &quot;maxScore&quot;: 107&lt;br&gt;      }&lt;br&gt;    ],&lt;br&gt;    &quot;total&quot;: {  &lt;span style=&quot;color: #666;&quot;&gt;// 총점&lt;/span&gt;&lt;br&gt;      &lt;span style=&quot;color: #D32F2F; font-weight: bold;&quot;&gt;&quot;currentScore&quot;: 120.5&lt;/span&gt;,  &lt;span style=&quot;color: #D32F2F; font-weight: bold;&quot;&gt;// 현재 총점 (자동 계산)&lt;/span&gt;&lt;br&gt;      &lt;span style=&quot;color: #D32F2F; font-weight: bold;&quot;&gt;&quot;percentage&quot;: 43.5&lt;/span&gt;,  &lt;span style=&quot;color: #D32F2F; font-weight: bold;&quot;&gt;// 백분율 (자동 계산)&lt;/span&gt;&lt;br&gt;      &quot;maxScore&quot;: 277.0&lt;br&gt;    },&lt;br&gt;    &lt;span style=&quot;color: #9E9E9E; font-weight: bold;&quot;&gt;&quot;letterGrade&quot;: null&lt;/span&gt;,  &lt;span style=&quot;color: #9E9E9E; font-weight: bold;&quot;&gt;// 최종 등급 (미배정)&lt;/span&gt;&lt;br&gt;    &quot;finalized&quot;: false  &lt;span style=&quot;color: #666;&quot;&gt;// 최종 확정 여부&lt;/span&gt;&lt;br&gt;  }&lt;br&gt;}&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=top;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#212121;" vertex="1" parent="1">
          <mxGeometry x="670" y="220" width="1180" height="1030" as="geometry" />
        </mxCell>
        
        <!-- ========== 하단: 핵심 특징 ========== -->
        
        <mxCell id="features-title" value="🎯 시스템 핵심 특징" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E8F5E9;strokeColor=#388E3C;strokeWidth=3;fontSize=20;fontColor=#1B5E20;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="40" y="1310" width="1840" height="60" as="geometry" />
        </mxCell>
        
        <mxCell id="feature-box1" value="💡 이벤트 기반 자동 계산" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFEBEE;strokeColor=#D32F2F;strokeWidth=2;fontSize=16;fontColor=#B71C1C;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="1400" width="440" height="180" as="geometry" />
        </mxCell>
        <mxCell id="feature1" value="• GradeUpdateEvent 발행 시 자동 트리거&lt;br&gt;• 출석 승인, 과제 채점 즉시 반영&lt;br&gt;• 수동 계산 불필요 → 오류 방지&lt;br&gt;• 실시간 성적 조회 가능&lt;br&gt;• 이벤트 리스너 패턴으로 확장성 확보" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#424242;" vertex="1" parent="1">
          <mxGeometry x="60" y="1445" width="400" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="feature-box2" value="💡 JSON 기반 확장 가능한 구조" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#F3E5F5;strokeColor=#7B1FA2;strokeWidth=2;fontSize=16;fontColor=#4A148C;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="510" y="1400" width="440" height="180" as="geometry" />
        </mxCell>
        <mxCell id="feature2" value="• LONGTEXT JSON 컬럼 활용&lt;br&gt;• 스키마 변경 없이 필드 추가 가능&lt;br&gt;• 복잡한 중첩 데이터 저장&lt;br&gt;• 배열 형태로 이력 관리 (sessions, assignments)&lt;br&gt;• 확장 시 마이그레이션 불필요" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#424242;" vertex="1" parent="1">
          <mxGeometry x="530" y="1445" width="400" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="feature-box3" value="💡 자동 필드 계산" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF3E0;strokeColor=#F57C00;strokeWidth=2;fontSize=16;fontColor=#E65100;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="980" y="1400" width="440" height="180" as="geometry" />
        </mxCell>
        <mxCell id="feature3" value="• currentScore: 실시간 점수 계산&lt;br&gt;• percentage: 백분율 자동 산출&lt;br&gt;• assignmentTotalScore: 과제 총점 자동 합산&lt;br&gt;• attendanceRate: 출석률 자동 계산&lt;br&gt;• latePenalty: 지각 감점 자동 적용" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#424242;" vertex="1" parent="1">
          <mxGeometry x="1000" y="1445" width="400" height="120" as="geometry" />
        </mxCell>
        
        <mxCell id="feature-box4" value="💡 null 처리 및 데이터 무결성" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#E3F2FD;strokeColor=#1976D2;strokeWidth=2;fontSize=16;fontColor=#0D47A1;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="1450" y="1400" width="430" height="180" as="geometry" />
        </mxCell>
        <mxCell id="feature4" value="• 미채점 과제: score: null&lt;br&gt;• 총점 계산 시 null → 0 처리&lt;br&gt;• 최종 등급: letterGrade: null (미배정)&lt;br&gt;• 필수 필드 검증 (approvedAt, approvedBy)&lt;br&gt;• 이력 추적 가능 (gradedAt, requestDate)" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=14;fontColor=#424242;" vertex="1" parent="1">
          <mxGeometry x="1470" y="1445" width="390" height="120" as="geometry" />
        </mxCell>
        
        <!-- 계산 흐름 요약 -->
        <mxCell id="summary-box" value="📋 계산 흐름 요약" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#FFF9C4;strokeColor=#F57F17;strokeWidth=3;fontSize=18;fontColor=#F57F17;fontStyle=1;align=left;verticalAlign=top;" vertex="1" parent="1">
          <mxGeometry x="40" y="1610" width="1840" height="110" as="geometry" />
        </mxCell>
        <mxCell id="summary-text" value="&lt;font style=&quot;font-size: 15px;&quot;&gt;출석 승인 / 과제 채점 &amp;nbsp;→&amp;nbsp; 🔔 GradeUpdateEvent 발행 &amp;nbsp;→&amp;nbsp; 1️⃣ 출석점수 계산 &amp;nbsp;→&amp;nbsp; 2️⃣ 과제점수 합산 &amp;nbsp;→&amp;nbsp; 3️⃣ 총점 계산 &amp;nbsp;→&amp;nbsp; 4️⃣ 백분율 계산 &amp;nbsp;→&amp;nbsp; 5️⃣ ENROLLMENT_DATA 업데이트 &amp;nbsp;→&amp;nbsp; ✅ DB 저장 완료&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=15;fontColor=#F57F17;fontStyle=1;" vertex="1" parent="1">
          <mxGeometry x="80" y="1660" width="1760" height="40" as="geometry" />
        </mxCell>
        
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>