# 01. μκ°•μ‹ μ²­ API

> ν•™μƒμ΄ κ°•μλ¥Ό μκ°• μ‹ μ²­ν•λ” API

---

## π“ κΈ°λ³Έ μ •λ³΄

- **μ—”λ“ν¬μΈνΈ**: `POST /api/enrollments` (μ‹¤μ  κµ¬ν„λ μ—”λ“ν¬μΈνΈ ν™•μΈ ν•„μ”)
- **κ¶ν•**: ν•™μƒ
- **μ„¤λ…**: ν•™μƒμ΄ νΉμ • κ°•μμ— μκ°• μ‹ μ²­

---

## π“¥ Request

```json
{
  "lecSerial": "ETH201",
  "studentIdx": 33
}
```

| ν•„λ“ | νƒ€μ… | ν•„μ | μ„¤λ… |
|------|------|------|------|
| lecSerial | String | β… | κ°•μ μ½”λ“ |
| studentIdx | Integer | β… | ν•™μƒ USER_IDX |

---

## π“¤ Response

### μ„±κ³µ (201)

```json
{
  "enrollmentIdx": 101,
  "lecIdx": 42,
  "studentIdx": 33,
  "enrollmentData": null,
  "createdAt": "2025-02-01T10:42:11",
  "updatedAt": "2025-02-01T10:42:11"
}
```

### μ‹¤ν¨ (400)

```json
{
  "success": false,
  "message": "μ΄λ―Έ μκ°•μ‹ μ²­ν• κ°•μμ…λ‹λ‹¤."
}
```

---

## π—„οΈ DB λ³€ν™”

### ENROLLMENT_EXTENDED_TBL

**μƒ λ μ½”λ“ μƒμ„±**:

- `ENROLLMENT_IDX`: μλ™ μƒμ„±
- `LEC_IDX`: κ°•μ ID
- `STUDENT_IDX`: ν•™μƒ USER_IDX
- `ENROLLMENT_DATA`: NULL λλ” λΉ JSON (μ΄κΈ°κ°’)

---

## π”„ μ‹ν€€μ¤ λ‹¤μ΄μ–΄κ·Έλ¨

```text
ν•™μƒ β†’ API: μκ°•μ‹ μ²­ μ”μ²­
API β†’ DB: ENROLLMENT_EXTENDED_TBL INSERT
DB β†’ API: enrollmentIdx λ°ν™
API β†’ ν•™μƒ: μκ°•μ‹ μ²­ μ™„λ£
```

---

## π’΅ μ£Όμ” λ΅μ§

1. μ¤‘λ³µ μκ°• μ²΄ν¬ (κ°™μ€ ν•™μƒ, κ°™μ€ κ°•μ)
2. μ •μ› μ΄κ³Ό μ²΄ν¬ (LEC_TBLμ μ •μ› κ΄€λ¦¬ ν•„λ“ ν™•μΈ ν•„μ”)
3. `ENROLLMENT_DATA` μ΄κΈ°ν™” (NULL λλ” λΉ JSON)

---

## π“‹ λ‹¤μ λ‹¨κ³„

μκ°•μ‹ μ²­ ν›„ κµμκ°€ **μ„±μ  κµ¬μ„± μ„¤μ •**μ„ ν•΄μ•Ό μ¶μ„/κ³Όμ  κ΄€λ¦¬κ°€ κ°€λ¥ν•©λ‹λ‹¤.

β†’ [02. μ„±μ  κµ¬μ„± μ„¤μ • API](./02_μ„±μ κµ¬μ„±μ„¤μ •_API.md)
