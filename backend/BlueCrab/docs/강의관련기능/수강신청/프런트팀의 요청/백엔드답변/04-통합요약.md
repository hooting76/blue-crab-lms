# ğŸ“ í”„ë¡ íŠ¸íŒ€ ìš”ì²­ ì¢…í•© ë‹µë³€

**ëŒ€ìƒ**: ì‹ ì•„ë¦„ (í”„ë¡ íŠ¸ì—”ë“œ)  
**ì‘ì„±**: 2025-10-22

---

## ğŸ¯ í•µì‹¬ ìš”ì•½

| ê¸°ëŠ¥ | ìƒíƒœ | ë¹„ê³  |
|-----|------|------|
| **ê¸°ë³¸ í•„í„°ë§** | âœ… Phase 9 ì™„ë£Œ | ì¦‰ì‹œ ì‚¬ìš© |
| **ì·¨ì†Œ API** | âœ… ì™„ë£Œ | ì¦‰ì‹œ ì‚¬ìš© |
| **í•™ë¶€/í•™ê³¼ëª… ì¶œë ¥** | âœ… ì™„ë£Œ | ì¦‰ì‹œ ì‚¬ìš© |
| **ì¶”ê°€ ê²€ìƒ‰ ì˜µì…˜** | â³ êµ¬í˜„ ì¤‘ | ì˜¤ëŠ˜(10/22) ì¤‘ |
| **ì•ˆë‚´ë¬¸** | â³ êµ¬í˜„ ì¤‘ | ì˜¤ëŠ˜(10/22) ì¤‘ |

---

## âœ… ì¦‰ì‹œ ì‚¬ìš© ê°€ëŠ¥

### 1. ê¸°ë³¸ í•„í„°ë§ (Phase 9 ì™„ë£Œ)

```javascript
const response = await fetch('/api/lectures/eligible', {
  method: 'POST',
  body: JSON.stringify({
    studentId: 15,  // â† ì´ê²ƒë§Œìœ¼ë¡œ í•„í„°ë§ ì™„ë£Œ
    page: 0,
    size: 10
  })
});
// â†’ í•™ë¶€/í•™ê³¼ ê¸°ë°˜ ìë™ í•„í„°ë§ë¨
```

### 2. ìˆ˜ê°•ì‹ ì²­ ì·¨ì†Œ

```javascript
const response = await fetch(`/api/enrollments/${enrollmentIdx}`, {
  method: 'DELETE',
  headers: { 'Authorization': `Bearer ${token}` }
});
```

**ìƒì„¸**: [02-ì·¨ì†ŒAPIì‚¬ìš©ë²•.md](./02-ì·¨ì†ŒAPIì‚¬ìš©ë²•.md)

---

## â³ ì¶”ê°€ ê²€ìƒ‰ ì˜µì…˜ (ì˜¤ëŠ˜ ì¤‘ êµ¬í˜„ ì˜ˆì •)

### ğŸ“Œ í•„í„°ë§ ë°©ì‹

**íŒŒë¼ë¯¸í„°ë¥¼ ì¶”ê°€í• ìˆ˜ë¡ AND ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§ë©ë‹ˆë‹¤**

```javascript
// ì˜ˆì‹œ 1: í•™ë…„ë§Œ í•„í„°ë§
{ studentId: 15, lecYear: 2 }
// â†’ 2í•™ë…„ ëŒ€ìƒ ê°•ì˜ë§Œ

// ì˜ˆì‹œ 2: í•™ë…„ + í•™ê¸° í•„í„°ë§
{ studentId: 15, lecYear: 2, lecSemester: 1 }
// â†’ 2í•™ë…„ ëŒ€ìƒ + 1í•™ê¸° ê°•ì˜ë§Œ

// ì˜ˆì‹œ 3: í•™ë…„ + í•™ê¸° + ì „ê³µ í•„í„°ë§
{ studentId: 15, lecYear: 2, lecSemester: 1, lecMajor: 1 }
// â†’ 2í•™ë…„ ëŒ€ìƒ + 1í•™ê¸° + ì „ê³µ ê°•ì˜ë§Œ
```

### Request

```json
{
  "studentId": 15,
  "lecYear": 2,        // ì„ íƒ: ëŒ€ìƒ í•™ë…„ (1~4)
  "lecSemester": 2,    // ì„ íƒ: í•™ê¸° (1,2)
  "lecMajor": 1,       // ì„ íƒ: ì „ê³µ(1)/êµì–‘(0)
  "page": 0,
  "size": 10
}
```

**âš ï¸ ì£¼ì˜**: ê°•ì˜ëª…(`name`) ê²€ìƒ‰ì€ ë¡œì§ì´ ë³µì¡í•˜ì—¬ **ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**

### Response (í•™ë¶€/í•™ê³¼ëª… ì´ë¯¸ í¬í•¨ âœ…)

```json
{
  "lecSerial": "CS101",
  "lecTit": "ìë£Œêµ¬ì¡°",
  "lecMcodeName": "ê³µí•™ë¶€",           // âœ… ì´ë¯¸ êµ¬í˜„ë¨
  "lecMcodeDepName": "ì»´í“¨í„°ê³µí•™ê³¼"   // âœ… ì´ë¯¸ êµ¬í˜„ë¨
}
```

**ìƒì„¸**: [01-í•„í„°ë§íŒŒë¼ë¯¸í„°ëª…ì„¸.md](./01-í•„í„°ë§íŒŒë¼ë¯¸í„°ëª…ì„¸.md)

---

## â³ ì•ˆë‚´ë¬¸ ì‹œìŠ¤í…œ (ì˜¤ëŠ˜ ì¤‘ êµ¬í˜„ ì˜ˆì •)

### ì¡°íšŒ (ê³µê°œ)

```javascript
const response = await fetch('/notice/course-apply/view', {
  method: 'POST',
  body: JSON.stringify({})
});
// â†’ { message: "ìˆ˜ê°•ì‹ ì²­ ê¸°ê°„...", updatedAt, updatedBy }
```

### ì €ì¥ (ê´€ë¦¬ì/êµìˆ˜)

```javascript
const response = await fetch('/notice/course-apply/save', {
  method: 'POST',
  headers: { 'Authorization': `Bearer ${token}` },
  body: JSON.stringify({
    message: "ìˆ˜ê°•ì‹ ì²­ ê¸°ê°„: 2025-03-01 ~ 2025-03-15"
  })
});
```

**ìƒì„¸**: [03-ì•ˆë‚´ë¬¸APIëª…ì„¸.md](./03-ì•ˆë‚´ë¬¸APIëª…ì„¸.md)

---

## ğŸ¨ í”„ë¡ íŠ¸ì—”ë“œ ì¤€ë¹„ì‚¬í•­

### Phase 1: ì¦‰ì‹œ ì ìš©

```jsx
// 1. ì·¨ì†Œ ê¸°ëŠ¥
const handleCancel = async (enrollmentIdx) => {
  await fetch(`/api/enrollments/${enrollmentIdx}`, {
    method: 'DELETE',
    headers: { 'Authorization': `Bearer ${token}` }
  });
};

// 2. ê¸°ë³¸ í•„í„°ë§
const loadLectures = async () => {
  const response = await fetch('/api/lectures/eligible', {
    method: 'POST',
    body: JSON.stringify({ studentId, page: 0, size: 10 })
  });
};
```

### Phase 2: ì¶”ê°€ ê²€ìƒ‰ UI (ì˜¤ëŠ˜ ì¤‘ êµ¬í˜„ ì˜ˆì •)

**ğŸ’¡ ì„ íƒí•œ í•­ëª©ë§Œ í•„í„°ë§ì— ì¶”ê°€ë©ë‹ˆë‹¤** (AND ì¡°ê±´)

```jsx
function CourseFilter() {
  const [filters, setFilters] = useState({
    lecYear: null,
    lecSemester: null,
    lecMajor: null
  });

  const handleSearch = async () => {
    // null ê°’ ì œê±° (ì„ íƒëœ í•­ëª©ë§Œ ì „ì†¡)
    const params = Object.entries(filters)
      .filter(([_, value]) => value !== null)
      .reduce((acc, [key, value]) => ({ ...acc, [key]: value }), {});
    
    const response = await fetch('/api/lectures/eligible', {
      method: 'POST',
      body: JSON.stringify({
        studentId,
        ...params,  // â† ì„ íƒëœ í•„í„°ë§Œ ì¶”ê°€
        page: 0,
        size: 10
      })
    });
  };

  return (
    <div>
      <select onChange={e => setFilters({...filters, lecYear: e.target.value || null})}>
        <option value="">ì „ì²´ í•™ë…„</option>
        <option value="1">1í•™ë…„</option>
        <option value="2">2í•™ë…„</option>
        <option value="3">3í•™ë…„</option>
        <option value="4">4í•™ë…„</option>
      </select>
      
      <select onChange={e => setFilters({...filters, lecSemester: e.target.value || null})}>
        <option value="">ì „ì²´ í•™ê¸°</option>
        <option value="1">1í•™ê¸°</option>
        <option value="2">2í•™ê¸°</option>
      </select>
      
      <select onChange={e => setFilters({...filters, lecMajor: e.target.value || null})}>
        <option value="">ì „ì²´</option>
        <option value="1">ì „ê³µ</option>
        <option value="0">êµì–‘</option>
      </select>
      
      {/* âŒ ê°•ì˜ëª… ê²€ìƒ‰ì€ ì§€ì›í•˜ì§€ ì•ŠìŒ */}
      
      <button onClick={handleSearch}>ê²€ìƒ‰</button>
    </div>
  );
}
```

### Phase 3: ì•ˆë‚´ë¬¸ ì»´í¬ë„ŒíŠ¸ (ì˜¤ëŠ˜ ì¤‘ êµ¬í˜„ ì˜ˆì •)

```jsx
// í•™ìƒìš©: ì•ˆë‚´ë¬¸ í‘œì‹œ
function CourseApplyNotice() {
  const [notice, setNotice] = useState('');

  useEffect(() => {
    fetch('/notice/course-apply/view', {
      method: 'POST',
      body: JSON.stringify({})
    })
    .then(res => res.json())
    .then(data => setNotice(data.message));
  }, []);

  return (
    <div className="notice-box">
      <h2>ğŸ“¢ ìˆ˜ê°•ì‹ ì²­ ì•ˆë‚´</h2>
      <pre>{notice}</pre>
    </div>
  );
}

// ê´€ë¦¬ììš©: ì•ˆë‚´ë¬¸ í¸ì§‘
function NoticeEditor() {
  const [message, setMessage] = useState('');

  const handleSave = async () => {
    await fetch('/notice/course-apply/save', {
      method: 'POST',
      headers: {
        'Authorization': `Bearer ${token}`,
        'Content-Type': 'application/json'
      },
      body: JSON.stringify({ message })
    });
    alert('ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤.');
  };

  return (
    <div>
      <h2>ì•ˆë‚´ë¬¸ í¸ì§‘</h2>
      <textarea
        value={message}
        onChange={e => setMessage(e.target.value)}
        rows={10}
        cols={60}
      />
      <button onClick={handleSave}>ì €ì¥</button>
    </div>
  );
}
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. DB ì»¬ëŸ¼ëª… ì‚¬ìš©

| ìš”ì²­ íŒŒë¼ë¯¸í„° | DB ì»¬ëŸ¼ | ì„¤ëª… |
|-------------|---------|------|
| `lecYear` | `LEC_YEAR` | ëŒ€ìƒ í•™ë…„ (1~4) |
| `lecSemester` | `LEC_SEMESTER` | í•™ê¸° (1,2) |
| `lecMajor` | `LEC_MAJOR` | ì „ê³µ(1)/êµì–‘(0) |
| ~~`name`~~ | ~~`LEC_TIT`~~ | âŒ **ê°•ì˜ëª… ê²€ìƒ‰ ë¯¸ì§€ì›** |

### 2. ëª¨ë‘ ì„ íƒ íŒŒë¼ë¯¸í„° (AND ì¡°ê±´)

```json
// ìµœì†Œ ìš”ì²­ (í•„ìˆ˜ë§Œ)
{
  "studentId": 15,
  "page": 0,
  "size": 10
}

// ì„ íƒ íŒŒë¼ë¯¸í„° ì¶”ê°€ ì‹œ AND ì¡°ê±´ìœ¼ë¡œ í•„í„°ë§
{
  "studentId": 15,
  "lecYear": 2,       // AND 2í•™ë…„ ëŒ€ìƒ
  "lecSemester": 1,   // AND 1í•™ê¸°
  "page": 0,
  "size": 10
}
```

### 3. ê°•ì˜ëª… ê²€ìƒ‰ ë¯¸ì§€ì›

**ê°•ì˜ëª…(`name`) ê²€ìƒ‰ì€ ë¡œì§ì´ ë³µì¡í•˜ì—¬ ì§€ì›í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤**

### 4. ê°•ì˜ ë“±ë¡ì¼ ë¯¸ì‚¬ìš©

`LEC_REG` ì»¬ëŸ¼ ì¡´ì¬í•˜ì§€ë§Œ **í”„ë¡ íŠ¸/ë°±ì—”ë“œ ëª¨ë‘ ì‚¬ìš© ì•ˆ í•¨**

---

## ğŸ“… ì¼ì •

**ì˜¤ëŠ˜(10/22) ì¤‘ ì™„ë£Œ ì˜ˆì •**

```
ì¶”ê°€ ê²€ìƒ‰ ì˜µì…˜ (1.5~2ì‹œê°„)
â””â”€ lecYear, lecSemester, lecMajor í•„í„°ë§
â””â”€ AND ì¡°ê±´ ì ìš©
â””â”€ âŒ ê°•ì˜ëª… ê²€ìƒ‰ ì œì™¸

ì•ˆë‚´ë¬¸ ì‹œìŠ¤í…œ (3ì‹œê°„)
â””â”€ COURSE_APPLY_NOTICE í…Œì´ë¸”
â””â”€ ì¡°íšŒ/ì €ì¥ API

ì´ ì†Œìš”: 4.5~5ì‹œê°„
```

---

## ğŸ“š ë¬¸ì„œ

- [00-ìš”ì²­ê²€í† ê²°ê³¼.md](./00-ìš”ì²­ê²€í† ê²°ê³¼.md) - ì „ì²´ ê²€í† 
- [01-í•„í„°ë§íŒŒë¼ë¯¸í„°ëª…ì„¸.md](./01-í•„í„°ë§íŒŒë¼ë¯¸í„°ëª…ì„¸.md) - í•„í„° ìƒì„¸
- [02-ì·¨ì†ŒAPIì‚¬ìš©ë²•.md](./02-ì·¨ì†ŒAPIì‚¬ìš©ë²•.md) - ì·¨ì†Œ ê°€ì´ë“œ
- [03-ì•ˆë‚´ë¬¸APIëª…ì„¸.md](./03-ì•ˆë‚´ë¬¸APIëª…ì„¸.md) - ì•ˆë‚´ë¬¸ ì„¤ê³„
- [04-í†µí•©ìš”ì•½.md](./04-í†µí•©ìš”ì•½.md) - í”„ë¡ íŠ¸íŒ€ ì¢…í•©
- [05-ìë™í•„í„°ë§ì›ë¦¬.md](./05-ìë™í•„í„°ë§ì›ë¦¬.md) - â­ **ë°±ì—”ë“œ ìë™ ì²˜ë¦¬** â† í•„ë…

---

> **ì‘ì„±**: 2025-10-22
