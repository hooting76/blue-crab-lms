# 📋 프론트팀 요청 검토 결과

**검토일**: 2025-10-22  
**기준 문서**: `BlueCrab_LMS_CourseApply_BackendSpec.md`

---

## 📊 처리 현황

| 번호 | 요청 | 현재 상태 | 작업량 |
|------|------|-----------|--------|
| 1 | 필터링 파라미터 | ✅ 기본 완료 + ⏳ 추가 | 1.5~2시간 |
| 2 | 수강신청 취소 | ✅ **완료** | 즉시 사용 |
| 3 | 안내문 조회 | ⏳ 구현 예정 | 3시간 |
| 4 | 안내문 저장 | ⏳ 구현 예정 | 포함 |

---

## 1️⃣ 필터링 파라미터

### 현재 상태

**Phase 9 완료**: studentId로 자동 필터링

```json
{
  "studentId": 15,
  "page": 0,
  "size": 10
}
// → 학부/학과 기반 자동 필터링 완료
```

### 추가 구현 (선택 파라미터)

```json
{
  "studentId": 15,
  "lecYear": 2,        // 대상 학년 (DB: LEC_YEAR)
  "lecSemester": 2,    // 학기 (DB: LEC_SEMESTER)
  "lecMajor": 1,       // 전공/교양 (DB: LEC_MAJOR)
  "name": "자료구조",   // 강의명 (DB: LEC_TIT)
  "page": 0,
  "size": 10
}
```

**응답 추가 필드**:
- `lecMcodeName`: 학부명
- `lecMcodeDepName`: 학과명

**작업량**: 1.5~2시간  
**완료 예정**: 10/23(수) 오전

**상세**: [01-필터링파라미터명세.md](./01-필터링파라미터명세.md)

**💡 백엔드 자동 처리**: [05-자동필터링원리.md](./05-자동필터링원리.md) ⭐ **필독**

---

## 2️⃣ 수강신청 취소

### ✅ 이미 구현 완료

```http
DELETE /enrollments/{enrollmentIdx}
Authorization: Bearer {token}
```

**테스트 위치**: `lecture-test-2b-student-my-courses.js`

### 프론트팀 요청과의 차이

**요청**: `POST /enrollments/cancel { studentIdx, lecSerial }`  
**구현**: `DELETE /enrollments/{enrollmentIdx}`

**DELETE 방식 장점**:
- REST 표준 준수
- 명확한 리소스 식별
- 단일 쿼리로 처리

**POST 방식 추가 가능** (30분~1시간)

**상세**: [02-취소API사용법.md](./02-취소API사용법.md)

---

## 3️⃣ 안내문 시스템

### 신규 구현 필요

**테이블**: `COURSE_APPLY_NOTICE`

**API 2개**:
- `POST /notice/course-apply/view` (공개)
- `POST /notice/course-apply/save` (관리자/교수)

**작업량**: 3시간  
**완료 예정**: 오늘(10/22) 중

**상세**: [03-안내문API명세.md](./03-안내문API명세.md)

---

## ⚠️ 중요 사항

### 1. DB 컬럼 기준

| 프론트 요청 | DB 컬럼 | 설명 |
|------------|---------|------|
| `lecYear` | `LEC_YEAR` | 대상 학년 (1~4) |
| `lecSemester` | `LEC_SEMESTER` | 학기 (1,2) |
| `lecMajor` | `LEC_MAJOR` | 전공(1)/교양(0) |
| `name` | `LEC_TIT` | 강의명 |

### 2. 사용 안 하는 컬럼

**`LEC_REG` (강의 등록일)**:
- DB에 존재하지만 프론트/백엔드 모두 사용 안 함
- 필터링 파라미터에서 제외

### 3. Phase 9 필터링 동작 중

```javascript
// 현재도 완벽하게 동작
fetch('/api/lectures/eligible', {
  method: 'POST',
  body: JSON.stringify({
    studentId: 15,  // ← 이것만으로 필터링 완료
    page: 0,
    size: 10
  })
});
```

---

## 📅 구현 일정

**오늘(10/22) 중 완료 예정**

```
추가 검색 옵션 (1.5~2시간)
└─ lecYear, lecSemester, lecMajor
└─ AND 조건 적용
└─ ❌ 강의명 검색 제외

안내문 시스템 (3시간)
└─ COURSE_APPLY_NOTICE 테이블
└─ 조회/저장 API
```

**총 소요**: 4.5~5시간  
**완료**: 오늘(10/22) 오후

---

## 📞 문의

- POST 방식 취소 API 필요 시: [02-취소API사용법.md](./02-취소API사용법.md) 참고
- 필터 조건 변경 필요 시: 협의 가능

---

> **작성**: 2025-10-22
