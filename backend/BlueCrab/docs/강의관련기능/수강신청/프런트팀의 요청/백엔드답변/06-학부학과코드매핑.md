# ğŸ“š í•™ë¶€/í•™ê³¼ ì½”ë“œ ë§¤í•‘ ê°€ì´ë“œ

**ëŒ€ìƒ**: í”„ë¡ íŠ¸ì—”ë“œ  
**ì‘ì„±**: 2025-10-22

---

## ğŸ¯ ê°œìš”

**ë°±ì—”ë“œëŠ” ì½”ë“œë§Œ ë°˜í™˜í•˜ê³ , í”„ë¡ íŠ¸ì—”ë“œê°€ ì½”ë“œë¥¼ ì´ë¦„ìœ¼ë¡œ ë³€í™˜í•©ë‹ˆë‹¤**

```json
// ë°±ì—”ë“œ ì‘ë‹µ
{
  "lecMcode": "01",       // í•™ë¶€ ì½”ë“œ
  "lecMcodeDep": "03"     // í•™ê³¼ ì½”ë“œ
}

// í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë³€í™˜
{
  "lecMcode": "01",
  "lecMcodeName": "í™˜ê²½í•™ê³¼",      // â† í”„ë¡ íŠ¸ê°€ ë§¤í•‘
  "lecMcodeDep": "03",
  "lecMcodeDepName": "ì»´í“¨í„°ê³µí•™ê³¼"  // â† í”„ë¡ íŠ¸ê°€ ë§¤í•‘
}
```

---

## ğŸ“Š ë§¤í•‘ í…Œì´ë¸”

### FACULTY (í•™ë¶€)

| faculty_id | faculty_code | faculty_name |
|-----------|-------------|-------------|
| 1 | 01 | í™˜ê²½í•™ê³¼ |
| 1 | 02 | í™”í•™ê²½ì˜í•™ |
| 1 | 03 | í•´êµ°ì‚¬ê´€ |
| 1 | 04 | ë„ì„ í•™ê³¼ |
| 1 | 05 | í•´ì–‘ìˆ˜ì‚°í•™ |
| 1 | 06 | ì¡°ì„ í•™ê³¼ |
| 2 | 01 | ê°„í˜¸í•™ |
| 2 | 02 | ìí•™ìƒ |
| 2 | 03 | ì•½í•™ê³¼ |
| 2 | 04 | ë³´ê±´ì •í™”í•™ |
| 3 | 01 | ë¬¼ë¦¬í•™ |
| 3 | 02 | ìˆ˜í•™ |
| 3 | 03 | ë¬¼ìí™”í•™ |
| 4 | 01 | ì² í•™ |
| 4 | 02 | êµ­ì–´êµ­ë¬¸ |
| 4 | 03 | ì—­ì‚¬í•™ |
| 4 | 04 | ê²½ì˜ |
| 4 | 05 | ê²½ì œ |
| 4 | 06 | ì •ì¹˜ì™¸êµ |
| 4 | 07 | ì˜ì–´ì˜ë¬¸ |
| 5 | 01 | ì»´í“¨í„°ê³µí•™ê³¼ |
| 5 | 02 | ê¸°ê³„ê³µí•™ |
| 5 | 03 | ì „ìê³µí•™ |
| 5 | 04 | ICTìœµí•© |

### DEPARTMENT (í•™ê³¼)

**âš ï¸ ì¤‘ìš”**: ê°™ì€ `dept_code`ë¼ë„ `faculty_id`ê°€ ë‹¤ë¥´ë©´ ë‹¤ë¥¸ í•™ê³¼!

**í•™ë¶€ë³„ í•™ê³¼ êµ¬ì¡°**:
- Faculty 1 (í™˜ê²½í•™ë¶€): 01, 02, 03, 04, 05, 06
- Faculty 2 (ê°„í˜¸í•™ë¶€): 01, 02, 03, 04
- Faculty 3 (ë¬¼ë¦¬í•™ë¶€): 01, 02, 03
- Faculty 4 (ì² í•™ë¶€): 01, 02, 03, 04, 05, 06, 07
- Faculty 5 (ê³µí•™ë¶€): 01, 02, 03, 04

---

## ğŸ’» í”„ë¡ íŠ¸ì—”ë“œ êµ¬í˜„ ì˜ˆì‹œ

### ë°©ë²• 1: ê°„ë‹¨í•œ ê°ì²´ ë§¤í•‘

```javascript
// constants/facultyMapping.js
export const FACULTY_MAP = {
  '1': { code: '01', name: 'í™˜ê²½í•™ë¶€', depts: {
    '01': 'í™˜ê²½í•™ê³¼',
    '02': 'í™”í•™ê²½ì˜í•™',
    '03': 'í•´êµ°ì‚¬ê´€',
    '04': 'ë„ì„ í•™ê³¼',
    '05': 'í•´ì–‘ìˆ˜ì‚°í•™',
    '06': 'ì¡°ì„ í•™ê³¼'
  }},
  '2': { code: '01', name: 'ê°„í˜¸í•™ë¶€', depts: {
    '01': 'ê°„í˜¸í•™',
    '02': 'ìí•™ìƒ',
    '03': 'ì•½í•™ê³¼',
    '04': 'ë³´ê±´ì •í™”í•™'
  }},
  '3': { code: '01', name: 'ë¬¼ë¦¬í•™ë¶€', depts: {
    '01': 'ë¬¼ë¦¬í•™',
    '02': 'ìˆ˜í•™',
    '03': 'ë¬¼ìí™”í•™'
  }},
  '4': { code: '01', name: 'ì² í•™ë¶€', depts: {
    '01': 'ì² í•™',
    '02': 'êµ­ì–´êµ­ë¬¸',
    '03': 'ì—­ì‚¬í•™',
    '04': 'ê²½ì˜',
    '05': 'ê²½ì œ',
    '06': 'ì •ì¹˜ì™¸êµ',
    '07': 'ì˜ì–´ì˜ë¬¸'
  }},
  '5': { code: '01', name: 'ê³µí•™ë¶€', depts: {
    '01': 'ì»´í“¨í„°ê³µí•™ê³¼',
    '02': 'ê¸°ê³„ê³µí•™',
    '03': 'ì „ìê³µí•™',
    '04': 'ICTìœµí•©'
  }}
};

// lecMcodeì™€ lecMcodeDepë¡œ ì´ë¦„ ì°¾ê¸°
export function getFacultyName(facultyId) {
  return FACULTY_MAP[facultyId]?.name || null;
}

export function getDeptName(facultyId, deptCode) {
  return FACULTY_MAP[facultyId]?.depts[deptCode] || null;
}
```

### ë°©ë²• 2: API ì‘ë‹µ ë³€í™˜

```javascript
// services/lectureService.js
import { getFacultyName, getDeptName } from '@/constants/facultyMapping';

export async function getEligibleLectures(studentId, page = 0, size = 10) {
  const response = await fetch('/api/lectures/eligible', {
    method: 'POST',
    headers: { 
      'Authorization': `Bearer ${token}`,
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({ studentId, page, size })
  });
  
  const data = await response.json();
  
  // í•™ë¶€/í•™ê³¼ëª… ì¶”ê°€
  data.eligibleLectures = data.eligibleLectures.map(lecture => ({
    ...lecture,
    lecMcodeName: getFacultyName(lecture.lecMcode),
    lecMcodeDepName: getDeptName(lecture.lecMcode, lecture.lecMcodeDep)
  }));
  
  return data;
}
```

### ë°©ë²• 3: ì»´í¬ë„ŒíŠ¸ì—ì„œ ì§ì ‘ ë³€í™˜

```jsx
// components/LectureList.jsx
import { FACULTY_MAP } from '@/constants/facultyMapping';

function LectureItem({ lecture }) {
  const facultyName = FACULTY_MAP[lecture.lecMcode]?.name;
  const deptName = FACULTY_MAP[lecture.lecMcode]?.depts[lecture.lecMcodeDep];
  
  return (
    <div>
      <h3>{lecture.lecTit}</h3>
      <p>í•™ë¶€: {facultyName || lecture.lecMcode}</p>
      <p>í•™ê³¼: {deptName || lecture.lecMcodeDep}</p>
    </div>
  );
}
```

---

## ğŸ” ì‹¤ì œ ì‚¬ìš© ì˜ˆì‹œ

### API ì‘ë‹µ (ë°±ì—”ë“œ)

```json
{
  "eligibleLectures": [
    {
      "lecSerial": "CS101",
      "lecTit": "ìë£Œêµ¬ì¡°",
      "lecMcode": "5",      // ê³µí•™ë¶€
      "lecMcodeDep": "01"   // ì»´í“¨í„°ê³µí•™ê³¼
    },
    {
      "lecSerial": "PHIL201",
      "lecTit": "ìœ¤ë¦¬í•™",
      "lecMcode": "4",      // ì² í•™ë¶€
      "lecMcodeDep": "01"   // ì² í•™ê³¼
    }
  ]
}
```

### í”„ë¡ íŠ¸ì—”ë“œ ë³€í™˜ í›„

```javascript
const lectures = data.eligibleLectures.map(lecture => ({
  ...lecture,
  lecMcodeName: getFacultyName(lecture.lecMcode),
  lecMcodeDepName: getDeptName(lecture.lecMcode, lecture.lecMcodeDep)
}));

console.log(lectures);
// [
//   {
//     "lecSerial": "CS101",
//     "lecTit": "ìë£Œêµ¬ì¡°",
//     "lecMcode": "5",
//     "lecMcodeName": "ê³µí•™ë¶€",
//     "lecMcodeDep": "01",
//     "lecMcodeDepName": "ì»´í“¨í„°ê³µí•™ê³¼"
//   },
//   {
//     "lecSerial": "PHIL201",
//     "lecTit": "ìœ¤ë¦¬í•™",
//     "lecMcode": "4",
//     "lecMcodeName": "ì² í•™ë¶€",
//     "lecMcodeDep": "01",
//     "lecMcodeDepName": "ì² í•™"
//   }
// ]
```

---

## âš ï¸ ì£¼ì˜ì‚¬í•­

### 1. faculty_idì™€ dept_code ì¡°í•©

âŒ **ì˜ëª»ëœ ë°©ë²•**:
```javascript
// dept_codeë§Œìœ¼ë¡œ ì°¾ê¸° (ê°™ì€ ì½”ë“œê°€ ì—¬ëŸ¬ í•™ë¶€ì— ìˆìŒ!)
const deptName = ALL_DEPTS[deptCode];  // í‹€ë¦¼!
```

âœ… **ì˜¬ë°”ë¥¸ ë°©ë²•**:
```javascript
// faculty_id + dept_code ì¡°í•©ìœ¼ë¡œ ì°¾ê¸°
const deptName = FACULTY_MAP[facultyId].depts[deptCode];  // ë§ìŒ!
```

### 2. Null ì²´í¬

**ì½”ë“œê°€ ë§¤í•‘ í…Œì´ë¸”ì— ì—†ì„ ìˆ˜ ìˆìŒ**
```javascript
const facultyName = getFacultyName(lecture.lecMcode) || 'ë¯¸ì •';
const deptName = getDeptName(lecture.lecMcode, lecture.lecMcodeDep) || 'ë¯¸ì •';
```

### 3. ë§¤í•‘ í…Œì´ë¸” ì—…ë°ì´íŠ¸

**í•™ë¶€/í•™ê³¼ê°€ ì¶”ê°€ë˜ë©´ ë§¤í•‘ í…Œì´ë¸”ë„ ì—…ë°ì´íŠ¸ í•„ìš”**
- DBì˜ FACULTY, DEPARTMENT í…Œì´ë¸”ê³¼ ë™ê¸°í™”
- ë˜ëŠ” ì´ˆê¸° ë¡œë”© ì‹œ APIë¡œ ê°€ì ¸ì™€ì„œ ì‚¬ìš©

---

## ğŸ¯ ê¶Œì¥ ì‚¬í•­

### Option A: ì •ì  ë§¤í•‘ (í˜„ì¬)

**ì¥ì **:
- ê°„ë‹¨í•˜ê³  ë¹ ë¦„
- ì¶”ê°€ API í˜¸ì¶œ ì—†ìŒ
- ì˜¤í”„ë¼ì¸ì—ì„œë„ ë™ì‘

**ë‹¨ì **:
- í•™ë¶€/í•™ê³¼ ì¶”ê°€ ì‹œ ì½”ë“œ ìˆ˜ì • í•„ìš”
- í”„ë¡ íŠ¸ì—”ë“œ ë°°í¬ í•„ìš”

### Option B: ë™ì  ë¡œë”© (í–¥í›„ ê°œì„ )

```javascript
// ì•± ì´ˆê¸°í™” ì‹œ í•œ ë²ˆë§Œ ë¡œë”©
export async function loadFacultyMapping() {
  const faculties = await fetch('/api/faculties').then(r => r.json());
  const departments = await fetch('/api/departments').then(r => r.json());
  
  // ë§¤í•‘ í…Œì´ë¸” ìƒì„±
  return buildMappingTable(faculties, departments);
}
```

**ì¥ì **:
- DBì™€ ìë™ ë™ê¸°í™”
- ì½”ë“œ ìˆ˜ì • ë¶ˆí•„ìš”

**ë‹¨ì **:
- ì´ˆê¸° ë¡œë”© ì‹œê°„ ì¦ê°€
- API ì¶”ê°€ í•„ìš”

---

## ğŸ“ ìš”ì•½

1. **ë°±ì—”ë“œ**: `lecMcode`, `lecMcodeDep` ì½”ë“œë§Œ ë°˜í™˜ âœ…
2. **í”„ë¡ íŠ¸ì—”ë“œ**: ë§¤í•‘ í…Œì´ë¸”ë¡œ ì½”ë“œ â†’ ì´ë¦„ ë³€í™˜ âœ…
3. **ì£¼ì˜**: `faculty_id` + `dept_code` ì¡°í•©ìœ¼ë¡œ í•™ê³¼ ì‹ë³„ âš ï¸

---

> **ì‘ì„±**: 2025-10-22  
> **ë°©ì‹**: í”„ë¡ íŠ¸ì—”ë“œ ë§¤í•‘
