# 05. êµìˆ˜ í”Œë¡œìš°# 05. êµìˆ˜ í”Œë¡œìš°



> **ì‘ì„±ì¼**: 2025-10-10  > **ì‘ì„±ì¼**: 2025-10-10  

> **ìµœì¢… ìˆ˜ì •**: 2025-10-15  > **ìµœì¢… ìˆ˜ì •**: 2025-10-15  

> **ë²„ì „**: 3.0 (Phase 6.9 ì¶œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ ì™„ë£Œ)  > **ë²„ì „**: 3.0 (Phase 6.9 ì¶œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ ì™„ë£Œ)  

> **ë³€ê²½ì‚¬í•­**: 

**Phase 6.9 ë³€ê²½ì‚¬í•­**:> - **Phase 6.9**: ì¶œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ (ì¶œ/ê²°/ì§€ 3ê°€ì§€ ìƒíƒœ)

> - ì¶œì„ ì¸ì • ìš”ì²­/ìŠ¹ì¸ ì‹œìŠ¤í…œ ì¶”ê°€

- âœ… ì¶œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ êµ¬í˜„ ì™„ë£Œ (ì¶œ/ê²°/ì§€ 3ê°€ì§€ ìƒíƒœ)> - êµìˆ˜ìš© ì¶œì„ ê´€ë¦¬ API ì¶”ê°€

- âœ… ì¶œì„ ì¸ì • ìš”ì²­/ìŠ¹ì¸ ì‹œìŠ¤í…œ ì¶”ê°€> - ê¸°ì¡´ ë²„ê·¸ ìˆ˜ì • ë‚´ì—­ ìœ ì§€

- âœ… êµìˆ˜ìš© ì¶œì„ ê´€ë¦¬ API ì¶”ê°€

---

---

## ğŸ‘¨â€ğŸ« êµìˆ˜ ê¸°ëŠ¥ í”Œë¡œìš°

## ğŸ‘¨â€ğŸ« êµìˆ˜ ê¸°ëŠ¥ í”Œë¡œìš°

êµìˆ˜ì˜ ê°•ì˜ ê´€ë¦¬ ì‹œìŠ¤í…œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë‹¨ê³„ë³„ë¡œ ì •ì˜í•©ë‹ˆë‹¤.

êµìˆ˜ì˜ ê°•ì˜ ê´€ë¦¬ ì‹œìŠ¤í…œ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ë‹¨ê³„ë³„ë¡œ ì •ì˜í•©ë‹ˆë‹¤.

---

---

## ğŸ“‹ ëª©ì°¨

## ğŸ“‹ ëª©ì°¨

1. [ê°•ì˜ ì‚¬ì „ ì¤€ë¹„ í”Œë¡œìš°](#1-ê°•ì˜-ì‚¬ì „-ì¤€ë¹„-í”Œë¡œìš°)

1. [ê°•ì˜ ì‚¬ì „ ì¤€ë¹„ í”Œë¡œìš°](#1-ê°•ì˜-ì‚¬ì „-ì¤€ë¹„-í”Œë¡œìš°)2. [ìˆ˜ê°•ìƒ ê´€ë¦¬ í”Œë¡œìš°](#2-ìˆ˜ê°•ìƒ-ê´€ë¦¬-í”Œë¡œìš°)

2. [ìˆ˜ê°•ìƒ ê´€ë¦¬ í”Œë¡œìš°](#2-ìˆ˜ê°•ìƒ-ê´€ë¦¬-í”Œë¡œìš°)3. [ì¶œì„ ê´€ë¦¬ í”Œë¡œìš° ğŸ†•](#3-ì¶œì„-ê´€ë¦¬-í”Œë¡œìš°-ğŸ†•)

3. [ì¶œì„ ê´€ë¦¬ í”Œë¡œìš° ğŸ†•](#3-ì¶œì„-ê´€ë¦¬-í”Œë¡œìš°)4. [ê³¼ì œ ê´€ë¦¬ í”Œë¡œìš°](#4-ê³¼ì œ-ê´€ë¦¬-í”Œë¡œìš°)

4. [ê³¼ì œ ê´€ë¦¬ í”Œë¡œìš°](#4-ê³¼ì œ-ê´€ë¦¬-í”Œë¡œìš°)5. [ì„±ì  ê´€ë¦¬ í”Œë¡œìš°](#5-ì„±ì -ê´€ë¦¬-í”Œë¡œìš°)

5. [ì„±ì  ê´€ë¦¬ í”Œë¡œìš°](#5-ì„±ì -ê´€ë¦¬-í”Œë¡œìš°)

---

---

## 1. ê°•ì˜ ì‚¬ì „ ì¤€ë¹„ í”Œë¡œìš°

## 1. ê°•ì˜ ì‚¬ì „ ì¤€ë¹„ í”Œë¡œìš°

### **1.1 ê°•ì˜ ëª©ë¡ ì¡°íšŒ ë° ê´€ë¦¬**

### **1.1 ê°•ì˜ ëª©ë¡ ì¡°íšŒ ë° ê´€ë¦¬**

```mermaid

```mermaidsequenceDiagram

sequenceDiagram    participant Professor as êµìˆ˜

    participant Professor as êµìˆ˜    participant UI as êµìˆ˜ UI

    participant UI as êµìˆ˜ UI    participant API as ê°•ì˜ API

    participant API as ê°•ì˜ API    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: ê°•ì˜ ê´€ë¦¬ ë©”ë‰´ ì„ íƒ

    Professor->>UI: ê°•ì˜ ê´€ë¦¬ ë©”ë‰´ ì„ íƒ    UI->>API: GET /api/professor/lectures?year=2025&semester=1

    UI->>API: GET /api/professor/lectures?year=2025&semester=1    API->>API: êµìˆ˜ ê¶Œí•œ ê²€ì¦

    API->>API: êµìˆ˜ ê¶Œí•œ ê²€ì¦    API->>DB: ë‹´ë‹¹ ê°•ì˜ ëª©ë¡ ì¡°íšŒ

    API->>DB: ë‹´ë‹¹ ê°•ì˜ ëª©ë¡ ì¡°íšŒ    DB-->>API: ê°•ì˜ ëª©ë¡ ë°ì´í„°

    DB-->>API: ê°•ì˜ ëª©ë¡ ë°ì´í„°    API-->>UI: ê°•ì˜ ëª©ë¡ í‘œì‹œ

    API-->>UI: ê°•ì˜ ëª©ë¡ í‘œì‹œ

    Professor->>UI: ê°•ì˜ ì„ íƒ

    Professor->>UI: ê°•ì˜ ì„ íƒ    UI->>API: GET /api/professor/lectures/{id}

    UI->>API: GET /api/professor/lectures/{id}    API->>DB: ê°•ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ

    API->>DB: ê°•ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ    DB-->>API: ê°•ì˜ ì •ë³´ + ìˆ˜ê°•ìƒ ìˆ˜

    DB-->>API: ê°•ì˜ ì •ë³´ + ìˆ˜ê°•ìƒ ìˆ˜    API-->>UI: ê°•ì˜ ì •ë³´ í‘œì‹œ

    API-->>UI: ê°•ì˜ ì •ë³´ í‘œì‹œ```

```

#### **API ì—”ë“œí¬ì¸íŠ¸**

### **API ì—”ë“œí¬ì¸íŠ¸**- `GET /api/professor/lectures` - êµìˆ˜ ë‹´ë‹¹ ê°•ì˜ ëª©ë¡

- `GET /api/professor/lectures/{id}` - ê°•ì˜ ìƒì„¸ ì •ë³´

- `GET /api/professor/lectures` - êµìˆ˜ ë‹´ë‹¹ ê°•ì˜ ëª©ë¡

- `GET /api/professor/lectures/{id}` - ê°•ì˜ ìƒì„¸ ì •ë³´#### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**

```javascript

### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**// ê°•ì˜ ëª©ë¡ ì¡°íšŒ

async function getProfessorLectures() {

```javascript    const response = await fetch('/api/professor/lectures?year=2025&semester=1', {

// ê°•ì˜ ëª©ë¡ ì¡°íšŒ        headers: { 'Authorization': `Bearer ${token}` }

async function getProfessorLectures() {    });

    const response = await fetch('/api/professor/lectures?year=2025&semester=1', {    const result = await response.json();

        headers: { 'Authorization': `Bearer ${token}` }    

    });    if (result.success) {

    const result = await response.json();        displayLectureList(result.data);

        }

    if (result.success) {}

        displayLectureList(result.data);```

    }

}---

```

## 2. ìˆ˜ê°•ìƒ ê´€ë¦¬ í”Œë¡œìš°

---

### **2.1 ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ**

## 2. ìˆ˜ê°•ìƒ ê´€ë¦¬ í”Œë¡œìš°

```mermaid

### **2.1 ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ**sequenceDiagram

    participant Professor as êµìˆ˜

```mermaid    participant UI as êµìˆ˜ UI

sequenceDiagram    participant API as ìˆ˜ê°• API

    participant Professor as êµìˆ˜    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    participant UI as êµìˆ˜ UI

    participant API as ìˆ˜ê°• API    Professor->>UI: ìˆ˜ê°•ìƒ ê´€ë¦¬ ì„ íƒ

    participant DB as ë°ì´í„°ë² ì´ìŠ¤    UI->>API: GET /api/enrollments?lecIdx=1&page=0&size=20

    API->>DB: ìˆ˜ê°•ì‹ ì²­ ëª©ë¡ ì¡°íšŒ (í•™ìƒ ì •ë³´ í¬í•¨)

    Professor->>UI: ìˆ˜ê°•ìƒ ê´€ë¦¬ ì„ íƒ    DB-->>API: ìˆ˜ê°•ìƒ ë°ì´í„°

    UI->>API: GET /api/enrollments?lecIdx=1&page=0&size=20    API-->>UI: ìˆ˜ê°•ìƒ ëª©ë¡ í‘œì‹œ

    API->>DB: ìˆ˜ê°•ì‹ ì²­ ëª©ë¡ ì¡°íšŒ (í•™ìƒ ì •ë³´ í¬í•¨)    

    DB-->>API: ìˆ˜ê°•ìƒ ë°ì´í„°    Professor->>UI: ìˆ˜ê°•ìƒ ìƒì„¸ ì •ë³´ ìš”ì²­

    API-->>UI: ìˆ˜ê°•ìƒ ëª©ë¡ í‘œì‹œ    UI->>API: GET /api/enrollments/{id}

        API->>DB: ìˆ˜ê°•ìƒ ìƒì„¸ ì •ë³´ ì¡°íšŒ

    Professor->>UI: ìˆ˜ê°•ìƒ ìƒì„¸ ì •ë³´ ìš”ì²­    DB-->>API: ìƒì„¸ ì •ë³´ (ì¶œì„ë¥ , ì„±ì  ë“±)

    UI->>API: GET /api/enrollments/{id}    API-->>UI: ìƒì„¸ ì •ë³´ í‘œì‹œ

    API->>DB: ìˆ˜ê°•ìƒ ìƒì„¸ ì •ë³´ ì¡°íšŒ```

    DB-->>API: ìƒì„¸ ì •ë³´ (ì¶œì„ë¥ , ì„±ì  ë“±)

    API-->>UI: ìƒì„¸ ì •ë³´ í‘œì‹œ#### **API ì—”ë“œí¬ì¸íŠ¸**

```- `GET /api/enrollments?lecIdx={id}` - ìˆ˜ê°•ìƒ ëª©ë¡

- `GET /api/enrollments/{id}` - ìˆ˜ê°•ìƒ ìƒì„¸ ì •ë³´

### **API ì—”ë“œí¬ì¸íŠ¸**

#### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**

- `GET /api/enrollments?lecIdx={id}` - ìˆ˜ê°•ìƒ ëª©ë¡```javascript

- `GET /api/enrollments/{id}` - ìˆ˜ê°•ìƒ ìƒì„¸ ì •ë³´// ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ

async function getStudentList(lecIdx) {

### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**    const response = await fetch(`/api/enrollments?lecIdx=${lecIdx}&page=0&size=20`, {

        headers: { 'Authorization': `Bearer ${token}` }

```javascript    });

// ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ    const result = await response.json();

async function getStudentList(lecIdx) {    

    const response = await fetch(`/api/enrollments?lecIdx=${lecIdx}&page=0&size=20`, {    if (result.success) {

        headers: { 'Authorization': `Bearer ${token}` }        displayStudents(result.data.content);

    });        updatePagination(result.data);

    const result = await response.json();    }

    }

    if (result.success) {```

        displayStudents(result.data.content);

        updatePagination(result.data);---

    }

}## 3. ì¶œì„ ê´€ë¦¬ í”Œë¡œìš° ğŸ†•

```

### **3.1 ì¶œì„ ì²´í¬**

---

```mermaid

## 3. ì¶œì„ ê´€ë¦¬ í”Œë¡œìš° ğŸ†•sequenceDiagram

    participant Professor as êµìˆ˜

### **3.1 ì¶œì„ ì²´í¬**    participant UI as êµìˆ˜ UI

    participant API as ì¶œì„ API

```mermaid    participant DB as ë°ì´í„°ë² ì´ìŠ¤

sequenceDiagram

    participant Professor as êµìˆ˜    Professor->>UI: ì¶œì„ ì²´í¬ ë©”ë‰´ ì„ íƒ

    participant UI as êµìˆ˜ UI    UI->>UI: ìˆ˜ê°•ìƒ ëª©ë¡ í‘œì‹œ

    participant API as ì¶œì„ API    

    participant DB as ë°ì´í„°ë² ì´ìŠ¤    Professor->>UI: í•™ìƒë³„ ì¶œì„ ìƒíƒœ ì„ íƒ (ì¶œ/ê²°/ì§€)

    UI->>API: POST /api/professor/attendance/mark

    Professor->>UI: ì¶œì„ ì²´í¬ ë©”ë‰´ ì„ íƒ    Note over UI,API: Body: {enrollmentIdx, sessionNumber, status}

    UI->>UI: ìˆ˜ê°•ìƒ ëª©ë¡ í‘œì‹œ    

        API->>DB: ì¶œì„ ë¬¸ìì—´ ì—…ë°ì´íŠ¸ ("1ì¶œ2ì¶œ3ê²°...")

    Professor->>UI: í•™ìƒë³„ ì¶œì„ ìƒíƒœ ì„ íƒ (ì¶œ/ê²°/ì§€)    API->>DB: ì¶œì„ë¥  ì¬ê³„ì‚° ("75/80")

    UI->>API: POST /api/professor/attendance/mark    DB-->>API: ì—…ë°ì´íŠ¸ ì™„ë£Œ

    Note over UI,API: Body: {enrollmentIdx, sessionNumber, status}    API-->>UI: ì„±ê³µ ì‘ë‹µ

        UI-->>Professor: ì¶œì„ ì²´í¬ ì™„ë£Œ ì•Œë¦¼

    API->>DB: ì¶œì„ ë¬¸ìì—´ ì—…ë°ì´íŠ¸ ("1ì¶œ2ì¶œ3ê²°...")```

    API->>DB: ì¶œì„ë¥  ì¬ê³„ì‚° ("75/80")

    DB-->>API: ì—…ë°ì´íŠ¸ ì™„ë£Œ### **3.2 ì¶œì„ ì¸ì • ìš”ì²­ ê´€ë¦¬**

    API-->>UI: ì„±ê³µ ì‘ë‹µ

    UI-->>Professor: ì¶œì„ ì²´í¬ ì™„ë£Œ ì•Œë¦¼```mermaid

```sequenceDiagram

    participant Professor as êµìˆ˜

### **3.2 ì¶œì„ ì¸ì • ìš”ì²­ ê´€ë¦¬**    participant UI as êµìˆ˜ UI

    participant API as ì¶œì„ API

```mermaid    participant DB as ë°ì´í„°ë² ì´ìŠ¤

sequenceDiagram

    participant Professor as êµìˆ˜    Professor->>UI: ì¶œì„ ì¸ì • ìš”ì²­ í™•ì¸

    participant UI as êµìˆ˜ UI    UI->>API: GET /api/professor/attendance/requests?lecIdx=1&status=PENDING

    participant API as ì¶œì„ API    API->>DB: ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ì¡°íšŒ

    participant DB as ë°ì´í„°ë² ì´ìŠ¤    DB-->>API: ìš”ì²­ ëª©ë¡

    API-->>UI: ìš”ì²­ ëª©ë¡ í‘œì‹œ

    Professor->>UI: ì¶œì„ ì¸ì • ìš”ì²­ í™•ì¸    

    UI->>API: GET /api/professor/attendance/requests?lecIdx=1&status=PENDING    Professor->>UI: ìš”ì²­ ìŠ¹ì¸/ë°˜ë ¤ ê²°ì •

    API->>DB: ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ì¡°íšŒ    

    DB-->>API: ìš”ì²­ ëª©ë¡    alt ìŠ¹ì¸í•˜ëŠ” ê²½ìš°

    API-->>UI: ìš”ì²­ ëª©ë¡ í‘œì‹œ        UI->>API: PUT /api/professor/attendance/requests/{id}/approve

            Note over UI,API: Body: {professorIdx}

    Professor->>UI: ìš”ì²­ ìŠ¹ì¸/ë°˜ë ¤ ê²°ì •        API->>DB: ìš”ì²­ ìŠ¹ì¸ + ì¶œì„ ë¬¸ìì—´ "ê²°"â†’"ì¶œ" ë³€ê²½

            DB-->>API: ìŠ¹ì¸ ì™„ë£Œ

    alt ìŠ¹ì¸í•˜ëŠ” ê²½ìš°        API-->>UI: ìŠ¹ì¸ ì™„ë£Œ ì‘ë‹µ

        UI->>API: PUT /api/professor/attendance/requests/{id}/approve    else ë°˜ë ¤í•˜ëŠ” ê²½ìš°

        Note over UI,API: Body: {professorIdx}        UI->>API: PUT /api/professor/attendance/requests/{id}/reject

        API->>DB: ìš”ì²­ ìŠ¹ì¸ + ì¶œì„ ë¬¸ìì—´ "ê²°"â†’"ì¶œ" ë³€ê²½        Note over UI,API: Body: {professorIdx, rejectReason}

        DB-->>API: ìŠ¹ì¸ ì™„ë£Œ        API->>DB: ìš”ì²­ ë°˜ë ¤ ì²˜ë¦¬

        API-->>UI: ìŠ¹ì¸ ì™„ë£Œ ì‘ë‹µ        DB-->>API: ë°˜ë ¤ ì™„ë£Œ

    else ë°˜ë ¤í•˜ëŠ” ê²½ìš°        API-->>UI: ë°˜ë ¤ ì™„ë£Œ ì‘ë‹µ

        UI->>API: PUT /api/professor/attendance/requests/{id}/reject    end

        Note over UI,API: Body: {professorIdx, rejectReason}```

        API->>DB: ìš”ì²­ ë°˜ë ¤ ì²˜ë¦¬

        DB-->>API: ë°˜ë ¤ ì™„ë£Œ#### **ì¶œì„ ê´€ë¦¬ API ì—”ë“œí¬ì¸íŠ¸**

        API-->>UI: ë°˜ë ¤ ì™„ë£Œ ì‘ë‹µ

    end| **ê¸°ëŠ¥** | **ë©”ì„œë“œ** | **ì—”ë“œí¬ì¸íŠ¸** | **ì„¤ëª…** |

```|---------|-----------|---------------|----------|

| ì¶œì„ ì²´í¬ | `POST` | `/api/professor/attendance/mark` | ìˆ˜ì—… ì¤‘ ì¶œì„ ì²´í¬ |

### **ì¶œì„ ê´€ë¦¬ API ì—”ë“œí¬ì¸íŠ¸**| ìš”ì²­ ëª©ë¡ | `GET` | `/api/professor/attendance/requests` | ì¶œì„ ì¸ì • ìš”ì²­ ëª©ë¡ |

| ìš”ì²­ ìŠ¹ì¸ | `PUT` | `/api/professor/attendance/requests/{id}/approve` | ìš”ì²­ ìŠ¹ì¸ (ê²°â†’ì¶œ) |

| **ê¸°ëŠ¥** | **ë©”ì„œë“œ** | **ì—”ë“œí¬ì¸íŠ¸** | **ì„¤ëª…** || ìš”ì²­ ë°˜ë ¤ | `PUT` | `/api/professor/attendance/requests/{id}/reject` | ìš”ì²­ ë°˜ë ¤ |

|---------|-----------|---------------|----------|| ëŒ€ê¸° ê°œìˆ˜ | `GET` | `/api/professor/attendance/requests/count` | ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ê°œìˆ˜ |

| ì¶œì„ ì²´í¬ | `POST` | `/api/professor/attendance/mark` | ìˆ˜ì—… ì¤‘ ì¶œì„ ì²´í¬ |

| ìš”ì²­ ëª©ë¡ | `GET` | `/api/professor/attendance/requests` | ì¶œì„ ì¸ì • ìš”ì²­ ëª©ë¡ |#### **ì¶œì„ ìƒíƒœ ì½”ë“œ**

| ìš”ì²­ ìŠ¹ì¸ | `PUT` | `/api/professor/attendance/requests/{id}/approve` | ìš”ì²­ ìŠ¹ì¸ (ê²°â†’ì¶œ) |- `ì¶œ` - ì¶œì„ (ì •ìƒ ì¶œì„)

| ìš”ì²­ ë°˜ë ¤ | `PUT` | `/api/professor/attendance/requests/{id}/reject` | ìš”ì²­ ë°˜ë ¤ |- `ê²°` - ê²°ì„ (ë¬´ë‹¨ ê²°ì„)

| ëŒ€ê¸° ê°œìˆ˜ | `GET` | `/api/professor/attendance/requests/count` | ëŒ€ê¸° ì¤‘ì¸ ìš”ì²­ ê°œìˆ˜ |- `ì§€` - ì§€ê° (ëŠ¦ì€ ì¶œì„)



### **ì¶œì„ ìƒíƒœ ì½”ë“œ**#### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**



- `ì¶œ` - ì¶œì„ (ì •ìƒ ì¶œì„)```javascript

- `ê²°` - ê²°ì„ (ë¬´ë‹¨ ê²°ì„)// ì¶œì„ ì²´í¬

- `ì§€` - ì§€ê° (ëŠ¦ì€ ì¶œì„)async function markAttendance(enrollmentIdx, sessionNumber, status) {

    const response = await fetch('/api/professor/attendance/mark', {

### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**        method: 'POST',

        headers: {

```javascript            'Content-Type': 'application/json',

// ì¶œì„ ì²´í¬            'Authorization': `Bearer ${token}`

async function markAttendance(enrollmentIdx, sessionNumber, status) {        },

    const response = await fetch('/api/professor/attendance/mark', {        body: JSON.stringify({

        method: 'POST',            enrollmentIdx: enrollmentIdx,

        headers: {            sessionNumber: sessionNumber,

            'Content-Type': 'application/json',            status: status  // "ì¶œ", "ê²°", "ì§€"

            'Authorization': `Bearer ${token}`        })

        },    });

        body: JSON.stringify({    

            enrollmentIdx: enrollmentIdx,    const result = await response.json();

            sessionNumber: sessionNumber,    if (result.success) {

            status: status  // "ì¶œ", "ê²°", "ì§€"        alert('ì¶œì„ ì²´í¬ ì™„ë£Œ');

        })        refreshAttendanceList();

    });    }

    }

    const result = await response.json();

    if (result.success) {// ì¶œì„ ì¸ì • ìš”ì²­ ëª©ë¡ ì¡°íšŒ

        alert('ì¶œì„ ì²´í¬ ì™„ë£Œ');async function getAttendanceRequests(lecIdx) {

        refreshAttendanceList();    const response = await fetch(

    }        `/api/professor/attendance/requests?lecIdx=${lecIdx}&status=PENDING&page=0&size=20`, 

}        {

            headers: { 'Authorization': `Bearer ${token}` }

// ì¶œì„ ì¸ì • ìš”ì²­ ëª©ë¡ ì¡°íšŒ        }

async function getAttendanceRequests(lecIdx) {    );

    const response = await fetch(    

        `/api/professor/attendance/requests?lecIdx=${lecIdx}&status=PENDING&page=0&size=20`,     const result = await response.json();

        {    if (result.success) {

            headers: { 'Authorization': `Bearer ${token}` }        displayRequests(result.data.content);

        }        updateRequestCount(result.data.totalElements);

    );    }

    }

    const result = await response.json();

    if (result.success) {// ì¶œì„ ì¸ì • ìš”ì²­ ìŠ¹ì¸

        displayRequests(result.data.content);async function approveAttendanceRequest(requestIdx, professorIdx) {

        updateRequestCount(result.data.totalElements);    const response = await fetch(`/api/professor/attendance/requests/${requestIdx}/approve`, {

    }        method: 'PUT',

}        headers: {

            'Content-Type': 'application/json',

// ì¶œì„ ì¸ì • ìš”ì²­ ìŠ¹ì¸            'Authorization': `Bearer ${token}`

async function approveAttendanceRequest(requestIdx, professorIdx) {        },

    const response = await fetch(`/api/professor/attendance/requests/${requestIdx}/approve`, {        body: JSON.stringify({ professorIdx: professorIdx })

        method: 'PUT',    });

        headers: {    

            'Content-Type': 'application/json',    const result = await response.json();

            'Authorization': `Bearer ${token}`    if (result.success) {

        },        alert('ì¶œì„ ì¸ì • ìŠ¹ì¸ ì™„ë£Œ');

        body: JSON.stringify({ professorIdx: professorIdx })        refreshRequestList();

    });    }

    }

    const result = await response.json();

    if (result.success) {// ì¶œì„ ì¸ì • ìš”ì²­ ë°˜ë ¤

        alert('ì¶œì„ ì¸ì • ìŠ¹ì¸ ì™„ë£Œ');async function rejectAttendanceRequest(requestIdx, professorIdx, rejectReason) {

        refreshRequestList();    const response = await fetch(`/api/professor/attendance/requests/${requestIdx}/reject`, {

    }        method: 'PUT',

}        headers: {

            'Content-Type': 'application/json',

// ì¶œì„ ì¸ì • ìš”ì²­ ë°˜ë ¤            'Authorization': `Bearer ${token}`

async function rejectAttendanceRequest(requestIdx, professorIdx, rejectReason) {        },

    const response = await fetch(`/api/professor/attendance/requests/${requestIdx}/reject`, {        body: JSON.stringify({

        method: 'PUT',            professorIdx: professorIdx,

        headers: {            rejectReason: rejectReason

            'Content-Type': 'application/json',        })

            'Authorization': `Bearer ${token}`    });

        },    

        body: JSON.stringify({    const result = await response.json();

            professorIdx: professorIdx,    if (result.success) {

            rejectReason: rejectReason        alert('ìš”ì²­ì´ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤');

        })        refreshRequestList();

    });    }

    }

    const result = await response.json();```

    if (result.success) {    API->>DB: ê°•ì˜ ìƒì„¸ ì •ë³´ ì¡°íšŒ

        alert('ìš”ì²­ì´ ë°˜ë ¤ë˜ì—ˆìŠµë‹ˆë‹¤');    DB-->>API: ê°•ì˜ ìƒì„¸ ë°ì´í„°

        refreshRequestList();    API-->>UI: ê°•ì˜ ìƒì„¸ ì •ë³´ í‘œì‹œ

    }```

}

```### **1.2 ê°•ì˜ ì •ë³´ ìˆ˜ì •**



---```mermaid

sequenceDiagram

## 4. ê³¼ì œ ê´€ë¦¬ í”Œë¡œìš°    participant Professor as êµìˆ˜

    participant UI as êµìˆ˜ UI

### **4.1 ê³¼ì œ ìƒì„± ë° ê´€ë¦¬**    participant API as ê°•ì˜ API

    participant DB as ë°ì´í„°ë² ì´ìŠ¤

```mermaid

sequenceDiagram    Professor->>UI: ê°•ì˜ ì„¤ëª… ìˆ˜ì • ì„ íƒ

    participant Professor as êµìˆ˜    UI->>UI: ê°•ì˜ ì •ë³´ ìˆ˜ì • í¼ í‘œì‹œ

    participant UI as êµìˆ˜ UI

    participant API as ê³¼ì œ API    Professor->>UI: ê°•ì˜ ì„¤ëª…, ëª©í‘œ ë“± ìˆ˜ì •

    participant DB as ë°ì´í„°ë² ì´ìŠ¤    UI->>API: PUT /api/professor/lectures/{id}

    API->>API: ìˆ˜ì • ê¶Œí•œ ê²€ì¦

    Professor->>UI: ê³¼ì œ ìƒì„± ë©”ë‰´ ì„ íƒ    Note over API: ë‹´ë‹¹ êµìˆ˜ì¸ì§€ í™•ì¸

    UI->>UI: ê³¼ì œ ì •ë³´ ì…ë ¥ í¼ í‘œì‹œ

        API->>DB: ê°•ì˜ ì •ë³´ ì—…ë°ì´íŠ¸

    Professor->>UI: ê³¼ì œ ì •ë³´ ì…ë ¥ (ì œëª©, ë‚´ìš©, ë§ˆê°ì¼)    DB-->>API: ì—…ë°ì´íŠ¸ ì™„ë£Œ

    UI->>API: POST /api/professor/assignments    API-->>UI: ìˆ˜ì • ì„±ê³µ

    Note over UI,API: Body: {lecIdx, title, content, dueDate}    UI-->>Professor: ìˆ˜ì • ì™„ë£Œ ë©”ì‹œì§€

    ```

    API->>DB: ê³¼ì œ ì •ë³´ ì €ì¥

    DB-->>API: ì €ì¥ ì™„ë£Œ### **1.3 ê³µì§€ì‚¬í•­ ì‚¬ì „ ì‘ì„±**

    API-->>UI: ê³¼ì œ ìƒì„± ì„±ê³µ

    UI-->>Professor: ê³¼ì œ ìƒì„± ì™„ë£Œ ì•Œë¦¼```mermaid

```sequenceDiagram

    participant Professor as êµìˆ˜

### **4.2 ê³¼ì œ ì œì¶œ í˜„í™© ì¡°íšŒ**    participant UI as êµìˆ˜ UI

    participant API as ê³µì§€ API

```mermaid    participant DB as ë°ì´í„°ë² ì´ìŠ¤

sequenceDiagram

    participant Professor as êµìˆ˜    Professor->>UI: ê°•ì˜ ê³µì§€ ì‘ì„± ì„ íƒ

    participant UI as êµìˆ˜ UI    UI->>UI: ê³µì§€ ì‘ì„± í¼ í‘œì‹œ

    participant API as ê³¼ì œ API

    participant DB as ë°ì´í„°ë² ì´ìŠ¤    Professor->>UI: ê³µì§€ ì œëª©, ë‚´ìš© ì…ë ¥

    Note over UI: ì¤‘ìš” ê³µì§€ ì—¬ë¶€ ì„¤ì •

    Professor->>UI: ê³¼ì œ ëª©ë¡ ì¡°íšŒ

    UI->>API: GET /api/professor/assignments?lecIdx=1    UI->>API: POST /api/professor/lectures/{id}/notices

    API->>DB: ê³¼ì œ ëª©ë¡ ì¡°íšŒ    API->>API: ê¶Œí•œ ê²€ì¦

    DB-->>API: ê³¼ì œ ëª©ë¡ ë°ì´í„°    API->>DB: ê³µì§€ì‚¬í•­ ì €ì¥

    API-->>UI: ê³¼ì œ ëª©ë¡ í‘œì‹œ    DB-->>API: ì €ì¥ ì™„ë£Œ

    

    Professor->>UI: íŠ¹ì • ê³¼ì œ ì œì¶œ í˜„í™© ìš”ì²­    API-->>UI: ê³µì§€ ë“±ë¡ ì„±ê³µ

    UI->>API: GET /api/professor/assignments/{id}/submissions    UI-->>Professor: ê³µì§€ì‚¬í•­ ë“±ë¡ ì™„ë£Œ

    API->>DB: ì œì¶œ í˜„í™© ì¡°íšŒ```

    DB-->>API: ì œì¶œ í˜„í™© ë°ì´í„°

    API-->>UI: ì œì¶œ í˜„í™© í‘œì‹œ (ì œì¶œ/ë¯¸ì œì¶œ)---

```

## 2. ìˆ˜ê°•ìƒ ê´€ë¦¬ í”Œë¡œìš°

### **ê³¼ì œ ê´€ë¦¬ API ì—”ë“œí¬ì¸íŠ¸**

### **2.1 ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ**

| **ê¸°ëŠ¥** | **ë©”ì„œë“œ** | **ì—”ë“œí¬ì¸íŠ¸** | **ì„¤ëª…** |

|---------|-----------|---------------|----------|```mermaid

| ê³¼ì œ ìƒì„± | `POST` | `/api/professor/assignments` | ìƒˆ ê³¼ì œ ìƒì„± |sequenceDiagram

| ê³¼ì œ ëª©ë¡ | `GET` | `/api/professor/assignments` | êµìˆ˜ ê³¼ì œ ëª©ë¡ |    participant Professor as êµìˆ˜

| ê³¼ì œ ìˆ˜ì • | `PUT` | `/api/professor/assignments/{id}` | ê³¼ì œ ì •ë³´ ìˆ˜ì • |    participant UI as êµìˆ˜ UI

| ê³¼ì œ ì‚­ì œ | `DELETE` | `/api/professor/assignments/{id}` | ê³¼ì œ ì‚­ì œ |    participant API as ìˆ˜ê°•ìƒ API

| ì œì¶œ í˜„í™© | `GET` | `/api/professor/assignments/{id}/submissions` | ê³¼ì œ ì œì¶œ í˜„í™© |    participant DB as ë°ì´í„°ë² ì´ìŠ¤



### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**    Professor->>UI: ìˆ˜ê°•ìƒ ê´€ë¦¬ ì„ íƒ

    UI->>API: GET /api/professor/lectures/{id}/students

```javascript    API->>API: ê¶Œí•œ ê²€ì¦

// ê³¼ì œ ìƒì„±    API->>DB: ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ

async function createAssignment(lecIdx, assignmentData) {    Note over DB: í•™ìƒ ì •ë³´, ìˆ˜ê°•ì‹ ì²­ì¼,<br/>í•™ë²ˆ, í•™ê³¼, í•™ë…„ ë“±

    const response = await fetch('/api/professor/assignments', {

        method: 'POST',    DB-->>API: ìˆ˜ê°•ìƒ ë°ì´í„°

        headers: {    API-->>UI: ìˆ˜ê°•ìƒ ëª©ë¡ í‘œì‹œ

            'Content-Type': 'application/json',    UI-->>Professor: ìˆ˜ê°•ìƒ ëª©ë¡ í™•ì¸

            'Authorization': `Bearer ${token}`

        },    Professor->>UI: í•™ìƒë³„ ìƒì„¸ ì •ë³´ ì¡°íšŒ

        body: JSON.stringify({    UI->>API: GET /api/professor/students/{studentId}/details

            lecIdx: lecIdx,    API->>DB: í•™ìƒ ìƒì„¸ ì •ë³´ ì¡°íšŒ

            title: assignmentData.title,    DB-->>API: ìƒì„¸ ë°ì´í„°

            content: assignmentData.content,    API-->>UI: í•™ìƒ ìƒì„¸ ì •ë³´ í‘œì‹œ

            dueDate: assignmentData.dueDate```

        })

    });### **2.2 ìˆ˜ê°•ìƒë³„ ìƒë‹´ ë° ê´€ë¦¬**

    

    const result = await response.json();```mermaid

    if (result.success) {sequenceDiagram

        alert('ê³¼ì œê°€ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤');    participant Professor as êµìˆ˜

        refreshAssignmentList();    participant UI as êµìˆ˜ UI

    }    participant Chat as ì±„íŒ… ì‹œìŠ¤í…œ

}    participant DB as ë°ì´í„°ë² ì´ìŠ¤



// ê³¼ì œ ì œì¶œ í˜„í™© ì¡°íšŒ    Professor->>UI: í•™ìƒ ì„ íƒ ë° ì±„íŒ…

async function getSubmissionStatus(assignmentIdx) {    UI->>Chat: ì±„íŒ…ë°© ìƒì„±/ì¡°íšŒ

    const response = await fetch(`/api/professor/assignments/${assignmentIdx}/submissions`, {    Chat->>DB: ì±„íŒ…ë°© ì •ë³´ í™•ì¸

        headers: { 'Authorization': `Bearer ${token}` }    DB-->>Chat: ì±„íŒ…ë°© ë°ì´í„°

    });

        Professor->>UI: ë©”ì‹œì§€ ì…ë ¥

    const result = await response.json();    UI->>Chat: ë©”ì‹œì§€ ì „ì†¡

    if (result.success) {    Chat->>DB: ë©”ì‹œì§€ ì €ì¥

        displaySubmissionStatus(result.data);    DB-->>Chat: ì €ì¥ ì™„ë£Œ

    }

}    Chat->>UI: ë©”ì‹œì§€ ì „ì†¡ ì„±ê³µ

```    UI-->>Professor: ë©”ì‹œì§€ ì „ì†¡ ì™„ë£Œ



---    Note over Chat: ì‹¤ì‹œê°„ ì•Œë¦¼ ë°œì†¡

```

## 5. ì„±ì  ê´€ë¦¬ í”Œë¡œìš°

---

### **5.1 ì„±ì  ì…ë ¥ ë° ê´€ë¦¬**

## 3. ì¶œê²° ê´€ë¦¬ í”Œë¡œìš°

```mermaid

sequenceDiagram### **3.1 ì¶œì„ í˜„í™© ì¡°íšŒ**

    participant Professor as êµìˆ˜

    participant UI as êµìˆ˜ UI```mermaid

    participant API as ìˆ˜ê°• APIsequenceDiagram

    participant DB as ë°ì´í„°ë² ì´ìŠ¤    participant Professor as êµìˆ˜

    participant UI as êµìˆ˜ UI

    Professor->>UI: ì„±ì  ê´€ë¦¬ ë©”ë‰´ ì„ íƒ    participant API as ì¶œê²° API

    UI->>API: GET /api/enrollments?lecIdx=1    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    API->>DB: ìˆ˜ê°•ìƒ ëª©ë¡ ì¡°íšŒ

    DB-->>API: ìˆ˜ê°•ìƒ ë°ì´í„°    Professor->>UI: ì¶œê²° ê´€ë¦¬ ì„ íƒ

    API-->>UI: ìˆ˜ê°•ìƒ ëª©ë¡ í‘œì‹œ    UI->>API: GET /api/professor/lectures/{id}/attendance

        API->>DB: ì¶œì„ ë°ì´í„° ì¡°íšŒ

    Professor->>UI: í•™ìƒë³„ ì„±ì  ì…ë ¥    Note over DB: ë‚ ì§œë³„ ì¶œì„ í˜„í™©,<br/>í•™ìƒë³„ ì¶œì„ë¥  ê³„ì‚°

    UI->>API: PUT /api/enrollments/{id}/grade

    Note over UI,API: Body: {midtermScore, finalScore, assignmentScore}    DB-->>API: ì¶œì„ ë°ì´í„°

        API-->>UI: ì¶œì„ í˜„í™© í‘œì‹œ

    API->>DB: ì„±ì  ì •ë³´ ì—…ë°ì´íŠ¸    UI-->>Professor: ì¶œì„ í˜„í™© í™•ì¸

    API->>API: ì´ ì„±ì  ìë™ ê³„ì‚°

    DB-->>API: ì—…ë°ì´íŠ¸ ì™„ë£Œ    Professor->>UI: íŠ¹ì • ë‚ ì§œ ì„ íƒ

    API-->>UI: ì„±ì  ì…ë ¥ ì™„ë£Œ    UI->>API: GET /api/professor/attendance?date=2025-03-15

```    API->>DB: í•´ë‹¹ ë‚ ì§œ ì¶œì„ ì¡°íšŒ

    DB-->>API: ë‚ ì§œë³„ ì¶œì„ ë°ì´í„°

### **ì„±ì  ê´€ë¦¬ API ì—”ë“œí¬ì¸íŠ¸**    API-->>UI: ë‚ ì§œë³„ ì¶œì„ ìƒì„¸ í‘œì‹œ

```

| **ê¸°ëŠ¥** | **ë©”ì„œë“œ** | **ì—”ë“œí¬ì¸íŠ¸** | **ì„¤ëª…** |

|---------|-----------|---------------|----------|### **3.2 ì¶œì„ ìŠ¹ì¸ ì²˜ë¦¬**

| ì„±ì  ì…ë ¥ | `PUT` | `/api/enrollments/{id}/grade` | í•™ìƒ ì„±ì  ì…ë ¥ |

| ì„±ì  ì¡°íšŒ | `GET` | `/api/enrollments/{id}` | í•™ìƒ ì„±ì  ì¡°íšŒ |```mermaid

| ì„±ì  í†µê³„ | `GET` | `/api/professor/lectures/{id}/statistics` | ê°•ì˜ ì„±ì  í†µê³„ |sequenceDiagram

    participant Professor as êµìˆ˜

### **í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**    participant UI as êµìˆ˜ UI

    participant API as ì¶œê²° API

```javascript    participant DB as ë°ì´í„°ë² ì´ìŠ¤

// ì„±ì  ì…ë ¥    participant Student as í•™ìƒ ì‹œìŠ¤í…œ

async function updateGrade(enrollmentIdx, gradeData) {

    const response = await fetch(`/api/enrollments/${enrollmentIdx}/grade`, {    Professor->>UI: ì¶œì„ ìš”ì²­ ëª©ë¡ í™•ì¸

        method: 'PUT',    UI->>API: GET /api/professor/attendance/requests

        headers: {    API->>DB: ë¯¸ìŠ¹ì¸ ì¶œì„ ìš”ì²­ ì¡°íšŒ

            'Content-Type': 'application/json',    DB-->>API: ì¶œì„ ìš”ì²­ ëª©ë¡

            'Authorization': `Bearer ${token}`    API-->>UI: ì¶œì„ ìš”ì²­ ëª©ë¡ í‘œì‹œ

        },

        body: JSON.stringify({    Professor->>UI: ì¶œì„ ìŠ¹ì¸/ê±°ë¶€ ì„ íƒ

            midtermScore: gradeData.midterm,    UI->>API: PUT /api/professor/attendance/{id}/approve

            finalScore: gradeData.final,    API->>API: ìŠ¹ì¸ ì²˜ë¦¬

            assignmentScore: gradeData.assignment    API->>DB: ì¶œì„ ìƒíƒœ ì—…ë°ì´íŠ¸

        })    DB-->>API: ì—…ë°ì´íŠ¸ ì™„ë£Œ

    });

        API->>Student: ì¶œì„ ìŠ¹ì¸ ì•Œë¦¼ ë°œì†¡

    const result = await response.json();    Student-->>API: ì•Œë¦¼ í™•ì¸

    if (result.success) {

        alert('ì„±ì ì´ ì…ë ¥ë˜ì—ˆìŠµë‹ˆë‹¤');    API-->>UI: ìŠ¹ì¸ ì™„ë£Œ

        refreshGradeList();    UI-->>Professor: ì¶œì„ ìŠ¹ì¸ ì²˜ë¦¬ ì™„ë£Œ

    }```

}

```### **3.3 ì¶œì„ í†µê³„ ë° ë³´ê³ **



---```mermaid

sequenceDiagram

## ğŸ“Š êµìˆ˜ ëŒ€ì‹œë³´ë“œ ìš”ì•½    participant Professor as êµìˆ˜

    participant UI as êµìˆ˜ UI

### **ì£¼ìš” ì§€í‘œ**    participant API as ì¶œê²° API

    participant DB as ë°ì´í„°ë² ì´ìŠ¤

- ë‹´ë‹¹ ê°•ì˜ ìˆ˜

- ì´ ìˆ˜ê°•ìƒ ìˆ˜    Professor->>UI: ì¶œì„ í†µê³„ ì¡°íšŒ

- **ì¶œì„ ì¸ì • ëŒ€ê¸° ìš”ì²­ ìˆ˜** ğŸ†•    UI->>API: GET /api/professor/lectures/{id}/attendance/stats

- ë¯¸ì±„ì  ê³¼ì œ ìˆ˜    API->>DB: ì¶œì„ í†µê³„ ê³„ì‚°

- í‰ê·  ì¶œì„ë¥     Note over DB: ì „ì²´ ì¶œì„ë¥ , ê²°ì„ë¥ ,<br/>ì§€ê°ë¥ , í•™ìƒë³„ í†µê³„



### **ë°”ë¡œê°€ê¸° ë©”ë‰´**    DB-->>API: í†µê³„ ë°ì´í„°

    API-->>UI: ì¶œì„ í†µê³„ ì°¨íŠ¸ í‘œì‹œ

- ì¶œì„ ì²´í¬ ğŸ†•    UI-->>Professor: ì¶œì„ í†µê³„ í™•ì¸

- ì¶œì„ ì¸ì • ìš”ì²­ ê´€ë¦¬ ğŸ†•

- ê³¼ì œ ê´€ë¦¬    Professor->>UI: ì¶œì„ ë³´ê³ ì„œ ë‹¤ìš´ë¡œë“œ

- ì„±ì  ì…ë ¥    UI->>API: GET /api/professor/attendance/export

- ìˆ˜ê°•ìƒ ê´€ë¦¬    API->>API: ì—‘ì…€/PDF ìƒì„±

    API-->>UI: ë³´ê³ ì„œ íŒŒì¼ ë‹¤ìš´ë¡œë“œ

---```



## ğŸ”„ ì—…ë°ì´íŠ¸ íˆìŠ¤í† ë¦¬---



### **Version 3.0 (2025-10-15) - Phase 6.9**## 4. ì„±ì  ê´€ë¦¬ í”Œë¡œìš°



- âœ… **ì¶œì„ ê´€ë¦¬ ì‹œìŠ¤í…œ ì™„ë£Œ**### **4.1 ì„±ì  ì…ë ¥ ë° ìˆ˜ì •**

  - ì¶œì„ ì²´í¬ API (`POST /api/professor/attendance/mark`)

  - ì¶œì„ ì¸ì • ìš”ì²­/ìŠ¹ì¸ ì‹œìŠ¤í…œ```mermaid

  - ì¶œì„ ìƒíƒœ: ì¶œ/ê²°/ì§€ 3ê°€ì§€ë¡œ ê°„ì†Œí™”sequenceDiagram

  - ë¬¸ìì—´ ê¸°ë°˜ ì¶œì„ ë°ì´í„° ì €ì¥ ("1ì¶œ2ì¶œ3ê²°...")    participant Professor as êµìˆ˜

    participant UI as êµìˆ˜ UI

### **Version 2.3 (2025-10-14) - Phase 6.8**    participant API as ì„±ì  API

    participant DB as ë°ì´í„°ë² ì´ìŠ¤

- âœ… ê³¼ì œ ê´€ë¦¬ DTO íŒ¨í„´ ì ìš©

- âœ… AssignmentExtendedTbl Lazy Loading ë²„ê·¸ ìˆ˜ì •    Professor->>UI: ì„±ì  ê´€ë¦¬ ì„ íƒ

    UI->>API: GET /api/professor/lectures/{id}/grades

### **Version 2.2 (2025-10-13)**    API->>DB: ì„±ì  ë°ì´í„° ì¡°íšŒ

    DB-->>API: ì„±ì  ë°ì´í„°

- âœ… êµìˆ˜ ì´ë¦„ ì¡°íšŒ ê¸°ëŠ¥ ì¶”ê°€    API-->>UI: ì„±ì  ì…ë ¥ í¼ í‘œì‹œ

- âœ… ëª¨ë“  í•„ë“œëª… ëŒ€ë¬¸ì + ì–¸ë”ìŠ¤ì½”ì–´ ê·œì¹™ í†µì¼
    Professor->>UI: ì„±ì  ì…ë ¥/ìˆ˜ì •
    Note over UI: ì¤‘ê°„/ê¸°ë§/ê³¼ì œ/ì°¸ì—¬ ì ìˆ˜

    UI->>API: PUT /api/professor/grades
    API->>API: ì„±ì  ê²€ì¦
    Note over API: ì ìˆ˜ ë²”ìœ„, ì´ì  ê³„ì‚°

    API->>DB: ì„±ì  ì €ì¥
    DB-->>API: ì €ì¥ ì™„ë£Œ
    API-->>UI: ì„±ì  ì €ì¥ ì„±ê³µ
    UI-->>Professor: ì„±ì  ì…ë ¥ ì™„ë£Œ
```

### **4.2 ì„±ì  í™•ì • ë° ê³µê°œ**

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ì„±ì  API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    participant Student as í•™ìƒ ì‹œìŠ¤í…œ

    Professor->>UI: ì„±ì  í™•ì • ì„ íƒ
    UI->>API: POST /api/professor/grades/{lectureId}/finalize
    API->>API: ì„±ì  ì™„ì„±ë„ ê²€ì¦
    Note over API: ëª¨ë“  í•™ìƒ ì„±ì  ì…ë ¥ í™•ì¸

    API->>DB: ì„±ì  í™•ì • ì²˜ë¦¬
    DB-->>API: í™•ì • ì™„ë£Œ

    API->>Student: ì„±ì  ê³µê°œ ì•Œë¦¼
    Student-->>API: ì•Œë¦¼ í™•ì¸

    API-->>UI: ì„±ì  í™•ì • ì™„ë£Œ
    UI-->>Professor: ì„±ì  í™•ì • ì²˜ë¦¬ ì™„ë£Œ
```

---

## 5. ê°•ì˜ ìš´ì˜ í”Œë¡œìš°

### **5.1 ê³¼ì œ ìƒì„± ë° ë“±ë¡**

#### **Phase 6.8 DTO íŒ¨í„´ ì ìš©**
- **í•„ë“œëª… ê·œì¹™**: camelCase (lecIdx, title, body, maxScore, dueDate)
- **ì—”í‹°í‹° êµ¬ì¡°**: AssignmentExtendedTbl (assignmentData JSON ì €ì¥)
- **API ê·œê²©**: RESTful, camelCase ì‘ë‹µ

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ê³¼ì œ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: ê³¼ì œ ë“±ë¡ ì„ íƒ
    UI->>UI: ê³¼ì œ ì‘ì„± í¼ í‘œì‹œ

    Professor->>UI: ê³¼ì œ ì •ë³´ ì…ë ¥
    Note over UI: lecIdx: ê°•ì˜ ID<br/>title: ê³¼ì œ ì œëª©<br/>body: ê³¼ì œ ì„¤ëª…<br/>maxScore: ë°°ì <br/>dueDate: ë§ˆê°ì¼

    UI->>API: POST /api/assignments
    Note over API: DTO íŒ¨í„´<br/>{lecIdx, title, body,<br/>maxScore, dueDate}

    API->>API: ê³¼ì œ ì •ë³´ ê²€ì¦
    Note over API: í•„ìˆ˜ í•„ë“œ í™•ì¸<br/>ë‚ ì§œ í˜•ì‹ ê²€ì¦<br/>ì ìˆ˜ ë²”ìœ„ í™•ì¸

    API->>DB: AssignmentExtendedTbl ìƒì„±
    Note over DB: assignmentData JSON:<br/>{assignment: {...},<br/>submissions: []}

    DB-->>API: ì €ì¥ ì™„ë£Œ (assignmentIdx ë°˜í™˜)
    API-->>UI: 201 Created
    Note over API: {assignmentIdx, lecIdx,<br/>assignmentData}

    UI-->>Professor: ê³¼ì œ ë“±ë¡ ì™„ë£Œ
    Note over UI: í•™ìƒë“¤ì—ê²Œ ê³¼ì œ ì•Œë¦¼ ë°œì†¡
```

### **5.2 ê³¼ì œ ëª©ë¡ ì¡°íšŒ**

#### **ë²„ê·¸ ìˆ˜ì •: Lazy Loading ì§ë ¬í™” ë¬¸ì œ í•´ê²°**
- **ë¬¸ì œ**: `AssignmentExtendedTbl.lecture` í•„ë“œì˜ LAZY ë¡œë”©ì´ JSON ì§ë ¬í™” ì‹œ `LazyInitializationException` ë°œìƒ
- **í•´ê²°**: `@JsonIgnore` ì–´ë…¸í…Œì´ì…˜ ì¶”ê°€í•˜ì—¬ JSON ì‘ë‹µì—ì„œ ì œì™¸
- **íš¨ê³¼**: ì´ì¤‘ JSON ì‘ë‹µ ë° 400 Bad Request ì—ëŸ¬ í•´ê²°

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ê³¼ì œ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: ê³¼ì œ ëª©ë¡ ì¡°íšŒ
    UI->>API: GET /api/assignments?lecIdx={id}&page={n}&size={n}
    Note over API: DTO íŒ¨í„´ íŒŒë¼ë¯¸í„°:<br/>lecIdx (camelCase)

    API->>DB: Page<AssignmentExtendedTbl> ì¡°íšŒ
    Note over DB: lecture í•„ë“œëŠ”<br/>@JsonIgnoreë¡œ<br/>ì§ë ¬í™” ì œì™¸

    DB-->>API: Page ê°ì²´ ë°˜í™˜
    API->>API: JSON ì§ë ¬í™”
    Note over API: lecture í•„ë“œ ì œì™¸<br/>assignmentData í¬í•¨

    API-->>UI: 200 OK - Page<Assignment>
    Note over API: {content: [...],<br/>totalElements,<br/>totalPages, ...}

    UI->>UI: assignmentData JSON íŒŒì‹±
    Note over UI: assignment.title<br/>assignment.description<br/>assignment.dueDate<br/>assignment.maxScore

    UI-->>Professor: ê³¼ì œ ëª©ë¡ í‘œì‹œ
    Note over UI: ì œëª©, ë§ˆê°ì¼, ë°°ì ,<br/>ì œì¶œ ìˆ˜ í‘œì‹œ
```

### **5.3 ì œì¶œëœ ê³¼ì œ ëª©ë¡ ì¡°íšŒ**

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ê³¼ì œ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: ì œì¶œëœ ê³¼ì œ ëª©ë¡ ì¡°íšŒ
    UI->>API: GET /api/assignments/{id}/data
    Note over API: assignmentData JSON ì¡°íšŒ

    API->>DB: AssignmentExtendedTbl ì¡°íšŒ
    DB-->>API: assignmentData JSON
    Note over DB: {assignment: {...},<br/>submissions: [...]}

    API-->>UI: 200 OK - AssignmentData
    Note over API: {assignment, submissions}

    UI->>UI: submissions ë°°ì—´ íŒŒì‹±
    Note over UI: studentIdx, submittedAt,<br/>fileUrl, score, feedback

    UI-->>Professor: ì œì¶œë¬¼ ëª©ë¡ í‘œì‹œ
    Note over UI: í•™ìƒëª…, ì œì¶œì¼,<br/>ì ìˆ˜, ìƒíƒœ í‘œì‹œ
```

### **5.4 ê³¼ì œ ì±„ì **

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ê³¼ì œ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤
    participant Student as í•™ìƒ ì•Œë¦¼

    Professor->>UI: ì œì¶œë¬¼ ì„ íƒ ë° ì±„ì 
    UI->>UI: ì±„ì  í¼ í‘œì‹œ

    Professor->>UI: ì ìˆ˜ ë° í”¼ë“œë°± ì…ë ¥
    Note over UI: studentIdx<br/>score<br/>feedback

    UI->>API: PUT /api/assignments/{id}/grade
    Note over API: DTO íŒ¨í„´<br/>{studentIdx, score,<br/>feedback}

    API->>DB: assignmentData JSON ì—…ë°ì´íŠ¸
    Note over DB: submissions ë°°ì—´ì—ì„œ<br/>í•´ë‹¹ í•™ìƒ ì°¾ê¸°<br/>score, feedback,<br/>gradedAt ì—…ë°ì´íŠ¸

    DB-->>API: ì €ì¥ ì™„ë£Œ
    API->>Student: ì±„ì  ì™„ë£Œ ì•Œë¦¼ ë°œì†¡
    Student-->>API: ì•Œë¦¼ ìˆ˜ì‹ 

    API-->>UI: 200 OK
    UI-->>Professor: ê³¼ì œ ì±„ì  ì™„ë£Œ
```

---

### **ğŸ“Š ê³¼ì œ ë°ì´í„° ì €ì¥ êµ¬ì¡°**

ê³¼ì œ ì œì¶œ í˜„í™©ì€ `ASSIGNMENT_EXTENDED_TBL.ASSIGNMENT_DATA` (LONGTEXT) ì»¬ëŸ¼ì— JSON í˜•ì‹ìœ¼ë¡œ ì €ì¥ë©ë‹ˆë‹¤.

#### **JSON êµ¬ì¡° ì˜ˆì‹œ**

```json
{
  "assignment": {
    "title": "ì¤‘ê°„ê³ ì‚¬ ëŒ€ì²´ ë ˆí¬íŠ¸",
    "description": "5000ì ì´ìƒì˜ ë ˆí¬íŠ¸ë¥¼ ì‘ì„±í•˜ì‹œì˜¤",
    "dueDate": "2025-10-30T23:59:59",
    "maxScore": 100,
    "createdAt": "2025-10-01T09:00:00"
  },
  "submissions": [
    {
      "studentIdx": 101,
      "submitted": true,
      "submissionMethod": "ì„œë©´ ì œì¶œ (2025-10-15)",
      "submittedAt": "2025-10-15T14:30:00",
      "score": 95,
      "feedback": "í›Œë¥­í•©ë‹ˆë‹¤",
      "gradedAt": "2025-10-16T10:00:00"
    },
    {
      "studentIdx": 102,
      "submitted": true,
      "submissionMethod": "ì´ë©”ì¼ ì œì¶œ (prof@example.com)",
      "submittedAt": "2025-10-16T09:00:00",
      "score": 88,
      "feedback": "ì–‘í˜¸í•¨",
      "gradedAt": "2025-10-17T11:00:00"
    },
    {
      "studentIdx": 103,
      "submitted": false,
      "submissionMethod": null,
      "submittedAt": null,
      "score": 0,
      "feedback": "ë¯¸ì œì¶œ",
      "gradedAt": "2025-10-31T10:00:00"
    }
  ]
}
```

#### **ë°ì´í„° í¬ê¸° ì‚°ì •**

| í•™ìƒ ìˆ˜ | ì˜ˆìƒ í¬ê¸° | LONGTEXT ìš©ëŸ‰ ëŒ€ë¹„ |
|---------|-----------|-------------------|
| 20ëª… | ì•½ 6KB | 0.0001% |
| 50ëª… | ì•½ 15KB | 0.0004% |
| 100ëª… | ì•½ 30KB | 0.0007% |
| 500ëª… | ì•½ 150KB | 0.0035% |
| **LONGTEXT ìµœëŒ€** | **4GB** | **100%** |

ğŸ’¡ **ê²°ë¡ **: í•™ìƒ 500ëª…ê¹Œì§€ë„ ì „í˜€ ë¬¸ì œ ì—†ìœ¼ë©°, ëŒ€í˜• ê°•ì˜ì‹¤(1000ëª…+)ì—ì„œë„ ì¶©ë¶„íˆ ìˆ˜ìš© ê°€ëŠ¥í•©ë‹ˆë‹¤.

#### **ì„¤ê³„ ì² í•™**

1. **ì˜¤í”„ë¼ì¸ ì œì¶œ ëª¨ë¸**
   - ì‹¤ì œ íŒŒì¼ ì €ì¥ ì—†ìŒ (ì„œë©´/ì´ë©”ì¼/ë“œë¼ì´ë¸Œ ë“±ìœ¼ë¡œ ì œì¶œ)
   - DBì—ëŠ” ì œì¶œ ìƒíƒœ + ì±„ì  ê²°ê³¼ë§Œ ì €ì¥

2. **ìœ ì—°í•œ ì œì¶œ ë°©ì‹ ê¸°ë¡**
   - `submissionMethod` í•„ë“œì— êµìˆ˜ê°€ ì§ì ‘ ì…ë ¥
   - ì˜ˆì‹œ: "ì„œë©´ ì œì¶œ (2025-10-15)", "ì´ë©”ì¼ ì œì¶œ", "êµ¬ê¸€ ë“œë¼ì´ë¸Œ ë§í¬ ì œì¶œ"

3. **JSON ê¸°ë°˜ í™•ì¥ì„±**
   - ìŠ¤í‚¤ë§ˆ ë³€ê²½ ì—†ì´ í•„ë“œ ì¶”ê°€ ê°€ëŠ¥
   - ë‹¨ì¼ ì¿¼ë¦¬ë¡œ ê³¼ì œ + ëª¨ë“  ì œì¶œ í˜„í™© ì¡°íšŒ

4. **ì„±ì  ê´€ë¦¬ í†µí•©**
   - `score` í•„ë“œëŠ” ì„±ì  ê³„ì‚° ì‹œ ìë™ ë°˜ì˜
   - ìˆ˜ê°•ìƒë³„ ì´ì  = ì¤‘ê°„ê³ ì‚¬ + ê¸°ë§ê³ ì‚¬ + Î£(ê³¼ì œì ìˆ˜)

---

### **5.5 ê³¼ì œ ìˆ˜ì •**

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ê³¼ì œ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: ê³¼ì œ ìˆ˜ì • ì„ íƒ
    UI->>API: GET /api/assignments/{id}/data
    API->>DB: ê³¼ì œ ì •ë³´ ì¡°íšŒ
    DB-->>API: assignmentData JSON
    API-->>UI: ê¸°ì¡´ ê³¼ì œ ì •ë³´ í‘œì‹œ

    Professor->>UI: ê³¼ì œ ì •ë³´ ìˆ˜ì •
    Note over UI: title, body,<br/>dueDate, maxScore

    UI->>API: PUT /api/assignments/{id}
    Note over API: DTO íŒ¨í„´<br/>{title, body,<br/>dueDate, maxScore}

    API->>DB: assignmentData JSON ì—…ë°ì´íŠ¸
    Note over DB: assignment ê°ì²´<br/>í•„ë“œ ì—…ë°ì´íŠ¸

    DB-->>API: ì—…ë°ì´íŠ¸ ì™„ë£Œ
    API-->>UI: 200 OK
    Note over API: {assignmentIdx, lecIdx}

    UI-->>Professor: ê³¼ì œ ìˆ˜ì • ì™„ë£Œ
```

### **5.6 ê³¼ì œ ì‚­ì œ**

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as ê³¼ì œ API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: ê³¼ì œ ì‚­ì œ ì„ íƒ
    UI->>UI: ì‚­ì œ í™•ì¸ ëŒ€í™”ìƒì
    Professor->>UI: ì‚­ì œ í™•ì¸

    UI->>API: DELETE /api/assignments/{id}
    API->>API: ì‚­ì œ ê¶Œí•œ ê²€ì¦
    Note over API: ë‹´ë‹¹ êµìˆ˜ í™•ì¸

    API->>DB: AssignmentExtendedTbl ì‚­ì œ
    DB-->>API: ì‚­ì œ ì™„ë£Œ

    API-->>UI: 204 No Content
    UI-->>Professor: ê³¼ì œ ì‚­ì œ ì™„ë£Œ
```

### **5.7 íœ´ê°• ë° ë³´ê°• ê´€ë¦¬**

```mermaid
sequenceDiagram
    participant Professor as êµìˆ˜
    participant UI as êµìˆ˜ UI
    participant API as íœ´ê°• API
    participant DB as ë°ì´í„°ë² ì´ìŠ¤

    Professor->>UI: íœ´ê°• ë“±ë¡ ì„ íƒ
    UI->>UI: íœ´ê°• ë“±ë¡ í¼ í‘œì‹œ

    Professor->>UI: íœ´ê°• ë‚ ì§œ, ì‚¬ìœ  ì…ë ¥
    UI->>API: POST /api/professor/cancellations
    API->>API: íœ´ê°• ì²˜ë¦¬
    Note over API: ìŠ¤ì¼€ì¤„ ìë™ ì¡°ì •,<br/>ì¢…ê°•ì¼ ì—°ì¥

    API->>DB: íœ´ê°• ì •ë³´ ì €ì¥
    DB-->>API: ì €ì¥ ì™„ë£Œ

    API-->>UI: íœ´ê°• ë“±ë¡ ì„±ê³µ
    UI-->>Professor: íœ´ê°• ì²˜ë¦¬ ì™„ë£Œ

    Professor->>UI: ë³´ê°• ìˆ˜ì—… ìŠ¤ì¼€ì¤„ë§
    UI->>API: POST /api/professor/makeups
    API->>DB: ë³´ê°• ìŠ¤ì¼€ì¤„ ì €ì¥
    DB-->>API: ì €ì¥ ì™„ë£Œ
    API-->>UI: ë³´ê°• ìŠ¤ì¼€ì¤„ ë“±ë¡ ì™„ë£Œ
```

---

## ğŸ“‹ êµìˆ˜ ì£¼ìš” ì—…ë¬´ í”„ë¡œì„¸ìŠ¤

### **í•™ê¸° ì „ ì¤€ë¹„**
1. **ê°•ì˜ ê³„íš ê²€í† **: ë°°ì •ëœ ê°•ì˜ í™•ì¸ ë° ì¤€ë¹„
2. **ê°•ì˜ ì •ë³´ ë³´ì™„**: ì„¤ëª…, ëª©í‘œ, í‰ê°€ë°©ë²• ì‘ì„±
3. **ê³µì§€ì‚¬í•­ ì‘ì„±**: ìˆ˜ê°•ì‹ ì²­ ì „ ì£¼ìš” ê³µì§€ ë“±ë¡

### **ìˆ˜ê°•ì‹ ì²­ ê¸°ê°„**
1. **ìˆ˜ê°•ìƒ ëª¨ë‹ˆí„°ë§**: ë“±ë¡ í•™ìƒ í˜„í™© í™•ì¸
2. **ë¬¸ì˜ ëŒ€ì‘**: í•™ìƒ ì§ˆë¬¸ì— ì±„íŒ…ìœ¼ë¡œ ì‘ëŒ€
3. **ê°•ì˜ ì¤€ë¹„**: ì„¸ë¶€ ì»¤ë¦¬í˜ëŸ¼ ë° ìë£Œ ì¤€ë¹„

### **í•™ê¸° ì¤‘ ìš´ì˜**
1. **ì¶œê²° ê´€ë¦¬**: ë§¤ì£¼ ì¶œì„ ìŠ¹ì¸ ë° ëª¨ë‹ˆí„°ë§
2. **ê°•ì˜ ì§„í–‰**: ê³µì§€ì‚¬í•­ ë“±ë¡, ìë£Œ ê³µìœ 
3. **ê³¼ì œ ê´€ë¦¬**: ê³¼ì œ ì¶œì œ ë° ì±„ì 
4. **í•™ìƒ ìƒë‹´**: ê°œë³„ í•™ìƒê³¼ì˜ ì±„íŒ… ìƒë‹´

### **í•™ê¸° ë§ ì •ë¦¬**
1. **ì„±ì  ì…ë ¥**: ëª¨ë“  í‰ê°€ ìš”ì†Œ ì…ë ¥ ë° í™•ì •
2. **í”¼ë“œë°± ìˆ˜ë ´**: í•™ìƒë“¤ì˜ ê°•ì˜ í‰ê°€ í™•ì¸
3. **ë‹¤ìŒ í•™ê¸° ì¤€ë¹„**: ê°œì„ ì‚¬í•­ ì •ë¦¬ ë° ê³„íš

---

## ğŸ¯ ë‹¤ìŒ ë‹¨ê³„

êµìˆ˜ í”Œë¡œìš°ë¥¼ ì •ì˜í–ˆìœ¼ë‹ˆ [í•™ìƒ í”Œë¡œìš°](./06-í•™ìƒí”Œë¡œìš°.md)ì—ì„œ í•™ìƒ ê´€ì ì˜ ì‚¬ìš© ì‹œë‚˜ë¦¬ì˜¤ë¥¼ ê¸°ìˆ í•©ë‹ˆë‹¤.