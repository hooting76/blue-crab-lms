# 07. 구현 순서

> **작성일**: 2025-10-10  
> **업데이트**: 2025-10-11  
> **버전**: 3.0 (Entity & DTO 레이어 완료)  
> **변경사항**: 
> - Phase 1-2: 데이터베이스 구축 완료 ✅
> - Phase 3: Entity 3개, DTO 11개 생성 완료 ✅
> - 폴더 구조화 완료 (entity/Lecture/, dto/Lecture/) ✅

---

## 📅 개발 일정 및 구현 순서

강의 관리 시스템의 **최소화 구현 계획**입니다. 신규 테이블 2개로 모든 기능을 구현합니다.

---

## 📋 목차

1. [프로젝트 준비 단계](#1-프로젝트-준비-단계)
2. [Phase 1: 데이터베이스 구축](#2-phase-1-데이터베이스-구축)
3. [Phase 2: 백엔드 기본 기능](#3-phase-2-백엔드-기본-기능)
4. [Phase 3: 수강관리 기능](#4-phase-3-수강관리-기능)
5. [Phase 4: 과제관리 기능](#5-phase-4-과제관리-기능)
6. [Phase 5: 평가 및 게시판](#6-phase-5-평가-및-게시판)
7. [테스트 및 배포](#7-테스트-및-배포)

---

## 1. 프로젝트 준비 단계

### **1.1 환경 설정 및 계획 수립**
- **기간**: 3일
- **담당**: 개발팀 전체
- **작업 내용**:
  - 개발 환경 구축 (JDK 17, Maven, VS Code)
  - Git 저장소 및 브랜치 전략 수립
  - **최소화 데이터베이스 설계** (2개 신규 테이블)
  - 간소화된 API 명세서 작성
  - 프로젝트 구조 설계

### **1.2 기본 프로젝트 구조 생성**
- **기간**: 2일
- **담당**: 백엔드 개발자
- **작업 내용**:
  - Spring Boot 프로젝트 생성
  - **LEC_TBL JPA 엔티티 확장**
  - **2개 신규 테이블 JPA 엔티티 생성**
  - 기본 Repository, Service, Controller 구조 설계
  - 보안 설정 (JWT, 권한)
  - JSON 데이터 처리 설정

---

## 2. Phase 1: 데이터베이스 구축 (테이블별 완결 방식)

### **작업 원칙**
- ✅ **한 테이블씩 완전히 완결하고 다음으로 이동**
- ✅ **각 테이블마다: SQL 실행 → JPA 엔티티 → Repository → 테스트 완료**
- ✅ **기존 테이블 수정을 최우선 진행**
- ✅ **명명 규칙**: 모든 테이블/컬럼명은 **대문자 + 언더스코어** (예: `LEC_TBL`, `USER_IDX`)

---

### **2.1 기존 테이블 확장 (USER_TBL)** ✅
- **기간**: 1일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐ (최우선)
- **상태**: ✅ 완료 (2025-10-10)

**작업 순서**:
1. [x] **SQL 실행**: `ALTER TABLE USER_TBL ADD COLUMN LECTURE_EVALUATIONS LONGTEXT`
2. [x] **JPA 엔티티 수정**: UserTbl.java에 lectureEvaluations 필드 추가
3. [x] **Repository 테스트**: 데이터 저장/조회 확인
4. [x] **완결 확인**: 평가 데이터 CRUD 동작 검증

**쿼리**:
```sql
-- 1단계: 잘못된 컬럼 삭제 (이미 추가한 경우)
ALTER TABLE USER_TBL DROP COLUMN IF EXISTS lectureEvaluations;

-- 2단계: 올바른 명명 규칙으로 추가
ALTER TABLE USER_TBL 
ADD COLUMN LECTURE_EVALUATIONS LONGTEXT COMMENT '강의 평가 데이터 (JSON 배열)';
```

---

### **2.2 기존 테이블 확장 (LEC_TBL)** ✅
- **기간**: 1일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐
- **상태**: ✅ 완료 (2025-10-10)

**작업 순서**:
1. [x] **SQL 실행**: LEC_TBL에 필요한 컬럼 추가 (LEC_CURRENT, LEC_YEAR, LEC_SEMESTER)
2. [x] **JPA 엔티티 생성**: LecTbl.java 완성 (entity/Lecture/LecTbl.java)
3. [x] **비즈니스 메서드 추가**: isOpenForEnrollment(), isFull(), getAvailableSeats()
4. [ ] **Repository 생성**: LecTblRepository.java (다음 단계)
5. [ ] **Service 기본 구현**: 강의 CRUD 메서드 (다음 단계)
6. [ ] **완결 확인**: 강의 생성/조회/수정/삭제 테스트 (다음 단계)

**쿼리**:
```sql
-- LEC_TBL 확장: 강의 관리 필드 추가 (모두 대문자+언더스코어)
ALTER TABLE LEC_TBL 
ADD COLUMN LEC_CURRENT INT DEFAULT 0 COMMENT '현재 수강 인원',
ADD COLUMN LEC_YEAR INT COMMENT '학년도',
ADD COLUMN LEC_SEMESTER INT COMMENT '학기 (1:1학기, 2:2학기)',
ADD COLUMN LEC_MAX_STUDENTS INT DEFAULT 30 COMMENT '최대 수강 인원',
ADD COLUMN LEC_STATUS VARCHAR(20) DEFAULT 'OPEN' COMMENT '강의 상태 (OPEN/CLOSED/FULL)';
```

---

### **2.3 신규 테이블 생성 (ENROLLMENT_EXTENDED_TBL)** ✅
- **기간**: 2일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐
- **상태**: ✅ Entity/DTO 완료 (2025-10-11)

**작업 순서**:
1. [x] **SQL 실행**: CREATE TABLE ENROLLMENT_EXTENDED_TBL
2. [x] **인덱스 생성**: 외래 키 및 성능 인덱스
3. [x] **JPA 엔티티 생성**: EnrollmentExtendedTbl.java (entity/Lecture/EnrollmentExtendedTbl.java)
4. [x] **DTO 생성**: EnrollmentDto.java, EnrollmentCreateRequest.java
5. [ ] **Repository 생성**: EnrollmentExtendedTblRepository.java (다음 단계)
6. [ ] **Service 구현**: 수강신청/출결/성적 관리 로직 (다음 단계)
7. [ ] **JSON 처리 유틸리티**: 수강 데이터 변환 클래스 (다음 단계)
8. [ ] **완결 확인**: 수강신청 → 출결 → 성적 전체 플로우 테스트 (다음 단계)

**쿼리**:
```sql
-- ENROLLMENT_EXTENDED_TBL 생성 (수강/출결/성적 통합)
CREATE TABLE ENROLLMENT_EXTENDED_TBL (
    ENROLLMENT_IDX INT AUTO_INCREMENT PRIMARY KEY COMMENT '수강 관리 고유 ID',
    LEC_IDX INT NOT NULL COMMENT '강의 ID (FK → LEC_TBL.LEC_IDX)',
    STUDENT_IDX INT NOT NULL COMMENT '학생 ID (FK → USER_TBL.USER_IDX)',
    ENROLLMENT_DATA LONGTEXT NOT NULL COMMENT '수강/출결/성적 통합 데이터 (JSON)',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    
    FOREIGN KEY (LEC_IDX) REFERENCES LEC_TBL(LEC_IDX) ON DELETE CASCADE,
    FOREIGN KEY (STUDENT_IDX) REFERENCES USER_TBL(USER_IDX) ON DELETE CASCADE,
    UNIQUE KEY UK_ENROLLMENT (LEC_IDX, STUDENT_IDX)
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci 
COMMENT='수강/출결/성적 통합 관리 테이블';

-- 인덱스 추가
CREATE INDEX IDX_ENROLLMENT_LEC ON ENROLLMENT_EXTENDED_TBL(LEC_IDX);
CREATE INDEX IDX_ENROLLMENT_STUDENT ON ENROLLMENT_EXTENDED_TBL(STUDENT_IDX);
```

---

### **2.4 신규 테이블 생성 (ASSIGNMENT_EXTENDED_TBL)** ✅
- **기간**: 2일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐
- **상태**: ✅ Entity/DTO 완료 (2025-10-11)

**작업 순서**:
1. [x] **SQL 실행**: CREATE TABLE ASSIGNMENT_EXTENDED_TBL
2. [x] **인덱스 생성**: 외래 키 및 성능 인덱스
3. [x] **JPA 엔티티 생성**: AssignmentExtendedTbl.java (entity/Lecture/AssignmentExtendedTbl.java)
4. [x] **DTO 생성**: AssignmentDto.java, AssignmentSubmissionDto.java, AssignmentStatisticsDto.java
5. [ ] **Repository 생성**: AssignmentExtendedTblRepository.java (다음 단계)
6. [ ] **Service 구현**: 과제 생성/제출/채점 로직 (다음 단계)
7. [ ] **JSON 처리 유틸리티**: 과제 데이터 변환 클래스 (다음 단계)
8. [ ] **완결 확인**: 과제 생성 → 제출 → 채점 전체 플로우 테스트 (다음 단계)

**쿼리**:
```sql
-- ASSIGNMENT_EXTENDED_TBL 생성 (과제/제출 통합)
CREATE TABLE ASSIGNMENT_EXTENDED_TBL (
    ASSIGNMENT_IDX INT AUTO_INCREMENT PRIMARY KEY COMMENT '과제 관리 고유 ID',
    LEC_IDX INT NOT NULL COMMENT '강의 ID (FK → LEC_TBL.LEC_IDX)',
    ASSIGNMENT_DATA LONGTEXT NOT NULL COMMENT '과제/제출정보 통합 데이터 (JSON)',
    CREATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP COMMENT '생성일시',
    UPDATED_AT DATETIME DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP COMMENT '수정일시',
    
    FOREIGN KEY (LEC_IDX) REFERENCES LEC_TBL(LEC_IDX) ON DELETE CASCADE
) ENGINE=InnoDB DEFAULT CHARSET=utf8mb4 COLLATE=utf8mb4_unicode_ci 
COMMENT='과제/제출 통합 관리 테이블';

-- 인덱스 추가
CREATE INDEX IDX_ASSIGNMENT_LEC ON ASSIGNMENT_EXTENDED_TBL(LEC_IDX);
```

---

### **2.5 JSON 데이터 처리 설정**
- **기간**: 1일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] Jackson JSON 라이브러리 설정
- [ ] JSON 필드 검증 및 변환 로직
- [ ] JSON 쿼리 유틸리티 클래스
- [ ] 데이터 무결성 검증 로직

---

## 3. Phase 2: 백엔드 기본 기능

### **3.1 강의 관리 CRUD**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] LEC_TBL CRUD API (생성/조회/수정/삭제)
- [ ] 강의 목록 조회 (페이징, 필터링)
- [ ] 강의 상세 정보 조회
- [ ] 강의 상태 관리 (개설/폐강/마감)

### **3.2 수강신청 시스템**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 수강신청 API (ENROLLMENT_EXTENDED_TBL)
- [ ] 수강 취소 API
- [ ] 수강 인원 제한 로직
- [ ] 수강 상태 관리 (ENROLLED, CANCELLED, COMPLETED)

---

## 4. Phase 3: 수강관리 기능

### **4.1 출결 관리**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 출결 기록 API (JSON 데이터 저장)
- [ ] 출결 조회 API
- [ ] 출결 수정 및 사유신청
- [ ] 출결 통계 계산

### **4.2 성적 관리**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 성적 입력 API (중간/기말/총점)
- [ ] 성적 조회 API
- [ ] 학점 자동 계산
- [ ] 성적 수정 및 확인

---

## 5. Phase 4: 과제관리 기능

### **5.1 과제 CRUD**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 과제 생성 API (ASSIGNMENT_EXTENDED_TBL)
- [ ] 과제 목록 조회
- [ ] 과제 상세 조회
- [ ] 과제 수정/삭제

### **5.2 제출 관리**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 과제 제출 API (JSON 데이터 저장)
- [ ] 제출 조회 및 다운로드
- [ ] 제출 상태 관리
- [ ] 마감일 관리 및 연장

---

## 6. Phase 5: 평가 및 게시판

### **6.1 강의 평가 시스템**
- **기간**: 3일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 평가 입력 API (USER_TBL JSON 필드)
- [ ] 평가 조회 API
- [ ] 평가 통계 계산
- [ ] 평가 수정 기능

### **6.2 게시판 확장**
- **기간**: 3일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 강의별 게시판 API (BOARD_TBL 확장)
- [ ] 게시글 CRUD
- [ ] 파일 첨부 기능
- [ ] 게시판 권한 관리

---

## 7. 테스트 및 배포
- [ ] 강의 등록 API (단일)
- [ ] 강의 복수 등록 API (배치)
- [ ] 강의 수정/삭제 API
- [ ] 강의 목록 조회 API
- [ ] 강의 상세 조회 API
- [ ] 강의 상태 관리 (개강/폐강)

### **3.2 평가 항목 관리**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 평가 항목 CRUD API
- [ ] 기본 평가 양식 생성
- [ ] 평가 항목 검증 로직
- [ ] 평가 결과 조회 API

### **3.3 통계 및 모니터링**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 수강률 통계 API
- [ ] 출결률 통계 API
- [ ] 성적 분포 통계 API
- [ ] 평가 결과 통계 API
- [ ] 대시보드용 집계 API

---

## 4. Phase 3: 교수 기능 구현

### **4.1 강의 운영 기본 기능**
- **기간**: 1주
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 교수 강의 목록 조회 API
- [ ] 강의 정보 수정 API
- [ ] 수강생 목록 조회 API
- [ ] 강의 공지사항 CRUD API
- [ ] 공지사항 조회수 및 중요도 관리

### **4.2 출결 관리 기능**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 출석 현황 조회 API
- [ ] 출석 승인/거부 API
- [ ] 출석 통계 계산 로직
- [ ] 출석 보고서 생성 API
- [ ] 출석 알림 시스템

### **4.3 성적 관리 기능**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 성적 입력/수정 API
- [ ] 성적 검증 및 계산 로직
- [ ] 학점 변환 로직
- [ ] 성적 확정 및 공개 API
- [ ] 성적 통계 API

### **4.4 과제 관리 기능**
- **기간**: 4일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 과제 CRUD API
- [ ] 과제 제출물 관리 API
- [ ] 과제 채점 API
- [ ] 파일 업로드/다운로드
- [ ] 과제 마감 알림

### **4.5 채팅 시스템**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 채팅방 생성/조회 API
- [ ] 메시지 전송 API
- [ ] 메시지 조회 API (페이징)
- [ ] 읽음 상태 관리
- [ ] 실시간 알림 (WebSocket)

---

## 5. Phase 4: 학생 기능 구현

### **5.1 수강신청 기능**
- **기간**: 1주
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 수강 가능 강의 조회 API
- [ ] 수강신청 API (단일/배치)
- [ ] 수강신청 취소 API
- [ ] 보결 순위 시스템
- [ ] 수강신청 조건 검증 로직

### **5.2 학기 중 활동 기능**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 내 수강 목록 조회 API
- [ ] 강의 공지사항 조회 API
- [ ] 출석 요청 API
- [ ] 출석 현황 조회 API
- [ ] 과제 목록 및 제출 API

### **5.3 강의 평가 기능**
- **기간**: 3일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 평가 가능 강의 조회 API
- [ ] 강의 평가 제출 API
- [ ] 평가 기간 검증 로직
- [ ] 중복 평가 방지

---

## 6. Phase 5: 고급 기능 및 최적화

### **6.1 고급 기능 구현**
- **기간**: 2주
- **담당**: 백엔드 개발자
- **우선순위**: ⭐

**구현 항목**:
- [ ] 휴강 및 보강 관리
- [ ] 시간표 겹침 자동 체크 (선택)
- [ ] 파일 첨부 기능 확장
- [ ] 알림 시스템 고도화
- [ ] 검색 및 필터링 기능

### **6.2 성능 최적화**
- **기간**: 1주
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐

**구현 항목**:
- [ ] 데이터베이스 인덱스 최적화
- [ ] 쿼리 성능 튜닝
- [ ] 캐싱 전략 구현 (Redis)
- [ ] API 응답 시간 최적화
- [ ] 대용량 데이터 처리

### **6.3 보안 강화**
- **기간**: 5일
- **담당**: 백엔드 개발자
- **우선순위**: ⭐⭐⭐

**구현 항목**:
- [ ] 입력값 검증 강화
- [ ] SQL 인젝션 방지
- [ ] XSS/CSRF 방어
- [ ] 파일 업로드 보안
- [ ] API 속도 제한 (Rate Limiting)

---

## 7. 테스트 및 배포 계획

### **7.1 단위 테스트 및 통합 테스트**
- **기간**: 각 Phase별 2-3일
- **담당**: 백엔드 개발자
- **테스트 범위**:
  - [ ] 단위 테스트 (Service, Repository)
  - [ ] 통합 테스트 (API 엔드포인트)
  - [ ] 예외 처리 테스트
  - [ ] 보안 테스트

### **7.2 사용자验收 테스트 (UAT)**
- **기간**: 1주
- **담당**: QA팀 + 사용자
- **테스트 시나리오**:
  - [ ] 관리자 시나리오 테스트
  - [ ] 교수 시나리오 테스트
  - [ ] 학생 시나리오 테스트
  - [ ] 성능 및 부하 테스트

### **7.3 배포 및 모니터링**
- **기간**: 3일
- **담당**: DevOps팀
- **배포 작업**:
  - [ ] CI/CD 파이프라인 구축
  - [ ] 데이터베이스 마이그레이션
  - [ ] 서버 배포 및 설정
  - [ ] 모니터링 시스템 구축
  - [ ] 백업 및 복구 계획

---

## 📊 전체 개발 일정 요약

| Phase | 기간 | 주요 작업 | 우선순위 |
|-------|------|-----------|----------|
| 준비 | 1주 | 환경설정, 설계 | ⭐⭐⭐ |
| Phase 1 | 2.5주 | 인프라 구축 | ⭐⭐⭐ |
| Phase 2 | 2주 | 관리자 기능 | ⭐⭐⭐ |
| Phase 3 | 3주 | 교수 기능 | ⭐⭐⭐ |
| Phase 4 | 1.5주 | 학생 기능 | ⭐⭐⭐ |
| Phase 5 | 3주 | 고급 기능 | ⭐⭐ |
| 테스트 | 2주 | 테스트 및 배포 | ⭐⭐⭐ |
| **총계** | **15주** | | |

---

## 🎯 다음 단계

구현 순서를 수립했으니 [프론트엔드 연동](./08-프론트엔드연동.md)에서 UI/UX 설계 및 연동 방안을 기술합니다.