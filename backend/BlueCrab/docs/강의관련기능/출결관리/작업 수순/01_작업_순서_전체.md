# μ¶μ„ μ”μ²­/μΉμΈ κΈ°λ¥ κµ¬ν„ μ‘μ—… μμ„

## π“‹ μ „μ²΄ μ‘μ—… κ°μ”

μ¶μ„ μ”μ²­/μΉμΈ κΈ°λ¥μ„ κµ¬ν„ν•κΈ° μ„ν• λ‹¨κ³„λ³„ μ‘μ—… κ³„νμ…λ‹λ‹¤.

---

## Phase 1: κΈ°λ° μ‘μ—… (λ°μ΄ν„° κµ¬μ΅° λ° μ—”ν‹°ν‹°)

### 1. DB μ¤ν‚¤λ§ ν™•μΈ λ° Entity μμ • β… **μ™„λ£**
- [x] `ENROLLMENT_EXTENDED_TBL` μ—”ν‹°ν‹° ν™•μΈ
- [x] JSON ν•„λ“ κµ¬μ΅° ν™•μΈ (ENROLLMENT_DATA: LONGTEXT)
- [x] attendance ν•„λ“ κµ¬μ΅° μ„¤κ³„ (summary, sessions, pendingRequests)
- [x] JSON κµ¬μ΅° λ…μ„Έμ„ μ‘μ„± (`μ „μ²΄κ°€μ΄λ“/λ°μ΄ν„°κµ¬μ΅°/ENROLLMENT_DATA_JSON_λ…μ„Έμ„.md`)
- [x] μ©λ‰ λ¶„μ„ μ™„λ£ (24KB vs 4GB μ—¬μ  ν™•μΈ)
- [x] λΈλΌμ°μ € μ½μ†” ν…μ¤νΈ μ¤ν¬λ¦½νΈ μ‘μ„±

**μ‹¤μ  μ†μ” μ‹κ°„:** 1μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- Entity ν΄λμ¤ κ²€μ¦ μ™„λ£ (`EnrollmentExtendedTbl.java`)
- JSON κµ¬μ΅° λ¬Έμ„ν™” λ° μ©λ‰ λ¶„μ„
- λΈλΌμ°μ € ν…μ¤νΈ μ¤ν¬λ¦½νΈ (prompt κΈ°λ°)

---

### 2. DTO ν΄λμ¤ μƒμ„± β… **μ™„λ£**
- [x] `AttendanceRequestRequestDto` (μ¶μ„ μ”μ²­ Request)
- [x] `AttendanceApproveRequestDto` (μ¶μ„ μΉμΈ Request)
- [x] `AttendanceApprovalRecordDto` (μΉμΈ λ μ½”λ“ λ°°μ—΄ μ”μ†)
- [x] `AttendanceResponseDto<T>` (κ³µν†µ μ‘λ‹µ, μ λ„¤λ¦­)
- [x] `AttendanceDataDto` (μ „μ²΄ μ¶μ„ λ°μ΄ν„°)
- [x] `AttendanceSessionDto` (μ„Έμ… μ •λ³΄)
- [x] `AttendancePendingRequestDto` (λ€κΈ° μ¤‘μΈ μ”μ²­)
- [x] `AttendanceSummaryDto` (μ¶μ„ ν†µκ³„)
- [x] `StudentAttendanceDto` (κµμμ© ν•™μƒ μ¶μ„ μ •λ³΄)
- [x] Jackson JSON μ–΄λ…Έν…μ΄μ… μ μ© (`@JsonFormat`)
- [x] Validation μ–΄λ…Έν…μ΄μ… μ μ© (`@NotNull`, `@Min`, `@Max`, `@Pattern`)

**μ‹¤μ  μ†μ” μ‹κ°„:** 1μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- `dto/Lecture/attendance/` ν¨ν‚¤μ§€ λ‚΄ DTO ν΄λμ¤ 9κ°
- `README.md` (ν¨ν‚¤μ§€ κµ¬μ΅° λ° μ‚¬μ©λ²• λ¬Έμ„ν™”)

---

## Phase 2: Repository λ° Service Layer

### 3. Repository κ³„μΈµ β… **μ™„λ£**
- [x] `EnrollmentExtendedRepository` λ©”μ„λ“ μ¶”κ°€
- [x] JSON ν•„λ“ μ΅°ν/μ—…λ°μ΄νΈ μΏΌλ¦¬ μ‘μ„±
- [x] ν•™μƒμ μκ°• κ°•μ μ΅°ν λ©”μ„λ“
- [x] κµμμ λ‹΄λ‹Ή κ°•μ μ΅°ν λ©”μ„λ“
- [x] Custom Query μ‘μ„± (JOIN FETCH)

**μ‹¤μ  μ†μ” μ‹κ°„:** 2μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- Repository μΈν„°νμ΄μ¤ λ©”μ„λ“ 3κ° μ¶”κ°€
- `findByLecSerialWithDetails()` - κ°•μλ³„ μκ°•μƒ μ΅°ν
- `findByLecSerialAndStudentIdx()` - ν•™μƒλ³„ μκ°• μ •λ³΄ μ΅°ν
- `findByLecSerialAndProfessorIdx()` - κµμ κ¶ν• κ²€μ¦μ© μ΅°ν

---

### 4. Service κ³„μΈµ κµ¬ν„ β… **μ™„λ£**
- [x] `AttendanceRequestService` μΈν„°νμ΄μ¤ μƒμ„±
- [x] `AttendanceRequestServiceImpl` κµ¬ν„ ν΄λμ¤ μƒμ„±
- [x] μ¶μ„ μ”μ²­ λ΅μ§ (`requestAttendance`)
- [x] μ¶μ„ μΉμΈ λ΅μ§ (`approveAttendance`)
- [x] JSON λ°μ΄ν„° νμ‹±/μ—…λ°μ΄νΈ μ ν‹Έλ¦¬ν‹°
- [x] μ¶μ„μ¨ κ³„μ‚° λ΅μ§ (`calculateSummary`)
- [x] κ¶ν• κ²€μ¦ λ΅μ§
- [x] μ¤‘λ³µ μ”μ²­ μ²λ¦¬ λ΅μ§
- [x] μ—λ¬ ν•Έλ“¤λ§

**μ‹¤μ  μ†μ” μ‹κ°„:** 4μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- `AttendanceRequestService` μΈν„°νμ΄μ¤
- `AttendanceRequestServiceImpl` κµ¬ν„ ν΄λμ¤ (500μ¤„)
- JSON νμ‹±/μ§λ ¬ν™” μ ν‹Έλ¦¬ν‹° λ©”μ„λ“
- ν¨ν‚¤μ§€ κµ¬μ΅°: `service/Lecture/Attendance/`

---

## Phase 3: Controller λ° API

### 5. Controller μƒμ„± β… **μ™„λ£**
- [x] `AttendanceController` ν΄λμ¤ μƒμ„±
- [x] `POST /api/attendance/request` μ—”λ“ν¬μΈνΈ κµ¬ν„
- [x] `POST /api/attendance/approve` μ—”λ“ν¬μΈνΈ κµ¬ν„
- [x] `POST /api/attendance/student/view` μ—”λ“ν¬μΈνΈ κµ¬ν„
- [x] `POST /api/attendance/professor/view` μ—”λ“ν¬μΈνΈ κµ¬ν„
- [x] μ”μ²­ λ°μ΄ν„° κ²€μ¦ (`@Valid` μ–΄λ…Έν…μ΄μ…)
- [x] μ—λ¬ ν•Έλ“¤λ§ λ° μ‘λ‹µ ν¬λ§·ν…
- [x] λ΅κΉ… μ¶”κ°€

**μ‹¤μ  μ†μ” μ‹κ°„:** 2μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- `AttendanceController` ν΄λμ¤ (296μ¤„)
- API μ—”λ“ν¬μΈνΈ 4κ° (λ¨λ‘ POST λ°©μ‹)
- ν¨ν‚¤μ§€ κµ¬μ΅°: `controller/Lecture/Attendance/`

---

### 6. Security μ„¤μ • β… **μ™„λ£**
- [x] `SecurityConfig`μ— μ¶μ„ API κ¶ν• μ„¤μ • μ¶”κ°€
- [x] ν•™μƒμ© API: `authenticated()`
- [x] κµμμ© API: `hasAnyRole("PROFESSOR", "ADMIN")`
- [x] OPTIONS μ”μ²­ ν—μ© (CORS)

**μ‹¤μ  μ†μ” μ‹κ°„:** 0.5μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- `SecurityConfig.java` μμ • μ™„λ£
- CORS μ„¤μ • ν™•μΈ (κΈ°μ΅΄ /api/* ν¨ν„΄ μ μ©)

---

## Phase 4: μλ™ μΉμΈ μ¤μΌ€μ¤„λ¬

### 7. μ¤μΌ€μ¤„λ¬ κµ¬ν„ β… **μ™„λ£**
- [x] `AttendanceScheduler` ν΄λμ¤ μƒμ„±
- [x] `@Scheduled` μ–΄λ…Έν…μ΄μ… μ„¤μ • (λ§¤μΌ μ¤μ „ 5μ‹)
- [x] λ‚ μ§ κΈ°μ¤€ λ§λ£ μ²λ¦¬ λ΅μ§ (μ‹κ°„ λ¬΄κ΄€)
- [x] `moveToSessions` λ©”μ„λ“ κµ¬ν„
- [x] `recalculateSummary` λ©”μ„λ“ κµ¬ν„
- [x] λ΅κΉ… λ° λ¨λ‹ν„°λ§
- [x] μμ™Έ μ²λ¦¬ (κ°λ³„ μ‹¤ν¨ μ‹ κ³„μ† μ§„ν–‰)

**μ‹¤μ  μ†μ” μ‹κ°„:** 2μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- `AttendanceScheduler` ν΄λμ¤ (320μ¤„)
- λ‚ μ§ κΈ°μ¤€ λ§λ£ μ²λ¦¬ λ΅μ§
- ν¨ν‚¤μ§€ κµ¬μ΅°: `scheduler/`

---

### 8. μ¤μΌ€μ¤„λ¬ ν™μ„±ν™” β… **μ™„λ£**
- [x] `@EnableScheduling` μ„¤μ • μ¶”κ°€ (BlueCrabApplication)
- [x] μ¤μΌ€μ¤„λ¬ ν…μ¤νΈ ν™κ²½ κµ¬μ„±
- [x] μλ™ μ‹¤ν–‰ λ©”μ„λ“ μ¶”κ°€ (`manualTrigger`)

**μ‹¤μ  μ†μ” μ‹κ°„:** 0.5μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- Spring Boot Application μ„¤μ • μμ •
- μ¤μΌ€μ¤„λ¬ μλ™ μ‹¤ν–‰ κΈ°λ¥

---

## Phase 5: ν…μ¤νΈ λ° κ²€μ¦

### 9. λ‹¨μ„ ν…μ¤νΈ
- [ ] `AttendanceServiceTest` μ‘μ„±
- [ ] JSON νμ‹±/μ—…λ°μ΄νΈ λ΅μ§ ν…μ¤νΈ
- [ ] μ¶μ„μ¨ κ³„μ‚° λ΅μ§ ν…μ¤νΈ
- [ ] κ¶ν• κ²€μ¦ λ΅μ§ ν…μ¤νΈ
- [ ] Mock κ°μ²΄ ν™μ©

**μμƒ μ†μ” μ‹κ°„:** 3μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- JUnit ν…μ¤νΈ ν΄λμ¤

---

### 10. ν†µν•© ν…μ¤νΈ
- [ ] API μ—”λ“ν¬μΈνΈ ν…μ¤νΈ (`@SpringBootTest`)
- [ ] κ¶ν• κ²€μ¦ ν…μ¤νΈ
- [ ] μ¤μΌ€μ¤„λ¬ λ™μ‘ ν…μ¤νΈ
- [ ] λΈλΌμ°μ € μ½μ†” ν…μ¤νΈ μ¤ν¬λ¦½νΈ μ‘μ„±

**μμƒ μ†μ” μ‹κ°„:** 2μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- ν†µν•© ν…μ¤νΈ ν΄λμ¤
- λΈλΌμ°μ € μ½μ†” ν…μ¤νΈ μ¤ν¬λ¦½νΈ

---

### 11. λ°μ΄ν„° λ§μ΄κ·Έλ μ΄μ…
- [ ] κΈ°μ΅΄ λ°μ΄ν„° λ°±μ—…
- [ ] λ§μ΄κ·Έλ μ΄μ… μ¤ν¬λ¦½νΈ μ‹¤ν–‰
- [ ] μƒ κµ¬μ΅°λ΅ λ°μ΄ν„° λ³€ν™
- [ ] λ°μ΄ν„° κ²€μ¦
- [ ] λ΅¤λ°± κ³„ν μλ¦½

**μμƒ μ†μ” μ‹κ°„:** 2μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- λ§μ΄κ·Έλ μ΄μ… μ¤ν¬λ¦½νΈ
- λ°±μ—… νμΌ
- κ²€μ¦ λ¦¬ν¬νΈ

---

## Phase 6: λ¬Έμ„ν™” λ° λ°°ν¬

### 12. API λ¬Έμ„ν™”
- [ ] Swagger/OpenAPI μ–΄λ…Έν…μ΄μ… μ¶”κ°€
- [ ] API λ…μ„Έμ„ μ‘μ„±
- [ ] μ”μ²­/μ‘λ‹µ μμ‹ μ¶”κ°€
- [ ] μ—λ¬ μ½”λ“ μ •μ λ¬Έμ„
- [ ] README μ—…λ°μ΄νΈ

**μμƒ μ†μ” μ‹κ°„:** 1.5μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- Swagger UI λ¬Έμ„
- API λ…μ„Έμ„ λ§ν¬λ‹¤μ΄

---

### 13. λ°°ν¬ μ¤€λΉ„
- [ ] ν”„λ΅ νΈμ—”λ“ ν€κ³Ό API μ¤ν™ κ³µμ 
- [ ] ν…μ¤νΈ μ„λ²„ λΉλ“ λ° λ°°ν¬
- [ ] ν…μ¤νΈ μ„λ²„ κ²€μ¦
- [ ] μ΄μ μ„λ²„ λ°°ν¬ κ³„ν μλ¦½
- [ ] λ¨λ‹ν„°λ§ μ„¤μ •

**μμƒ μ†μ” μ‹κ°„:** 2μ‹κ°„

**μ‚°μ¶λ¬Ό:**
- λ°°ν¬ μ²΄ν¬λ¦¬μ¤νΈ
- λ¨λ‹ν„°λ§ λ€μ‹λ³΄λ“

---

## π“ μ „μ²΄ μμƒ μ†μ” μ‹κ°„

| Phase | μμƒ μ‹κ°„ | μ‹¤μ  μ‹κ°„ | μƒνƒ |
|-------|----------|----------|------|
| Phase 1 | 3.5μ‹κ°„ | 2μ‹κ°„ | β… μ™„λ£ |
| Phase 2 | 6μ‹κ°„ | 6μ‹κ°„ | β… μ™„λ£ |
| Phase 3 | 2.5μ‹κ°„ | 2.5μ‹κ°„ | β… μ™„λ£ |
| Phase 4 | 2.5μ‹κ°„ | 2.5μ‹κ°„ | β… μ™„λ£ |
| Phase 5 | 7μ‹κ°„ | - | π΅ λ€κΈ° |
| Phase 6 | 3.5μ‹κ°„ | - | π΅ λ€κΈ° |
| **μ΄κ³„** | **25μ‹κ°„** | **13μ‹κ°„** | **52% μ™„λ£** |

---

## π― μ°μ„ μμ„ μμ„

1. β… DTO ν΄λμ¤ μƒμ„± (Phase 1-2) - **μ™„λ£**
2. β… Repository κ³„μΈµ κµ¬ν„ (Phase 2-3) - **μ™„λ£**
3. β… Service κ³„μΈµ κµ¬ν„ (Phase 2-4) - **μ™„λ£**
4. β… Controller κµ¬ν„ (Phase 3-5) - **μ™„λ£**
5. β… Security μ„¤μ • (Phase 3-6) - **μ™„λ£**
6. β… μ¤μΌ€μ¤„λ¬ κµ¬ν„ (Phase 4-7,8) - **μ™„λ£**
7. π΅ ν…μ¤νΈ λ° κ²€μ¦ (Phase 5) - **μ§„ν–‰ μμ •**
8. π΅ λ¬Έμ„ν™” λ° λ°°ν¬ (Phase 6) - **λ€κΈ°**

---

## π“ μ°Έκ³ μ‚¬ν•­

- κ° λ‹¨κ³„λ³„λ΅ Git μ»¤λ°‹ κ¶μ¥
- μ½”λ“ λ¦¬λ·° ν›„ λ‹¤μ λ‹¨κ³„ μ§„ν–‰
- ν…μ¤νΈλ” κ° λ‹¨κ³„λ§λ‹¤ λ³‘ν–‰
- λ¬Έμ„λ” μ‘μ—…κ³Ό λ™μ‹μ— μ—…λ°μ΄νΈ

---

## β… μ§„ν–‰ μƒν™© μ²΄ν¬

μ‘μ—… μ‹μ‘μΌ: **2025-10-23**

ν„μ¬ μ§„ν–‰λ¥ : **52% (13/25 μ‹κ°„)**

ν„μ¬ Phase: **Phase 5 (ν…μ¤νΈ λ° κ²€μ¦) μ¤€λΉ„ μ¤‘**

λ‹΄λ‹Ήμ: BlueCrab Development Team

μ™„λ£λ μ‘μ—…:
- β… Phase 1: Entity κ²€μ¦, DTO μƒμ„± (2μ‹κ°„)
- β… Phase 2: Repository, Service κµ¬ν„ (6μ‹κ°„)
- β… Phase 3: Controller, Security μ„¤μ • (2.5μ‹κ°„)
- β… Phase 4: μ¤μΌ€μ¤„λ¬ κµ¬ν„ λ° ν™μ„±ν™” (2.5μ‹κ°„)

λ‹¤μ μ‘μ—…:
- π΅ Phase 5: λ‹¨μ„ ν…μ¤νΈ, ν†µν•© ν…μ¤νΈ, λ°μ΄ν„° λ§μ΄κ·Έλ μ΄μ… (7μ‹κ°„ μμƒ)
