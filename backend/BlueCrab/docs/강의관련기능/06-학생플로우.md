# 06. E 로우

> **E성E**: 2025-10-10  
> **E좁EE적E*: 2025-10-14  
> **EEE*: 2.3 (EE EEEEEEE E가)  
> **EEE**: 
> - EE EEE EEEE+ EE스E어 E칙으EEE
> - EnrollmentController DTO  EE EE
> - HTTP 400 E러 E EEE(PageImpl EE)
> - EE EEEEEEE E가 (lecProf + lecProfName)

---

## 👨‍🎁EE EE 로우

EEEE의 EE E스EEE E나EEE EEEEEE의E다.

---

## 📋 EE

1. [E강신E 로우](#1-E강신E-로우)
2. [기 EE동 로우](#2-기-EE동-로우)
3. [E결 EE 로우](#3-E결-EE-로우)
4. [EEEEE 로우](#4-EEEEE-로우)
5. [E의 가 로우](#5-E의-가-로우)

---

## 1. E강신E 로우

### **1.1 E각EEE E의 EE*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E강신E API
    participant DB as EEEEE

    Student->>UI: E강신E E뉴 EE
    UI->>API: POST /lectures/eligible (Body: year=2025&semester=1
    API->>API: E E보 EEEEEE
    Note over API: 과, E, EE/E양 EE EE

    API->>DB: E각EEE E의 EE
    Note over DB: E원, EEEEE, E각E E EEE

    DB-->>API: EEE E의 EEE
    API-->>UI: E각EEE E의 시
    UI-->>Student: E의 EEE인
```

### **1.2 E강신E E리**

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E강신E API
    participant DB as EEEEE

    Student->>UI: E의 EEEEEE
    UI->>API: POST /api/student/enrollments
    API->>API: EE EE EE EEE
    Note over API: E원 E, E복 EE,<br/>EE EE EE

    alt E원 E과
        API->>DB: EE E위 EEE
        DB-->>API: EE EEEEEE
        API-->>UI: EE EE E내
    else E원 E
        API->>DB: E강신E E리
        Note over DB: E잭E으EEE원 E가
        DB-->>API: EE EEE
        API-->>UI: E강신E EE
    end

    UI-->>Student: EE EE E내
```

### **1.3 EEEE의 EE**

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E강신E API
    participant DB as EEEEE

    Student->>UI: EE E의 EE
    UI->>UI: EE EEEEEE
    Note over UI: E각EEEE E EE

    UI->>API: POST /api/student/enrollments/batch
    API->>API: EEE의EEEEE
    loop EEE의
        API->>DB: E볁EEE E리
        Note over DB: EE/E EE E리
    end

    DB-->>API: EEEE리 EE
    API-->>UI: E볁EEE 시
    Note over UI: EE E의 EE E E의 EEE

    UI-->>Student: EEEEE EEE
```

### **1.4 E강신E EEE*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E강신E API
    participant DB as EEEEE

    Student->>UI: E강신E EEEEE
    UI->>API: DELETE /api/student/enrollments/{id}
    API->>API: EEEEE EEEEEE
    Note over API: E각EEE지EEEEEEE

    API->>DB: E강신E EEEE리
    Note over DB: E원 EE, EE EEE

    DB-->>API: EEEEEE
    API-->>UI: EEEEE
    UI-->>Student: EEEEEEE시E
```

---

## 2. 기 EE동 로우

### **2.1 E E각EEEEEE*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E각EAPI (DTO)
    participant Controller as EnrollmentController
    participant Service as EnrollmentService
    participant DB as EEEEE

    Student->>UI: E E의 E뉴 EE
    UI->>API: POST /enrollments/list (Body: {studentIdx, 6&page=0&size=10
    Note over UI: JWT EE studentIdx E동 E춁E

    API->>Controller: getEnrollments(studentIdx, lecIdx, page, size)
    Controller->>Service: E각EEE EE
    Service->>DB: ENROLLMENT_EXTENDED_TBL EE
    Note over DB: Lazy Loading: LecTbl, UserTbl JOIN

    DB-->>Service: EnrollmentExtendedTbl E티
    Service-->>Controller: Page<EnrollmentExtendedTbl>
    
    Controller->>Controller: convertToDto()
    Note over Controller: Entity ↁEEnrollmentDto EEbr/>Lazy Loading E적EE리<br/>EE EEEEE(USER_TBL)
    
    Controller->>DB: findByUserCode(lecProf)
    Note over DB: LEC_PROF(USER_CODE) ↁEUSER_NAME
    DB-->>Controller: EE E보 (UserTbl)
    
    Controller-->>API: Page<EnrollmentDto>
    API-->>UI: JSON E답 (DTO EE)
    Note over UI: lecTit, lecSerial, lecProf,<br/>lecProfName, studentName E 

    UI-->>Student: E각EE의 EEE시
```

### **DTO E답 EE**

```json
{
  "content": [
    {
      "enrollmentIdx": 1,
      "lecIdx": 101,
      "lecSerial": "CS101",
      "lecTit": "E밁EE그E밁E,
      "lecProf": "PROF001",
      "lecProfName": "EEE",
      "lecPoint": 3,
      "lecTime": "EE 10:00-11:30",
      "studentIdx": 6,
      "studentCode": "2024001",
      "studentName": "길EE,
      "enrollmentStatus": "ENROLLED",
      "enrollmentDate": "2024-09-01"
    }
  ],
  "totalElements": 5,
  "totalPages": 1,
  "size": 10,
  "number": 0
}
```

**EEEE EEE*:
- `lecProf`: EE E드 (USER_CODE) - EE "PROF001", "11"
- `lecProfName`: EE EEE(USER_NAME) - EE "EEE", "EEE"
- `studentCode`: 벁E(USER_CODE)
- `studentName`: E EEE(USER_NAME)

### **2.2 E의 EEE 인**

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as EE API
    participant DB as EEEEE

    Student->>UI: EEE E뉴 EE
    UI->>API: POST /api/student/lectures/notices (Body: {lecIdx})  ???
    API->>DB: E의 EEE EE
    Note over DB: E신EEE렬, E요 EE EE

    DB-->>API: EEE EE
    API-->>UI: EEE EEE시

    Student->>UI: EEE EEE
    UI->>API: PUT /api/student/notices/{id}/read
    API->>DB: EE E가
    DB-->>API: EEE EEE

    Note over UI: EEE림 E신 EEE동 시
```

### **2.3 EE EE**

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant Chat as EE E스E
    participant DB as EEEEE

    Student->>UI: EE EE EE
    UI->>Chat: EEE EEE성
    Chat->>DB: EEE 인
    DB-->>Chat: EEE EE

    Student->>UI: E시E EE
    UI->>Chat: E시E EEE
    Chat->>DB: E시E EE
    DB-->>Chat: EE EEE

    Chat->>UI: E시E EEE EE
    UI-->>Student: E시E EEE EEE

    Note over Chat: EE각EE림 EE
```

---

## 3. E결 EE 로우

### **3.1 EE E청**

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E결 API
    participant DB as EEEEE
    participant Professor as EE E스E

    Student->>UI: EE E뉴 EE
    UI->>UI: EE E청  시

    Student->>UI: EE E청
    UI->>API: POST /api/student/attendance/request
    API->>API: E청 EEE
    Note over API: E각E 인, E복 E청 E

    API->>DB: EE E청 EE
    DB-->>API: EE EEE

    API->>Professor: EE E청 E림
    Professor-->>API: E림 인

    API-->>UI: EE E청 EE
    UI-->>Student: E청 EEEE시E
```

### **3.2 EE E EE*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as E결 API
    participant DB as EEEEE

    Student->>UI: EE E EE
    UI->>API: POST /api/student/enrollments/attendance (Body: {enrollmentIdx})  ???
    API->>DB: EE EEEEE
    Note over DB: EE볁EEE EEE,<br/>EEE EE

    DB-->>API: EE EE
    API-->>UI: EE E 시
    Note over UI: EE/EEEEEEEE EEE<br/>EEEEEE 시

    UI-->>Student: EE E 인
```

---

## 4. EEEEE 로우

### **4.1 EEEEEEEE*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as EEEAPI
    participant DB as EEEEE

    Student->>UI: EEEE뉴 EE
    UI->>API: POST /api/assignments/list (Body: {lecIdx})
    API->>DB: EEEEEEEE
    Note over DB: E감일, E춁EEEE, EE E

    DB-->>API: EEEEE
    API-->>UI: EEEEEE시
    UI-->>Student: EEEEEE인
```

### **4.2 EEEE춁E(EEE EEE**

> ⚠EE**E요**: E E스은 **EEE일EEEE지 E습E다**. EE E면, EE일, EE E라EEEE EEE EE한 EE으EEEEE E출하E, E스에E는 **E춁EEEEEEEEEEEE*E다.

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as EEEAPI
    participant DB as EEEEE

    Note over Student: 1E⃣ EEE E춁Ebr/>(E면/EE일/E라EEEE)

    Student->>UI: EEEE춁EEEEEE E
    UI->>UI: E춁E인 E상EE시

    Student->>UI: "E춁EEEE 인
    UI->>API: POST /api/student/assignments/{id}/mark-submitted
    API->>API: E춁EEEE
    Note over API: E감일 인, E복 E춁EEE

    API->>DB: submissions EE EEE
    Note over DB: JSON: {studentIdx, submitted: true,<br/>submittedAt: "2025-10-15T14:30:00"}

    DB-->>API: EE EEE

    API-->>UI: E춁EEEEEE
    UI-->>Student: EEEE춁EEEEEEE
    Note over Student: EEEEE는 EEE<br/>EE한 EE으EEEE E출됨
```

**E춁EE크로우:**
1. EE **EEEEEEEEEE춁E* (E면, EE일, E라EEEEE E)
2. E스에EE**"E춁EEEE EE** E여 E춁EEEEEEEEE
3. DBEE`submissions` EEEE`{submitted: true, submittedAt: "..."}`EEEE
4. EEE E중에 **E춁EEE을 EEEEE**여 EEE(EE "E면 E춁E(2025-10-15)")

### **4.3 EEEEE 인**

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as EEEAPI
    participant DB as EEEEE

    Student->>UI: EEEEE EE
    UI->>API: POST /api/student/submissions/detail (Body: {submissionIdx})  ???
    API->>DB: EEEEE EE
    Note over DB: EE, E백, EE일

    DB-->>API: EEEEE
    API-->>UI: EEEEE 시
    UI-->>Student: EEEEE 인
```

---

## 5. E의 가 로우

### **5.1 가 EE E의 EE*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as 가 API
    participant DB as EEEEE

    Student->>UI: E의 가 E뉴 EE
    UI->>API: POST /api/student/evaluations/available (Body: {studentIdx})  ???
    API->>DB: 가 EE E의 EE
    Note over DB: EEEE1EE EE,<br/>E가 E의EE

    DB-->>API: 가 EE E의
    API-->>UI: 가 EE E의 EEE시
    UI-->>Student: 가 EEEE의 인
```

### **5.2 E의 가 E춁E*

```mermaid
sequenceDiagram
    participant Student as E
    participant UI as E UI
    participant API as 가 API
    participant DB as EEEEE

    Student->>UI: E의 가 EE
    UI->>API: POST /api/student/lectures/evaluation-form (Body: {lecIdx})  ???
    API->>DB: 가 E EE
    DB-->>API: 가 E식 EE
    API-->>UI: 가  시

    Student->>UI: 가 EE EEE견 EE
    Note over UI: 1~5EEEE E견 E성

    UI->>API: POST /api/student/lectures/{id}/evaluations
    API->>API: 가 EEE
    API->>DB: 가 EE
    DB-->>API: EE EEE

    API-->>UI: 가 E춁EEE
    UI-->>Student: 가 EEEE시E
```

---

## 📋 E EEEEE E세E

### **E강신E EEE*
1. **E의 색**: EE E의 EEEEEEE E보 인
2. **EE EE**: E각E EE여 EEE위 EEE
3. **EE EE*: E볁EE는 EEEEE E리
4. **EE 인**: EE/E EEEE E위 인

### **기 EE동**
1. **EE EE**: 
   - E E의E각EEE E청
   - E의 E각E: `EEEEEEEE` 식 (EE E요E 1,2E시, E요E 3,4E시)
2. **EE 인**: EE EEE EEE요 E림 인
3. **EEEE행**: EEEE춁EEEEE 인
4. **EE 용**: EEEEEE EE EE

### **기 EEE리**
1. **E의 가**: E강한 EE E의 가 E춁E
2. **EEE인**: E좁EEEEEE적E인
3. **E백 용**: EEE기 E각EEE E립

---

## 🎯 EEEEEE

E 로우E E의으EE[EEEE](./07-EEEEEmd)EE E밁EEEEEEEEEEEE립E다.
