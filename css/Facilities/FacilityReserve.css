/* =========================
   기본 변수 / 베이스
   ========================= */
:root{
  --bg:#f6f7fb;
  --panel:#ffffff;
  --text:#111827;
  --muted:#6b7280;
  --primary:#2f6bff;
  --primary-600:#1f54e8;
  --ok:#22c55e;
  --ok-bg:#e8f9ef;
  --wait:#f59e0b;
  --wait-bg:#fff7e6;
  --reject:#ef4444;
  --reject-bg:#ffecec;
  --done:#9ca3af;
  --done-bg:#eef0f4;
  --line:#e5e7eb;
  --slot-sel:#2563eb;
  --slot-busy:#fde2e2;
  --shadow:0 10px 24px rgba(0,0,0,.06);
  --radius:14px;
}

*{ box-sizing:border-box }
html,body{ height:100% }
body{
  margin:0;
  background:var(--bg);
  color:var(--text);
  font-family:system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,
               "Apple SD Gothic Neo","Noto Sans KR","맑은 고딕",sans-serif;
}

/* =========================
   폼 요소 / 버튼
   ========================= */
label{ display:block; font-weight:600; margin:12px 0 8px }
select,
input[type="date"],
input[type="number"],
input[type="text"],
textarea{
  width:100%;
  border:1px solid var(--line);
  background:#fff;
  padding:12px 14px;
  border-radius:10px;
  font-size:15px;
  outline:none;
}
textarea{ min-height:110px; resize:vertical }

.muted{ color:var(--muted); font-size:.9rem; margin-top:6px }
.error{
  color:#b91c1c; background:#ffecec; border:1px solid #ffc9c9;
  padding:10px 12px; border-radius:10px;
}

button[disabled]{ opacity:.6; cursor:not-allowed }
button.link{
  background:none; border:none; color:var(--primary);
  padding:0; cursor:pointer; font-size:.95rem; margin-bottom:10px;
}
button.primary{
  background:var(--primary); color:#fff; border:none;
  padding:12px 16px; border-radius:10px; font-weight:700; cursor:pointer;
}
button.primary:hover{ background:var(--primary-600) }
button.danger{
  background:#ef4444; color:#fff; border:none;
  padding:12px 16px; border-radius:10px; font-weight:700; cursor:pointer;
}

/* =========================
   시설 카드 목록
   ========================= */
.facility-cards{ display:flex; flex-direction:column; gap:16px }
.facility-card{
  width:100%; text-align:left; background:var(--panel);
  border:1px solid var(--line); border-radius:var(--radius);
  padding:18px 20px; cursor:pointer;
  box-shadow:0 2px 0 rgba(0,0,0,.02);
  transition:.15s transform,.15s box-shadow;
}
.facility-card:hover{ transform:translateY(-1px); box-shadow:var(--shadow) }
.facility-card:disabled{ opacity:.55; cursor:not-allowed }

.fc-title{ font-size:20px; font-weight:800; margin-bottom:6px }
.fc-sub{ color:var(--muted); font-size:.95rem; margin-bottom:6px }
.fc-meta{ color:#6b7280; font-size:.9rem }

/* 상태 배지 */
.badge{
  display:inline-flex; align-items:center; gap:8px;
  padding:6px 12px; border-radius:999px; font-weight:700; font-size:.92rem;
}
.badge.ok{    background:var(--ok-bg);    color:#0f8339; border:1px solid #b7f3cd }
.badge.wait{  background:var(--wait-bg);  color:#955a00; border:1px solid #ffe29d }
.badge.reject{background:var(--reject-bg); color:#b91c1c; border:1px solid #ffb7b7 }
.badge.done{  background:var(--done-bg);  color:#4b5563; border:1px solid #d1d5db }

/* =========================
   내 예약 목록 카드
   ========================= */
.resv-list{
  list-style:none; padding:0; margin:14px 0 0;
  display:flex; flex-direction:column; gap:14px;
}
.resv-item{
  background:var(--panel); border:1px solid var(--line);
  border-radius:var(--radius); padding:16px 18px;
  box-shadow:0 2px 0 rgba(0,0,0,.02);
}
.resv-item .head{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
}
.resv-item .title{ font-size:20px; font-weight:800 }
.resv-item .row{ margin-top:10px; color:#111; font-weight:600 }
.resv-item details{
  background:#f9fafb; border:1px solid var(--line);
  border-radius:12px; padding:10px 12px;
}
.resv-item details summary{ cursor:pointer; list-style:none; font-weight:700 }
.resv-item details summary::-webkit-details-marker{ display:none }
.resv-item dl{
  display:grid; grid-template-columns:120px 1fr;
  row-gap:8px; column-gap:16px; margin:10px 0 0;
}
.resv-item dt{ color:var(--muted); font-weight:700 }
.resv-item dd{ margin:0 }

.info-box{
  background:#eef6ff; border:1px solid #cfe1ff; color:#1e3a8a;
  border-radius:12px; padding:12px; margin-top:12px;
}
.reject-box{
  background:var(--reject-bg); border:1px solid #ffb7b7; color:#9f1239;
  border-radius:12px; padding:12px; margin-top:12px;
}

/* =========================
   예약 모달 (단일 정의)
   ========================= */
/* 배경: 화면 어둡게만, 클릭은 통과 */
.resv-modal-backdrop{
  position:fixed; inset:0; z-index:900; pointer-events:none;
  background:rgba(17,24,39,.45);
}
.resv-dim{ position:fixed; inset:0; pointer-events:none }

/* 실제 클릭은 모달만 받음 */
.resv-modal{
  position:fixed; top:50%; left:50%; transform:translate(-50%,-50%);
  z-index:901; pointer-events:auto;
  width:min(860px,92vw); max-height:88vh; overflow:auto;
  background:var(--panel); border-radius:18px;
  box-shadow:var(--shadow); padding:18px 20px 16px;
}
.rm-head{ display:flex; align-items:center; justify-content:space-between; margin-bottom:6px }
.rm-head h3{ font-size:22px; font-weight:800; margin:6px 0 }
.rm-head .icon{ border:none; background:none; font-size:22px; cursor:pointer; color:#6b7280 }

.rm-section{
  background:#fff; border:1px solid var(--line);
  border-radius:12px; padding:14px; margin:12px 0;
}
.rm-actions{ display:flex; gap:10px; justify-content:flex-end; margin-top:8px }

/* 전설(칩) */
.legend{ display:flex; gap:8px; flex-wrap:wrap; margin-bottom:10px }
.legend .chip{
  display:inline-flex; align-items:center; gap:6px;
  padding:6px 10px; border-radius:999px; font-size:.88rem; font-weight:700;
}
.legend .chip.available{ background:#e8f7ee; color:#166534; border:1px solid #b7f3cd }
.legend .chip.selected{  background:#e7ecff; color:#1f3fb3; border:1px solid #c4d0ff }
.legend .chip.booked{    background:#ffecec; color:#b91c1c; border:1px solid #ffc9c9 }

/* 모달 내부 시간 그리드 */
.resv-modal .grid{ display:grid; grid-template-columns:repeat(4,1fr); gap:12px }
@media (max-width:720px){ .resv-modal .grid{ grid-template-columns:repeat(2,1fr) } }

/* 시간 슬롯 버튼 */
.slot{
  background:#f0f5ff; border:1px solid #dbe5ff; color:#0b3570;
  border-radius:16px; padding:14px 12px; text-align:center; cursor:pointer;
  min-height:72px; display:flex; flex-direction:column; justify-content:center; gap:6px;
  transition:.15s transform,.15s box-shadow,.15s background;
}
.slot .h{ font-weight:800; font-size:18px }
.slot .sub{ font-size:.92rem; color:#1e3a8a }
.slot:hover{ transform:translateY(-1px); box-shadow:var(--shadow) }
.slot.selected{ background:var(--slot-sel); border-color:#1e40af; color:#fff }
.slot.selected .sub{ color:#eef2ff }
.slot.booked{ background:var(--slot-busy); border-color:#ffb7b7; color:#991b1b; cursor:not-allowed }
.slot.booked .sub{ color:#7f1d1d }

.warn{
  margin-top:10px; background:var(--wait-bg); border:1px solid #ffe29d;
  color:#7a4b00; border-radius:10px; padding:10px 12px; font-weight:600;
}
hr.sep{ border:none; height:1px; background:var(--line); margin:16px 0 }

/* ===== 레이아웃 확장 & 정렬 ===== */
.facility-page {
  max-width: 1280px; /* 기존 1200 -> 1280 */
  margin: 0 auto;
  padding: 16px 16px 48px;
}

.page-head {
  background: #eef3fb;
  border-radius: 16px;
  padding: 32px 28px;
  margin: 12px auto 20px;
  max-width: 1120px;      /* 배너 실제 폭 */
}
.page-head h2{
  text-align:center; font-size:28px; margin:0 0 8px; color:#234; letter-spacing:.02em;
}
.page-head .sub{ text-align:center; color:#5c6773; margin:0 }

.content-grid {
  display: grid;
  grid-template-columns: 1fr 360px; /* 메인/사이드 */
  gap: 24px;
  align-items: start;
  max-width: 1120px;      /* 배너 폭과 통일 */
  margin: 0 auto;         /* 배너와 동일 가운데 정렬 */
}

@media (max-width: 1024px) {
  .content-grid {
    grid-template-columns: 1fr;
    max-width: 100%;
  }
}

/* 카드 리스트 여백/폭 최적화 */
.card-list {
  display: grid;
  grid-template-columns: 1fr;
  gap: 14px;
}
/* 페이지네이션 */
.pager {
  display: flex;
  justify-content: center;
  gap: 8px;
  margin-top: 16px;
  user-select: none;
}
.pager button {
  min-width: 36px;
  height: 36px;
  padding: 0 10px;
  border-radius: 10px;
  border: 1px solid #e5e7eb;
  background: #fff;
  cursor: pointer;
}
.pager button[disabled] {
  opacity: .5;
  cursor: not-allowed;
}
.pager .num.active {
  background: #2f6bff;
  color: #fff;
  border-color: #1f54e8;
}

/* 카드(위쪽 정의 재사용용 확장) */
.facility-card{
  width:100%; text-align:left; background:#fff;
  border:1px solid #e7ebf0; border-radius:12px;
  padding:16px 18px; box-shadow:0 4px 10px rgba(0,0,0,.04);
  transition:box-shadow .15s ease, transform .05s ease; cursor:pointer;
}
.facility-card:hover:not(:disabled){ box-shadow:0 10px 22px rgba(0,0,0,.08) }
.facility-card:disabled{ cursor:not-allowed; opacity:.7 }

.fc-title{ display:flex; align-items:center; gap:8px; margin-bottom:6px }
.fc-title .name{ font-size:18px; font-weight:700; color:#1e293b }
.badge{ display:inline-block; font-size:12px; padding:2px 8px; border-radius:999px; background:#e9eef7; color:#344054 }
.badge.warn{ background:#fff2cc; color:#6b5600 }
.badge.danger{ background:#ffe0e0; color:#a11 }
.fc-meta{ display:flex; gap:14px; color:#64748b; font-size:14px }
.fc-note{ margin-top:8px; color:#a11; font-size:13px }

/* 사이드 카드가 배너 하단 끝선에 맞도록 */
.side .side-card,
.side {
  position: sticky;
  top: 12px;
}
