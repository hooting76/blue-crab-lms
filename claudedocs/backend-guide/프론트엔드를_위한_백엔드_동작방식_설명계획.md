# í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìë¥¼ ìœ„í•œ ë°±ì—”ë“œ ë™ì‘ ë°©ì‹ ì„¤ëª… ê³„íš

> **ì‘ì„± ì¼ì**: 2025-10-10  
> **ëŒ€ìƒ**: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì  
> **ëª©ì **: ë°±ì—”ë“œ APIì˜ ë™ì‘ ì›ë¦¬ì™€ í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ ë°©ë²•ì„ ëª…í™•íˆ ì´í•´

---

## ğŸ“‹ ëª©ì°¨

1. [ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”](#1-ì „ì²´-ì•„í‚¤í…ì²˜-ê°œìš”)
2. [ìš”ì²­-ì‘ë‹µ íë¦„ë„](#2-ìš”ì²­-ì‘ë‹µ-íë¦„ë„)
3. [ë ˆì´ì–´ë³„ ë™ì‘ ì›ë¦¬](#3-ë ˆì´ì–´ë³„-ë™ì‘-ì›ë¦¬)
4. [ì‹¤ì œ API ì˜ˆì œë¡œ ë³´ëŠ” ë™ì‘ ê³¼ì •](#4-ì‹¤ì œ-api-ì˜ˆì œë¡œ-ë³´ëŠ”-ë™ì‘-ê³¼ì •)
5. [ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜](#5-ì¸ì¦-ë©”ì»¤ë‹ˆì¦˜)
6. [ì—ëŸ¬ ì²˜ë¦¬ ë° ì‘ë‹µ êµ¬ì¡°](#6-ì—ëŸ¬-ì²˜ë¦¬-ë°-ì‘ë‹µ-êµ¬ì¡°)
7. [í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ ì²´í¬ë¦¬ìŠ¤íŠ¸](#7-í”„ë¡ íŠ¸ì—”ë“œ-ì—°ë™-ì²´í¬ë¦¬ìŠ¤íŠ¸)

---

## 1. ì „ì²´ ì•„í‚¤í…ì²˜ ê°œìš”

### 1.1 ì‹œìŠ¤í…œ êµ¬ì¡° ë‹¤ì´ì–´ê·¸ë¨

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í”„ë¡ íŠ¸ì—”ë“œ (React)                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚ ì»´í¬ë„ŒíŠ¸  â”‚  â”‚  APIí˜¸ì¶œ  â”‚  â”‚  Context â”‚  â”‚   Hook   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ HTTP Request
                            â†“ (JSON + JWT Token)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ìŠ¤í”„ë§ ë¶€íŠ¸ ë°±ì—”ë“œ                          â”‚
â”‚                                                               â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         1. Interceptor (ìš”ì²­ ì „ì²˜ë¦¬)                  â”‚   â”‚
â”‚  â”‚         - JWT í† í° ê²€ì¦                               â”‚   â”‚
â”‚  â”‚         - ë¡œê·¸ ê¸°ë¡                                   â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         2. Controller (API ì—”ë“œí¬ì¸íŠ¸)                â”‚   â”‚
â”‚  â”‚         - ìš”ì²­ ìˆ˜ì‹  ë° íŒŒë¼ë¯¸í„° ê²€ì¦                   â”‚   â”‚
â”‚  â”‚         - DTO ë³€í™˜                                    â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         3. Service (ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§)                    â”‚   â”‚
â”‚  â”‚         - ê¶Œí•œ í™•ì¸                                   â”‚   â”‚
â”‚  â”‚         - ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ì²˜ë¦¬                          â”‚   â”‚
â”‚  â”‚         - íŠ¸ëœì­ì…˜ ê´€ë¦¬                               â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         4. Repository (ë°ì´í„° ì ‘ê·¼)                   â”‚   â”‚
â”‚  â”‚         - JPA/JPQL ì¿¼ë¦¬ ì‹¤í–‰                          â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†“                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         5. Database (MySQL)                          â”‚   â”‚
â”‚  â”‚         - ë°ì´í„° ì €ì¥/ì¡°íšŒ                            â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚                            â†‘                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚  â”‚         ì™¸ë¶€ ì„œë¹„ìŠ¤                                    â”‚   â”‚
â”‚  â”‚         - Redis (ìºì‹œ, ì„¸ì…˜)                          â”‚   â”‚
â”‚  â”‚         - MinIO (íŒŒì¼ ì €ì¥ì†Œ)                         â”‚   â”‚
â”‚  â”‚         - FCM (í‘¸ì‹œ ì•Œë¦¼)                             â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â†“ HTTP Response
                            â†“ (JSON)
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    í”„ë¡ íŠ¸ì—”ë“œ (React)                         â”‚
â”‚                    - ì‘ë‹µ ë°ì´í„° ì²˜ë¦¬                         â”‚
â”‚                    - UI ì—…ë°ì´íŠ¸                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 1.2 ë°±ì—”ë“œ í´ë” êµ¬ì¡° (15ê°œ ë ˆì´ì–´)

```
backend/BlueCrab/src/main/java/BlueCrab/com/example/
â”‚
â”œâ”€â”€ ğŸ“ controller/          # HTTP ìš”ì²­ì„ ë°›ëŠ” ì§„ì…ì  (28ê°œ í´ë˜ìŠ¤)
â”‚   â””â”€â”€ ì—­í• : URL ë§¤í•‘, ìš”ì²­ ê²€ì¦, ì‘ë‹µ ë°˜í™˜
â”‚
â”œâ”€â”€ ğŸ“ service/             # ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ (26ê°œ í´ë˜ìŠ¤)
â”‚   â””â”€â”€ ì—­í• : ì‹¤ì œ ê¸°ëŠ¥ êµ¬í˜„, íŠ¸ëœì­ì…˜ ê´€ë¦¬
â”‚
â”œâ”€â”€ ğŸ“ repository/          # ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ (JPA)
â”‚   â””â”€â”€ ì—­í• : CRUD ì¿¼ë¦¬, ë³µì¡í•œ ê²€ìƒ‰ ì¿¼ë¦¬
â”‚
â”œâ”€â”€ ğŸ“ entity/              # ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” ë§¤í•‘ (12ê°œ ì—”í‹°í‹°)
â”‚   â””â”€â”€ ì—­í• : DB í…Œì´ë¸”ê³¼ 1:1 ë§¤í•‘ë˜ëŠ” Java í´ë˜ìŠ¤
â”‚
â”œâ”€â”€ ğŸ“ dto/                 # ë°ì´í„° ì „ì†¡ ê°ì²´ (42ê°œ í´ë˜ìŠ¤)
â”‚   â””â”€â”€ ì—­í• : í”„ë¡ íŠ¸ì—”ë“œì™€ ì£¼ê³ ë°›ëŠ” JSON êµ¬ì¡°
â”‚
â”œâ”€â”€ ğŸ“ config/              # ìŠ¤í”„ë§ ì„¤ì • í´ë˜ìŠ¤ (12ê°œ ì„¤ì •)
â”‚   â””â”€â”€ ì—­í• : Redis, Security, Firebase, MinIO ë“± ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ security/            # ë³´ì•ˆ ê´€ë ¨ í´ë˜ìŠ¤
â”‚   â””â”€â”€ ì—­í• : JWT í•„í„°, Spring Security ì„¤ì •
â”‚
â”œâ”€â”€ ğŸ“ util/                # ìœ í‹¸ë¦¬í‹° í´ë˜ìŠ¤
â”‚   â””â”€â”€ ì—­í• : JWT ì²˜ë¦¬, íŒŒì¼ ì²˜ë¦¬, ê³µí†µ ê¸°ëŠ¥
â”‚
â”œâ”€â”€ ğŸ“ exception/           # ì˜ˆì™¸ ì²˜ë¦¬ í´ë˜ìŠ¤
â”‚   â””â”€â”€ ì—­í• : ì»¤ìŠ¤í…€ ì˜ˆì™¸ ì •ì˜, GlobalExceptionHandler
â”‚
â”œâ”€â”€ ğŸ“ enums/               # ì—´ê±°í˜• íƒ€ì…
â”‚   â””â”€â”€ ì—­í• : ìƒíƒœ ì½”ë“œ, ì˜ˆì•½ ìƒíƒœ, ì‹œì„¤ íƒ€ì… ë“±
â”‚
â”œâ”€â”€ ğŸ“ annotation/          # ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜
â”‚   â””â”€â”€ ì—­í• : @RateLimit, @AdminOnly ë“±
â”‚
â”œâ”€â”€ ğŸ“ interceptor/         # HTTP ìš”ì²­ ê°€ë¡œì±„ê¸°
â”‚   â””â”€â”€ ì—­í• : ë¡œê¹…, ì¸ì¦ ì „ì²˜ë¦¬
â”‚
â”œâ”€â”€ ğŸ“ scheduler/           # ìŠ¤ì¼€ì¤„ ì‘ì—…
â”‚   â””â”€â”€ ì—­í• : ì •ê¸°ì ì¸ ë°°ì¹˜ ì‘ì—… (í† í° ì •ë¦¬ ë“±)
â”‚
â”œâ”€â”€ ğŸ“ initializer/         # ì´ˆê¸°í™” í´ë˜ìŠ¤
â”‚   â””â”€â”€ ì—­í• : ì• í”Œë¦¬ì¼€ì´ì…˜ ì‹œì‘ ì‹œ ì´ˆê¸° ë°ì´í„° ì„¤ì •
â”‚
â””â”€â”€ ğŸ“ model/               # ê¸°íƒ€ ëª¨ë¸ í´ë˜ìŠ¤
    â””â”€â”€ ì—­í• : DTO/Entityê°€ ì•„ë‹Œ ë³´ì¡° í´ë˜ìŠ¤
```

### 1.3 í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ìì£¼ ë³´ê²Œ ë  í´ë”

| ìš°ì„ ìˆœìœ„ | í´ë” | ì„¤ëª… | í™•ì¸ ì´ìœ  |
|---------|------|------|----------|
| â­â­â­ | **dto/** | API ìš”ì²­/ì‘ë‹µ êµ¬ì¡° | JSON í˜•ì‹ í™•ì¸ í•„ìˆ˜ |
| â­â­â­ | **controller/** | API ì—”ë“œí¬ì¸íŠ¸ | URL, HTTP ë©”ì„œë“œ í™•ì¸ |
| â­â­ | **entity/** | ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° | ë°ì´í„° ê´€ê³„ ì´í•´ |
| â­â­ | **enums/** | ìƒíƒœ ì½”ë“œ | ë“œë¡­ë‹¤ìš´, í•„í„° ì˜µì…˜ |
| â­ | **exception/** | ì—ëŸ¬ íƒ€ì… | ì—ëŸ¬ ì²˜ë¦¬ ë°©ë²• |
| â­ | **service/** | ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ | ë³µì¡í•œ ë¡œì§ ì´í•´ ì‹œ |

### 1.4 ì£¼ìš” ê¸°ìˆ  ìŠ¤íƒ

| ë ˆì´ì–´ | ê¸°ìˆ  | ì—­í•  |
|--------|------|------|
| **Controller** | Spring MVC | HTTP ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬ |
| **Service** | Spring Service | ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„ |
| **Repository** | Spring Data JPA | ë°ì´í„°ë² ì´ìŠ¤ ì ‘ê·¼ |
| **Security** | JWT + Spring Security | ì¸ì¦/ì¸ê°€ ì²˜ë¦¬ |
| **Cache** | Redis | ì„¸ì…˜, í† í° ë¸”ë™ë¦¬ìŠ¤íŠ¸, FCM ì„¸ì…˜ |
| **Storage** | MinIO | íŒŒì¼ ì—…ë¡œë“œ/ë‹¤ìš´ë¡œë“œ (í”„ë¡œí•„, ì²¨ë¶€íŒŒì¼) |
| **Database** | MariaDB | ì˜êµ¬ ë°ì´í„° ì €ì¥ |
| **Push** | Firebase FCM | í‘¸ì‹œ ì•Œë¦¼ ë°œì†¡ |
| **Email** | SMTP | ì´ë©”ì¼ ì¸ì¦ ì½”ë“œ ë°œì†¡ |

> ğŸ’¡ **ìƒì„¸ ë²„ì „ ì •ë³´**: [ê¸°ìˆ  ìŠ¤íƒ ë° ë²„ì „ ì •ë³´](./ê¸°ìˆ ìŠ¤íƒ_ë°_ë²„ì „ì •ë³´.md) ë¬¸ì„œ ì°¸ì¡°
> - Spring Boot 2.x (eGovFrame 4.3.0)
> - Tomcat 9.x (ë‚´ì¥)
> - MariaDB JDBC 3.1.4
> - Redis 6.x/7.x
> - MinIO Client 8.5.2
> - Firebase Admin SDK 9.7.0
> - JWT (jjwt 0.12.6)

---

## 1.5 ì£¼ìš” í´ë”ë³„ ìƒì„¸ ë‚´ìš©

### ğŸ“ dto/ - í”„ë¡ íŠ¸ì—”ë“œê°€ ê°€ì¥ ë§ì´ ë³¼ í´ë” (42ê°œ)

**ìš”ì²­ DTO (Request)** - í”„ë¡ íŠ¸ì—”ë“œê°€ ë°±ì—”ë“œë¡œ ë³´ë‚´ëŠ” ë°ì´í„° í˜•ì‹
```
LoginRequest.java                    # ë¡œê·¸ì¸ ìš”ì²­
ReservationCreateRequestDto.java     # ì˜ˆì•½ ìƒì„± ìš”ì²­
SeatReserveRequestDto.java           # ì¢Œì„ ì˜ˆì•½ ìš”ì²­
FcmRegisterRequest.java              # FCM í† í° ë“±ë¡ ìš”ì²­
PasswordResetIdentityRequest.java    # ë¹„ë°€ë²ˆí˜¸ ì¬ì„¤ì • ë³¸ì¸ í™•ì¸
```

**ì‘ë‹µ DTO (Response)** - ë°±ì—”ë“œê°€ í”„ë¡ íŠ¸ì—”ë“œë¡œ ë³´ë‚´ëŠ” ë°ì´í„° í˜•ì‹
```
LoginResponse.java                   # ë¡œê·¸ì¸ ì‘ë‹µ (JWT í† í° í¬í•¨)
ReservationDto.java                  # ì˜ˆì•½ ì •ë³´
ReadingSeatDto.java                  # ì—´ëŒì‹¤ ì¢Œì„ ì •ë³´
FcmRegisterResponse.java             # FCM ë“±ë¡ ê²°ê³¼
ApiResponse.java                     # ëª¨ë“  APIì˜ ê³µí†µ ì‘ë‹µ ë˜í¼
```

**í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**:
```typescript
// TypeScript ì¸í„°í˜ì´ìŠ¤ë¡œ ë³€í™˜
interface LoginRequest {
  username: string;
  password: string;
}

interface LoginResponse {
  accessToken: string;
  refreshToken: string;
  tokenType: "Bearer";
  expiresIn: number;
  user: {
    userIdx: number;
    userEmail: string;
    userName: string;
  };
}
```

---

### ğŸ“ entity/ - ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” êµ¬ì¡° (12ê°œ)

**í•µì‹¬ ì—”í‹°í‹°**:
```
UserTbl.java                    # ì‚¬ìš©ì í…Œì´ë¸”
BoardTbl.java                   # ê²Œì‹œíŒ í…Œì´ë¸”
BoardAttachmentTbl.java         # ê²Œì‹œíŒ ì²¨ë¶€íŒŒì¼ í…Œì´ë¸”
FacilityTbl.java                # ì‹œì„¤ í…Œì´ë¸”
FacilityReservationTbl.java     # ì‹œì„¤ ì˜ˆì•½ í…Œì´ë¸”
ReadingSeat.java                # ì—´ëŒì‹¤ ì¢Œì„ í…Œì´ë¸”
FcmToken.java                   # FCM í† í° í…Œì´ë¸”
AdminTbl.java                   # ê´€ë¦¬ì í…Œì´ë¸”
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- EntityëŠ” ì§ì ‘ ë°›ì§€ ì•Šê³  DTOë¡œ ë³€í™˜ëœ ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤
- í•˜ì§€ë§Œ ë°ì´í„° êµ¬ì¡°ì™€ ê´€ê³„ë¥¼ ì´í•´í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤
- ì˜ˆ: `FacilityReservationTbl`ì€ `UserTbl`ê³¼ `FacilityTbl`ì„ ì°¸ì¡° (ì™¸ë˜í‚¤)

---

### ğŸ“ enums/ - ìƒíƒœ ì½”ë“œ ë° íƒ€ì… ì •ì˜

**í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ì‚¬ìš©í•  Enum**:
```java
ReservationStatus.java          # ì˜ˆì•½ ìƒíƒœ
  - PENDING       # ëŒ€ê¸° ì¤‘
  - APPROVED      # ìŠ¹ì¸ë¨
  - REJECTED      # ê±°ë¶€ë¨
  - CANCELLED     # ì·¨ì†Œë¨
  
FacilityType.java              # ì‹œì„¤ íƒ€ì…
  - SEMINAR_ROOM  # ì„¸ë¯¸ë‚˜ì‹¤
  - CONFERENCE    # íšŒì˜ì‹¤
  - LAB           # ì‹¤ìŠµì‹¤
  
BoardCode.java                 # ê²Œì‹œíŒ ì½”ë“œ
  - SCHOOL_NOTICE    # í•™êµê³µì§€ (0)
  - ACADEMIC_NOTICE  # í•™ì‚¬ê³µì§€ (1)
  - DEPT_NOTICE      # í•™ê³¼ê³µì§€ (2)
  - PROF_NOTICE      # êµìˆ˜ê³µì§€ (3)
```

**í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš© ì˜ˆì‹œ**:
```javascript
// Reactì—ì„œ ì‚¬ìš©
const ReservationStatus = {
  PENDING: 'PENDING',
  APPROVED: 'APPROVED',
  REJECTED: 'REJECTED',
  CANCELLED: 'CANCELLED'
};

// ìƒíƒœë³„ í‘œì‹œ
const getStatusBadge = (status) => {
  switch(status) {
    case ReservationStatus.PENDING:
      return <Badge color="yellow">ëŒ€ê¸° ì¤‘</Badge>;
    case ReservationStatus.APPROVED:
      return <Badge color="green">ìŠ¹ì¸ë¨</Badge>;
    case ReservationStatus.REJECTED:
      return <Badge color="red">ê±°ë¶€ë¨</Badge>;
    case ReservationStatus.CANCELLED:
      return <Badge color="gray">ì·¨ì†Œë¨</Badge>;
  }
};
```

---

### ğŸ“ config/ - ì‹œìŠ¤í…œ ì„¤ì • (12ê°œ)

**ì£¼ìš” ì„¤ì • íŒŒì¼**:
```
SecurityConfig.java            # Spring Security ì„¤ì • (JWT, CORS)
RedisConfig.java               # Redis ìºì‹œ ì„¤ì •
FirebaseConfig.java            # Firebase FCM ì„¤ì •
ObjectStorageConfig.java       # MinIO íŒŒì¼ ì €ì¥ì†Œ ì„¤ì •
WebConfig.java                 # CORS, ì¸í„°ì…‰í„° ì„¤ì •
RateLimitConfig.java           # API í˜¸ì¶œ ì œí•œ ì„¤ì •
```

**í”„ë¡ íŠ¸ì—”ë“œ ì˜í–¥**:
- `WebConfig.java`: CORS í—ˆìš© ë„ë©”ì¸ í™•ì¸
- `SecurityConfig.java`: ì¸ì¦ í•„ìš”í•œ URL í™•ì¸
- `RateLimitConfig.java`: API í˜¸ì¶œ ì œí•œ í™•ì¸ (ì˜ˆ: 1ë¶„ì— 10íšŒ)

---

### ğŸ“ exception/ - ì˜ˆì™¸ ì²˜ë¦¬

**ì»¤ìŠ¤í…€ ì˜ˆì™¸**:
```
NotFoundException.java              # 404 - ë¦¬ì†ŒìŠ¤ ì—†ìŒ
UnauthorizedException.java          # 401 - ì¸ì¦ ì‹¤íŒ¨
ForbiddenException.java             # 403 - ê¶Œí•œ ì—†ìŒ
BusinessException.java              # 409 - ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜
ValidationException.java            # 400 - ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨
```

**GlobalExceptionHandler.java**:
- ëª¨ë“  ì˜ˆì™¸ë¥¼ `ApiResponse<Void>` í˜•ì‹ìœ¼ë¡œ í†µì¼
- HTTP ìƒíƒœ ì½”ë“œì™€ ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì¼ê´€ë˜ê²Œ ë°˜í™˜

**í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°›ëŠ” ì—ëŸ¬ ì‘ë‹µ**:
```json
{
  "success": false,
  "message": "í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤.",
  "data": null,
  "timestamp": "2025-10-10T10:30:00"
}
```

---

## 1.6 ì‹¤ì œ íŒŒì¼ ì˜ˆì‹œë¡œ ì´í•´í•˜ê¸°

### ğŸ“„ ApiResponse.java - ëª¨ë“  APIì˜ ê³µí†µ ì‘ë‹µ í˜•ì‹

```java
package BlueCrab.com.example.dto;

/**
 * API ì‘ë‹µì„ ìœ„í•œ ê³µí†µ DTO í´ë˜ìŠ¤
 * ëª¨ë“  REST ì»¨íŠ¸ë¡¤ëŸ¬ì—ì„œ ì¼ê´€ëœ ì‘ë‹µ í˜•ì‹ ì œê³µ
 */
public class ApiResponse<T> {
    private boolean success;        // ì„±ê³µ/ì‹¤íŒ¨
    private String message;         // ì‚¬ìš©ì ë©”ì‹œì§€
    private T data;                 // ì‹¤ì œ ë°ì´í„° (ì œë„¤ë¦­)
    private LocalDateTime timestamp; // ì‘ë‹µ ì‹œê°„
    
    // ì„±ê³µ ì‘ë‹µ ìƒì„±
    public static <T> ApiResponse<T> success(String message, T data) {
        return new ApiResponse<>(true, message, data, LocalDateTime.now());
    }
    
    // ì‹¤íŒ¨ ì‘ë‹µ ìƒì„±
    public static <T> ApiResponse<T> failure(String message) {
        return new ApiResponse<>(false, message, null, LocalDateTime.now());
    }
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- ëª¨ë“  APIê°€ ë™ì¼í•œ êµ¬ì¡°ë¡œ ì‘ë‹µ â†’ ì¼ê´€ëœ ì²˜ë¦¬ ê°€ëŠ¥
- `success`ë¡œ ì„±ê³µ/ì‹¤íŒ¨ íŒë‹¨
- `message`ë¥¼ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ
- `data`ì— ì‹¤ì œ í•„ìš”í•œ ì •ë³´

---

### ğŸ“„ ReservationDto.java - ì˜ˆì•½ ì •ë³´ ì‘ë‹µ

```java
package BlueCrab.com.example.dto;

public class ReservationDto {
    private Integer reservationIdx;      // ì˜ˆì•½ ID
    private Integer facilityIdx;         // ì‹œì„¤ ID
    private String facilityName;         // ì‹œì„¤ ì´ë¦„
    private String userCode;             // ì‚¬ìš©ì ì½”ë“œ
    private String userName;             // ì‚¬ìš©ì ì´ë¦„
    
    @JsonFormat(pattern = "yyyy-MM-dd'T'HH:mm:ss")
    private LocalDateTime startTime;     // ì‹œì‘ ì‹œê°„
    
    @JsonFormat(pattern = "yyyy-MM-dd'T'HH:mm:ss")
    private LocalDateTime endTime;       // ì¢…ë£Œ ì‹œê°„
    
    private Integer partySize;           // ì¸ì› ìˆ˜
    private String purpose;              // ì˜ˆì•½ ëª©ì 
    private ReservationStatus status;    // ì˜ˆì•½ ìƒíƒœ
    private String rejectionReason;      // ê±°ë¶€ ì‚¬ìœ 
    
    @JsonFormat(pattern = "yyyy-MM-dd'T'HH:mm:ss")
    private LocalDateTime createdAt;     // ìƒì„± ì‹œê°„
    
    // getter, setter...
}
```

**í”„ë¡ íŠ¸ì—”ë“œì—ì„œ ë°›ëŠ” JSON**:
```json
{
  "success": true,
  "message": "ì˜ˆì•½ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    "reservationIdx": 123,
    "facilityIdx": 5,
    "facilityName": "ì„¸ë¯¸ë‚˜ì‹¤ A",
    "userCode": "20240001",
    "userName": "í™ê¸¸ë™",
    "startTime": "2025-10-15T14:00:00",
    "endTime": "2025-10-15T16:00:00",
    "partySize": 10,
    "purpose": "í•™ìŠµ ì„¸ë¯¸ë‚˜",
    "status": "PENDING",
    "createdAt": "2025-10-10T10:30:00"
  },
  "timestamp": "2025-10-10T10:30:00"
}
```

---

### ğŸ“„ ReservationStatus.java - ì˜ˆì•½ ìƒíƒœ Enum

```java
package BlueCrab.com.example.enums;

public enum ReservationStatus {
    PENDING("ëŒ€ê¸°ì¤‘"),      // ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸°
    APPROVED("ìŠ¹ì¸ë¨"),     // ê´€ë¦¬ìê°€ ìŠ¹ì¸
    REJECTED("ë°˜ë ¤ë¨"),     // ê´€ë¦¬ìê°€ ê±°ë¶€
    CANCELLED("ì·¨ì†Œë¨"),    // ì‚¬ìš©ìê°€ ì·¨ì†Œ
    COMPLETED("ì™„ë£Œë¨");    // ì˜ˆì•½ ì‹œê°„ ì¢…ë£Œ
    
    private final String description;
    
    ReservationStatus(String description) {
        this.description = description;
    }
    
    @JsonValue
    public String getDescription() {
        return description;
    }
    
    @JsonCreator
    public static ReservationStatus fromString(String value) {
        for (ReservationStatus status : ReservationStatus.values()) {
            if (status.name().equalsIgnoreCase(value)) {
                return status;
            }
        }
        throw new IllegalArgumentException("Unknown status: " + value);
    }
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ì‚¬ìš©ë²•**:

```javascript
// React ì»´í¬ë„ŒíŠ¸ì—ì„œ
const ReservationStatusBadge = ({ status }) => {
  const statusConfig = {
    'PENDING': { color: 'yellow', text: 'ëŒ€ê¸°ì¤‘', icon: 'â³' },
    'APPROVED': { color: 'green', text: 'ìŠ¹ì¸ë¨', icon: 'âœ…' },
    'REJECTED': { color: 'red', text: 'ë°˜ë ¤ë¨', icon: 'âŒ' },
    'CANCELLED': { color: 'gray', text: 'ì·¨ì†Œë¨', icon: 'ğŸš«' },
    'COMPLETED': { color: 'blue', text: 'ì™„ë£Œë¨', icon: 'âœ”ï¸' }
  };
  
  const config = statusConfig[status] || statusConfig['PENDING'];
  
  return (
    <span className={`badge badge-${config.color}`}>
      {config.icon} {config.text}
    </span>
  );
};

// ì‚¬ìš©
<ReservationStatusBadge status={reservation.status} />
```

---

## 1.7 í´ë” êµ¬ì¡° íƒìƒ‰ ê°€ì´ë“œ

### í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ë°±ì—”ë“œ ì½”ë“œë¥¼ ë³¼ ë•Œ

#### 1ë‹¨ê³„: API ì—”ë“œí¬ì¸íŠ¸ í™•ì¸í•˜ê¸°
```
ğŸ“ controller/
  â””â”€â”€ FacilityReservationController.java ì—´ê¸°
      â†’ @RequestMapping("/api/reservations") í™•ì¸
      â†’ @PostMapping, @GetMapping ë“±ì˜ ë©”ì„œë“œ í™•ì¸
      â†’ íŒŒë¼ë¯¸í„° íƒ€ì… í™•ì¸ (@RequestBody ReservationCreateRequestDto)
```

#### 2ë‹¨ê³„: ìš”ì²­/ì‘ë‹µ í˜•ì‹ í™•ì¸í•˜ê¸°
```
ğŸ“ dto/
  â”œâ”€â”€ ReservationCreateRequestDto.java ì—´ê¸°
  â”‚   â†’ í”„ë¡ íŠ¸ì—”ë“œê°€ ë³´ë‚´ì•¼ í•  JSON êµ¬ì¡° í™•ì¸
  â”‚
  â””â”€â”€ ReservationDto.java ì—´ê¸°
      â†’ ë°±ì—”ë“œê°€ ë°˜í™˜í•˜ëŠ” JSON êµ¬ì¡° í™•ì¸
```

#### 3ë‹¨ê³„: ìƒíƒœ ì½”ë“œ í™•ì¸í•˜ê¸°
```
ğŸ“ enums/
  â””â”€â”€ ReservationStatus.java ì—´ê¸°
      â†’ ë“œë¡­ë‹¤ìš´, í•„í„°ì— ì‚¬ìš©í•  ê°’ í™•ì¸
```

#### 4ë‹¨ê³„: ì—ëŸ¬ ì²˜ë¦¬ í™•ì¸í•˜ê¸°
```
ğŸ“ exception/
  â”œâ”€â”€ BusinessException.java í™•ì¸
  â”‚   â†’ ì–´ë–¤ ê²½ìš°ì— ë°œìƒí•˜ëŠ”ì§€ í™•ì¸
  â”‚
  â””â”€â”€ GlobalExceptionHandler.java í™•ì¸
      â†’ ì—ëŸ¬ ì‘ë‹µ í˜•ì‹ í™•ì¸
```

### ì‹¤ì „ ì˜ˆì œ: ì‹œì„¤ ì˜ˆì•½ API ì™„ì „ ì´í•´í•˜ê¸°

**Step 1**: Controller íŒŒì¼ ì—´ê¸°
```java
// FacilityReservationController.java
@PostMapping
public ResponseEntity<ApiResponse<ReservationDto>> createReservation(
    @Valid @RequestBody ReservationCreateRequestDto request,
    HttpServletRequest httpRequest) {
    // ...
}
```
â†’ **í™•ì¸ì‚¬í•­**: URLì€ `/api/reservations`, ë©”ì„œë“œëŠ” `POST`, ìš”ì²­ íƒ€ì…ì€ `ReservationCreateRequestDto`

**Step 2**: ìš”ì²­ DTO íŒŒì¼ ì—´ê¸°
```java
// ReservationCreateRequestDto.java
public class ReservationCreateRequestDto {
    @NotNull
    private Integer facilityIdx;
    
    @NotNull
    @Future
    private LocalDateTime startTime;
    
    @NotNull
    private LocalDateTime endTime;
    
    private Integer partySize;
    private String purpose;
}
```
â†’ **í™•ì¸ì‚¬í•­**: í•„ìˆ˜ í•„ë“œ(facilityIdx, startTime, endTime), ì„ íƒ í•„ë“œ(partySize, purpose)

**Step 3**: ì‘ë‹µ DTO íŒŒì¼ ì—´ê¸°
```java
// ReservationDto.java
public class ReservationDto {
    private Integer reservationIdx;
    private String facilityName;
    private ReservationStatus status;
    // ... ê¸°íƒ€ í•„ë“œ
}
```
â†’ **í™•ì¸ì‚¬í•­**: ì‘ë‹µì— í¬í•¨ë˜ëŠ” ëª¨ë“  í•„ë“œ

**Step 4**: í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ì‘ì„±
```javascript
// reservationAPI.js
export const createReservation = async (reservationData) => {
  const response = await fetch('/api/reservations', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${getToken()}`
    },
    body: JSON.stringify({
      facilityIdx: reservationData.facilityId,
      startTime: reservationData.startTime,
      endTime: reservationData.endTime,
      partySize: reservationData.partySize,
      purpose: reservationData.purpose
    })
  });
  
  const data = await response.json();
  
  if (data.success) {
    return data.data;  // ReservationDto
  } else {
    throw new Error(data.message);
  }
};
```

---

## 2. ìš”ì²­-ì‘ë‹µ íë¦„ë„

### 2.1 ì¼ë°˜ì ì¸ API í˜¸ì¶œ íë¦„ (ì¸ì¦ í•„ìš”í•œ ê²½ìš°)

```
í”„ë¡ íŠ¸ì—”ë“œ                ë°±ì—”ë“œ
    â”‚                      â”‚
    â”‚  1. HTTP Request     â”‚
    â”‚  (Authorization:     â”‚
    â”‚   Bearer token)      â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                      â”‚
    â”‚                      â”‚  2. Interceptor
    â”‚                      â”‚     - JWT ê²€ì¦
    â”‚                      â”‚     - ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ
    â”‚                      â”‚     - ë¸”ë™ë¦¬ìŠ¤íŠ¸ í™•ì¸
    â”‚                      â†“
    â”‚                      â”‚  3. Controller
    â”‚                      â”‚     - ìš”ì²­ íŒŒë¼ë¯¸í„° ê²€ì¦
    â”‚                      â”‚     - @Valid ì–´ë…¸í…Œì´ì…˜
    â”‚                      â†“
    â”‚                      â”‚  4. Service
    â”‚                      â”‚     - ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§
    â”‚                      â”‚     - ê¶Œí•œ í™•ì¸
    â”‚                      â”‚     - ë°ì´í„° ê°€ê³µ
    â”‚                      â†“
    â”‚                      â”‚  5. Repository
    â”‚                      â”‚     - DB ì¿¼ë¦¬ ì‹¤í–‰
    â”‚                      â”‚     - JPA Entity ì¡°íšŒ/ì €ì¥
    â”‚                      â†“
    â”‚                      â”‚  6. ì‘ë‹µ ìƒì„±
    â”‚                      â”‚     - ApiResponse ë˜í•‘
    â”‚                      â”‚     - JSON ì§ë ¬í™”
    â”‚                      â”‚
    â”‚  7. HTTP Response    â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚  {                   â”‚
    â”‚    "success": true,  â”‚
    â”‚    "message": "...", â”‚
    â”‚    "data": {...}     â”‚
    â”‚  }                   â”‚
    â”‚                      â”‚
```

### 2.2 ì¸ì¦ì´ í•„ìš” ì—†ëŠ” API í˜¸ì¶œ íë¦„

```
í”„ë¡ íŠ¸ì—”ë“œ                ë°±ì—”ë“œ
    â”‚                      â”‚
    â”‚  1. HTTP Request     â”‚
    â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
    â”‚                      â”‚
    â”‚                      â”‚  2. Controller
    â”‚                      â”‚     - ë°”ë¡œ ìš”ì²­ ì²˜ë¦¬
    â”‚                      â†“
    â”‚                      â”‚  3. Service
    â”‚                      â†“
    â”‚                      â”‚  4. Repository
    â”‚                      â†“
    â”‚                      â”‚  5. ì‘ë‹µ ìƒì„±
    â”‚                      â”‚
    â”‚  6. HTTP Response    â”‚
    â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
    â”‚                      â”‚
```

---

## 3. ë ˆì´ì–´ë³„ ë™ì‘ ì›ë¦¬

### 3.1 Controller ë ˆì´ì–´

**ì—­í• **: HTTP ìš”ì²­ì„ ë°›ì•„ì„œ Serviceë¡œ ì „ë‹¬, ì‘ë‹µ ë°˜í™˜

**ì£¼ìš” ì±…ì„**:
- âœ… URL ë§¤í•‘ (`@PostMapping`, `@GetMapping` ë“±)
- âœ… ìš”ì²­ íŒŒë¼ë¯¸í„° ë°”ì¸ë”©
- âœ… ì…ë ¥ ìœ íš¨ì„± ê²€ì¦ (`@Valid`, `@RequestBody`)
- âœ… HTTP ìƒíƒœ ì½”ë“œ ê²°ì •
- âŒ **í•˜ì§€ ì•ŠëŠ” ê²ƒ**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, DB ì§ì ‘ ì ‘ê·¼

**ì½”ë“œ ì˜ˆì‹œ**:
```java
@RestController
@RequestMapping("/api/reservations")
public class FacilityReservationController {
    
    private final FacilityReservationService reservationService;
    private final JwtUtil jwtUtil;
    
    // ì˜ˆì•½ ìƒì„± API
    @PostMapping
    public ResponseEntity<ApiResponse<ReservationDto>> createReservation(
            @Valid @RequestBody ReservationCreateRequestDto request,
            HttpServletRequest httpRequest) {
        
        // 1. JWTì—ì„œ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œ
        String userCode = getUserCodeFromToken(httpRequest);
        
        // 2. Serviceì— ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ìœ„ì„
        ReservationDto reservation = reservationService.createReservation(userCode, request);
        
        // 3. ì‘ë‹µ ìƒì„± ë° ë°˜í™˜
        String message = reservation.getStatus().name().equals("APPROVED")
            ? "ì˜ˆì•½ì´ ìë™ìœ¼ë¡œ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤."
            : "ì˜ˆì•½ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.";
            
        return ResponseEntity.ok(ApiResponse.success(message, reservation));
    }
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- ControllerëŠ” APIì˜ "ì¶œì…êµ¬"ì…ë‹ˆë‹¤
- URL ê²½ë¡œ(`/api/reservations`)ë¡œ ì–´ë–¤ Controllerê°€ ì²˜ë¦¬í• ì§€ ê²°ì •ë©ë‹ˆë‹¤
- `@RequestBody`ëŠ” í”„ë¡ íŠ¸ì—ì„œ ë³´ë‚¸ JSONì„ Java ê°ì²´ë¡œ ë³€í™˜í•©ë‹ˆë‹¤
- `ResponseEntity`ëŠ” HTTP ìƒíƒœ ì½”ë“œì™€ ì‘ë‹µ ë³¸ë¬¸ì„ í•¨ê»˜ ë°˜í™˜í•©ë‹ˆë‹¤

---

### 3.2 Service ë ˆì´ì–´

**ì—­í• **: ì‹¤ì œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„

**ì£¼ìš” ì±…ì„**:
- âœ… ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦
- âœ… íŠ¸ëœì­ì…˜ ê´€ë¦¬ (`@Transactional`)
- âœ… ì—¬ëŸ¬ Repository ì¡°ìœ¨
- âœ… ë°ì´í„° ê°€ê³µ ë° ë³€í™˜
- âœ… ì™¸ë¶€ ì„œë¹„ìŠ¤ í˜¸ì¶œ (ì´ë©”ì¼, íŒŒì¼ ì €ì¥ ë“±)
- âŒ **í•˜ì§€ ì•ŠëŠ” ê²ƒ**: HTTP ê´€ë ¨ ì²˜ë¦¬, ì§ì ‘ì ì¸ ìš”ì²­/ì‘ë‹µ ì²˜ë¦¬

**ì½”ë“œ ì˜ˆì‹œ**:
```java
@Service
public class FacilityReservationService {
    
    private final ReservationRepository reservationRepository;
    private final FacilityRepository facilityRepository;
    private final UserRepository userRepository;
    
    @Transactional
    public ReservationDto createReservation(String userCode, ReservationCreateRequestDto request) {
        // 1. ì‚¬ìš©ì í™•ì¸
        User user = userRepository.findByUserCode(userCode)
            .orElseThrow(() -> new IllegalArgumentException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
        
        // 2. ì‹œì„¤ í™•ì¸
        Facility facility = facilityRepository.findById(request.getFacilityId())
            .orElseThrow(() -> new IllegalArgumentException("ì‹œì„¤ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
        
        // 3. ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ê²€ì¦
        if (!facility.isAvailable()) {
            throw new IllegalStateException("ì˜ˆì•½í•  ìˆ˜ ì—†ëŠ” ì‹œì„¤ì…ë‹ˆë‹¤.");
        }
        
        // 4. ì‹œê°„ ì¤‘ë³µ í™•ì¸
        boolean hasConflict = reservationRepository.existsByTimeOverlap(
            facility.getId(), 
            request.getStartTime(), 
            request.getEndTime()
        );
        
        if (hasConflict) {
            throw new IllegalStateException("í•´ë‹¹ ì‹œê°„ì— ì´ë¯¸ ì˜ˆì•½ì´ ìˆìŠµë‹ˆë‹¤.");
        }
        
        // 5. ì—”í‹°í‹° ìƒì„± ë° ì €ì¥
        Reservation reservation = Reservation.builder()
            .user(user)
            .facility(facility)
            .startTime(request.getStartTime())
            .endTime(request.getEndTime())
            .status(facility.isAutoApprove() ? ReservationStatus.APPROVED : ReservationStatus.PENDING)
            .build();
        
        Reservation saved = reservationRepository.save(reservation);
        
        // 6. DTO ë³€í™˜ í›„ ë°˜í™˜
        return ReservationDto.from(saved);
    }
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- ServiceëŠ” ì‹¤ì œë¡œ "ì¼ì„ í•˜ëŠ”" ê³³ì…ë‹ˆë‹¤
- ì—¬ëŸ¬ í…Œì´ë¸”ì„ í™•ì¸í•˜ê³  ì¡°í•©í•©ë‹ˆë‹¤
- ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™(ì˜ˆ: ì¤‘ë³µ ì˜ˆì•½ ë¶ˆê°€)ì„ ì—¬ê¸°ì„œ ê²€ì¦í•©ë‹ˆë‹¤
- `@Transactional`ë¡œ ë¬¶ì—¬ ìˆì–´ì„œ ì¤‘ê°„ì— ì—ëŸ¬ê°€ ë‚˜ë©´ ëª¨ë“  ë³€ê²½ì´ ì·¨ì†Œë©ë‹ˆë‹¤ (ë¡¤ë°±)

---

### 3.3 Repository ë ˆì´ì–´

**ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ì™€ ì§ì ‘ í†µì‹ 

**ì£¼ìš” ì±…ì„**:
- âœ… CRUD ì¿¼ë¦¬ ì‹¤í–‰
- âœ… ë³µì¡í•œ ê²€ìƒ‰ ì¿¼ë¦¬ (JPQL, QueryDSL)
- âœ… JPA Entity ê´€ë¦¬
- âŒ **í•˜ì§€ ì•ŠëŠ” ê²ƒ**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§, ë°ì´í„° ê°€ê³µ

**ì½”ë“œ ì˜ˆì‹œ**:
```java
@Repository
public interface ReservationRepository extends JpaRepository<Reservation, Long> {
    
    // ê¸°ë³¸ CRUDëŠ” ìë™ ì œê³µ: save(), findById(), findAll(), delete() ë“±
    
    // ì»¤ìŠ¤í…€ ì¿¼ë¦¬: ì‚¬ìš©ìë³„ ì˜ˆì•½ ì¡°íšŒ
    List<Reservation> findByUserUserCodeOrderByStartTimeDesc(String userCode);
    
    // ë³µì¡í•œ ì¿¼ë¦¬: ì‹œê°„ ì¤‘ë³µ í™•ì¸ (JPQL ì‚¬ìš©)
    @Query("SELECT COUNT(r) > 0 FROM Reservation r " +
           "WHERE r.facility.id = :facilityId " +
           "AND r.status != 'CANCELLED' " +
           "AND ((r.startTime < :endTime AND r.endTime > :startTime))")
    boolean existsByTimeOverlap(
        @Param("facilityId") Long facilityId,
        @Param("startTime") LocalDateTime startTime,
        @Param("endTime") LocalDateTime endTime
    );
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- RepositoryëŠ” ë°ì´í„°ë² ì´ìŠ¤ì˜ "ëŒ€ë³€ì¸"ì…ë‹ˆë‹¤
- SQLì„ ì§ì ‘ ì‘ì„±í•˜ì§€ ì•Šê³  ë©”ì„œë“œ ì´ë¦„ìœ¼ë¡œ ì¿¼ë¦¬ë¥¼ ìƒì„±í•©ë‹ˆë‹¤
- `findByUserUserCodeOrderByStartTimeDesc` â†’ "user.userCodeë¡œ ì°¾ê³  startTime ë‚´ë¦¼ì°¨ìˆœ ì •ë ¬"
- `@Query`ëŠ” ë³µì¡í•œ ì¿¼ë¦¬ë¥¼ ì§ì ‘ ì‘ì„±í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤

---

### 3.4 Entity (JPA ì—”í‹°í‹°)

**ì—­í• **: ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ê³¼ ë§¤í•‘ë˜ëŠ” í´ë˜ìŠ¤

**ì½”ë“œ ì˜ˆì‹œ**:
```java
@Entity
@Table(name = "reservations")
public class Reservation {
    
    @Id
    @GeneratedValue(strategy = GenerationType.IDENTITY)
    private Long id;
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "user_code", referencedColumnName = "user_code")
    private User user;  // ê´€ê³„: í•œ ëª…ì˜ ì‚¬ìš©ìê°€ ì—¬ëŸ¬ ì˜ˆì•½ ê°€ëŠ¥
    
    @ManyToOne(fetch = FetchType.LAZY)
    @JoinColumn(name = "facility_id")
    private Facility facility;  // ê´€ê³„: í•˜ë‚˜ì˜ ì‹œì„¤ì— ì—¬ëŸ¬ ì˜ˆì•½ ê°€ëŠ¥
    
    @Column(name = "start_time", nullable = false)
    private LocalDateTime startTime;
    
    @Column(name = "end_time", nullable = false)
    private LocalDateTime endTime;
    
    @Enumerated(EnumType.STRING)
    @Column(name = "status", nullable = false)
    private ReservationStatus status;
    
    // created_at, updated_at ë“±...
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- EntityëŠ” ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸”ì˜ "Java ë²„ì „"ì…ë‹ˆë‹¤
- `@ManyToOne`ì€ ì™¸ë˜í‚¤ ê´€ê³„ë¥¼ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤
- í”„ë¡ íŠ¸ì—”ë“œì—ì„œëŠ” Entityë¥¼ ì§ì ‘ ë°›ì§€ ì•Šê³  DTOë¡œ ë³€í™˜ëœ ë°ì´í„°ë¥¼ ë°›ìŠµë‹ˆë‹¤

---

### 3.5 DTO (Data Transfer Object)

**ì—­í• **: í”„ë¡ íŠ¸ì—”ë“œì™€ ë°±ì—”ë“œ ê°„ ë°ì´í„° ì „ì†¡ ê°ì²´

**ì½”ë“œ ì˜ˆì‹œ**:
```java
// ìš”ì²­ DTO
public class ReservationCreateRequestDto {
    @NotNull(message = "ì‹œì„¤ IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.")
    private Long facilityId;
    
    @NotNull(message = "ì‹œì‘ ì‹œê°„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.")
    @Future(message = "ì‹œì‘ ì‹œê°„ì€ ë¯¸ë˜ì—¬ì•¼ í•©ë‹ˆë‹¤.")
    private LocalDateTime startTime;
    
    @NotNull(message = "ì¢…ë£Œ ì‹œê°„ì€ í•„ìˆ˜ì…ë‹ˆë‹¤.")
    private LocalDateTime endTime;
    
    private String purpose;  // ì˜ˆì•½ ëª©ì  (ì„ íƒ)
}

// ì‘ë‹µ DTO
public class ReservationDto {
    private Long id;
    private String userCode;
    private String userName;
    private String facilityName;
    private LocalDateTime startTime;
    private LocalDateTime endTime;
    private String status;
    private LocalDateTime createdAt;
    
    // Entityì—ì„œ DTOë¡œ ë³€í™˜í•˜ëŠ” ì •ì  ë©”ì„œë“œ
    public static ReservationDto from(Reservation reservation) {
        return ReservationDto.builder()
            .id(reservation.getId())
            .userCode(reservation.getUser().getUserCode())
            .userName(reservation.getUser().getUserName())
            .facilityName(reservation.getFacility().getName())
            .startTime(reservation.getStartTime())
            .endTime(reservation.getEndTime())
            .status(reservation.getStatus().name())
            .createdAt(reservation.getCreatedAt())
            .build();
    }
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- DTOëŠ” í”„ë¡ íŠ¸ì—”ë“œê°€ ë°›ëŠ” ì‹¤ì œ JSON êµ¬ì¡°ì…ë‹ˆë‹¤
- EntityëŠ” ëª¨ë“  ì •ë³´ë¥¼ ê°€ì§€ê³  ìˆì§€ë§Œ, DTOëŠ” í•„ìš”í•œ ì •ë³´ë§Œ ê³¨ë¼ì„œ ì „ë‹¬í•©ë‹ˆë‹¤
- `@NotNull`, `@Future` ê°™ì€ ê²€ì¦ ì–´ë…¸í…Œì´ì…˜ìœ¼ë¡œ ì…ë ¥ê°’ì„ ê²€ì¦í•©ë‹ˆë‹¤

---

## 4. ì‹¤ì œ API ì˜ˆì œë¡œ ë³´ëŠ” ë™ì‘ ê³¼ì •

### 4.1 ì‹œì„¤ ì˜ˆì•½ ìƒì„± API ì™„ì „ ë¶„ì„

**í”„ë¡ íŠ¸ì—”ë“œ ìš”ì²­**:
```javascript
// React ì»´í¬ë„ŒíŠ¸ì—ì„œ API í˜¸ì¶œ
const createReservation = async (facilityId, startTime, endTime, purpose) => {
  const token = localStorage.getItem('accessToken');
  
  const response = await fetch('https://bluecrab.chickenkiller.com/BlueCrab-1.0.0/api/reservations', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json',
      'Authorization': `Bearer ${token}`
    },
    body: JSON.stringify({
      facilityId: facilityId,
      startTime: startTime,
      endTime: endTime,
      purpose: purpose
    })
  });
  
  const data = await response.json();
  return data;
};
```

**ë°±ì—”ë“œ ì²˜ë¦¬ ê³¼ì •**:

#### Step 1: Interceptorì—ì„œ JWT ê²€ì¦
```java
// JwtInterceptor.java
@Override
public boolean preHandle(HttpServletRequest request, 
                         HttpServletResponse response, 
                         Object handler) {
    // 1. Authorization í—¤ë”ì—ì„œ í† í° ì¶”ì¶œ
    String authHeader = request.getHeader("Authorization");
    if (authHeader == null || !authHeader.startsWith("Bearer ")) {
        throw new UnauthorizedException("í† í°ì´ ì—†ìŠµë‹ˆë‹¤.");
    }
    
    String token = authHeader.substring(7);
    
    // 2. í† í° ìœ íš¨ì„± ê²€ì¦
    if (!jwtUtil.validateToken(token)) {
        throw new UnauthorizedException("ìœ íš¨í•˜ì§€ ì•Šì€ í† í°ì…ë‹ˆë‹¤.");
    }
    
    // 3. ë¸”ë™ë¦¬ìŠ¤íŠ¸ í™•ì¸ (ë¡œê·¸ì•„ì›ƒëœ í† í°ì¸ì§€)
    if (tokenBlacklistService.isBlacklisted(token)) {
        throw new UnauthorizedException("ë¡œê·¸ì•„ì›ƒëœ í† í°ì…ë‹ˆë‹¤.");
    }
    
    // 4. í† í°ì—ì„œ ì‚¬ìš©ì ì •ë³´ ì¶”ì¶œí•˜ì—¬ requestì— ì €ì¥
    String userCode = jwtUtil.getUserCodeFromToken(token);
    request.setAttribute("userCode", userCode);
    
    return true;  // ë‹¤ìŒ ë‹¨ê³„(Controller)ë¡œ ì§„í–‰
}
```

#### Step 2: Controllerì—ì„œ ìš”ì²­ ìˆ˜ì‹ 
```java
@PostMapping
public ResponseEntity<ApiResponse<ReservationDto>> createReservation(
        @Valid @RequestBody ReservationCreateRequestDto request,  // JSON â†’ DTO ë³€í™˜
        HttpServletRequest httpRequest) {
    
    // Interceptorì—ì„œ ì €ì¥í•œ ì‚¬ìš©ì ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    String userCode = (String) httpRequest.getAttribute("userCode");
    
    // Service í˜¸ì¶œ
    ReservationDto reservation = reservationService.createReservation(userCode, request);
    
    // ì‘ë‹µ ìƒì„±
    String message = reservation.getStatus().equals("APPROVED")
        ? "ì˜ˆì•½ì´ ìë™ìœ¼ë¡œ ìŠ¹ì¸ë˜ì—ˆìŠµë‹ˆë‹¤."
        : "ì˜ˆì•½ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.";
        
    return ResponseEntity.ok(ApiResponse.success(message, reservation));
}
```

#### Step 3: Serviceì—ì„œ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì²˜ë¦¬
```java
@Transactional
public ReservationDto createReservation(String userCode, ReservationCreateRequestDto request) {
    // 1ë‹¨ê³„: ì‚¬ìš©ì ì¡°íšŒ
    User user = userRepository.findByUserCode(userCode)
        .orElseThrow(() -> new NotFoundException("ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
    
    // 2ë‹¨ê³„: ì‹œì„¤ ì¡°íšŒ
    Facility facility = facilityRepository.findById(request.getFacilityId())
        .orElseThrow(() -> new NotFoundException("ì‹œì„¤ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."));
    
    // 3ë‹¨ê³„: ì‹œì„¤ ì´ìš© ê°€ëŠ¥ ì—¬ë¶€ í™•ì¸
    if (!facility.isAvailable()) {
        throw new BusinessException("í•´ë‹¹ ì‹œì„¤ì€ í˜„ì¬ ì´ìš©í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    
    // 4ë‹¨ê³„: ì‹œê°„ ìœ íš¨ì„± ê²€ì¦
    if (request.getStartTime().isAfter(request.getEndTime())) {
        throw new ValidationException("ì‹œì‘ ì‹œê°„ì´ ì¢…ë£Œ ì‹œê°„ë³´ë‹¤ ëŠ¦ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
    }
    
    // 5ë‹¨ê³„: ì‹œê°„ ì¤‘ë³µ í™•ì¸
    boolean hasOverlap = reservationRepository.existsByTimeOverlap(
        facility.getId(),
        request.getStartTime(),
        request.getEndTime()
    );
    
    if (hasOverlap) {
        throw new BusinessException("í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤.");
    }
    
    // 6ë‹¨ê³„: ì˜ˆì•½ ìƒì„±
    Reservation reservation = Reservation.builder()
        .user(user)
        .facility(facility)
        .startTime(request.getStartTime())
        .endTime(request.getEndTime())
        .purpose(request.getPurpose())
        .status(facility.isAutoApprove() ? ReservationStatus.APPROVED : ReservationStatus.PENDING)
        .build();
    
    // 7ë‹¨ê³„: ë°ì´í„°ë² ì´ìŠ¤ ì €ì¥
    Reservation saved = reservationRepository.save(reservation);
    
    // 8ë‹¨ê³„: DTO ë³€í™˜ í›„ ë°˜í™˜
    return ReservationDto.from(saved);
}
```

#### Step 4: Repositoryì—ì„œ DB ì¿¼ë¦¬ ì‹¤í–‰
```java
// 1. ì‚¬ìš©ì ì¡°íšŒ ì¿¼ë¦¬
// SQL: SELECT * FROM user_tbl WHERE user_code = ?
Optional<User> user = userRepository.findByUserCode(userCode);

// 2. ì‹œì„¤ ì¡°íšŒ ì¿¼ë¦¬
// SQL: SELECT * FROM facilities WHERE id = ?
Optional<Facility> facility = facilityRepository.findById(facilityId);

// 3. ì‹œê°„ ì¤‘ë³µ í™•ì¸ ì¿¼ë¦¬
// SQL: ë³µì¡í•œ ì‹œê°„ ê²¹ì¹¨ í™•ì¸ ì¿¼ë¦¬
boolean hasOverlap = reservationRepository.existsByTimeOverlap(...);

// 4. ì˜ˆì•½ ì €ì¥ ì¿¼ë¦¬
// SQL: INSERT INTO reservations (user_code, facility_id, start_time, ...) VALUES (?, ?, ?, ...)
Reservation saved = reservationRepository.save(reservation);
```

#### Step 5: ì‘ë‹µ ìƒì„± ë° ë°˜í™˜
```java
// ApiResponse ë˜í¼ í´ë˜ìŠ¤ë¡œ ì‘ë‹µ ìƒì„±
public class ApiResponse<T> {
    private boolean success;
    private String message;
    private T data;
    private LocalDateTime timestamp;
    
    public static <T> ApiResponse<T> success(String message, T data) {
        return ApiResponse.<T>builder()
            .success(true)
            .message(message)
            .data(data)
            .timestamp(LocalDateTime.now())
            .build();
    }
}
```

**í”„ë¡ íŠ¸ì—”ë“œê°€ ë°›ëŠ” ìµœì¢… ì‘ë‹µ**:
```json
{
  "success": true,
  "message": "ì˜ˆì•½ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤. ê´€ë¦¬ì ìŠ¹ì¸ ëŒ€ê¸° ì¤‘ì…ë‹ˆë‹¤.",
  "data": {
    "id": 123,
    "userCode": "20240001",
    "userName": "í™ê¸¸ë™",
    "facilityName": "ì„¸ë¯¸ë‚˜ì‹¤ A",
    "startTime": "2025-10-15T14:00:00",
    "endTime": "2025-10-15T16:00:00",
    "status": "PENDING",
    "createdAt": "2025-10-10T10:30:00"
  },
  "timestamp": "2025-10-10T10:30:00"
}
```

---

### 4.2 ì—ëŸ¬ ë°œìƒ ì‹œ ì²˜ë¦¬ ê³¼ì •

**ì‹œë‚˜ë¦¬ì˜¤**: ì´ë¯¸ ì˜ˆì•½ëœ ì‹œê°„ëŒ€ì— ì˜ˆì•½ ì‹œë„

#### Backend ì—ëŸ¬ ë°œìƒ
```java
// Serviceì—ì„œ ì˜ˆì™¸ ë°œìƒ
if (hasOverlap) {
    throw new BusinessException("í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤.");
}
```

#### GlobalExceptionHandlerì—ì„œ ì—ëŸ¬ ì²˜ë¦¬
```java
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(BusinessException.class)
    public ResponseEntity<ApiResponse<Void>> handleBusinessException(BusinessException e) {
        return ResponseEntity
            .status(HttpStatus.CONFLICT)  // 409 ìƒíƒœ ì½”ë“œ
            .body(ApiResponse.error(e.getMessage()));
    }
}
```

#### Frontendì—ì„œ ë°›ëŠ” ì—ëŸ¬ ì‘ë‹µ
```json
{
  "success": false,
  "message": "í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤.",
  "data": null,
  "timestamp": "2025-10-10T10:30:00"
}
```

#### Frontend ì—ëŸ¬ ì²˜ë¦¬
```javascript
try {
  const result = await createReservation(facilityId, startTime, endTime, purpose);
  
  if (result.success) {
    alert(result.message);
    // ì˜ˆì•½ ëª©ë¡ ê°±ì‹ 
  } else {
    alert(`ì—ëŸ¬: ${result.message}`);
  }
} catch (error) {
  if (error.response?.status === 409) {
    alert('í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤.');
  } else if (error.response?.status === 401) {
    alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
    // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
  } else {
    alert('ì˜ˆì•½ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
  }
}
```

---

## 5. ì¸ì¦ ë©”ì»¤ë‹ˆì¦˜

### 5.1 JWT í† í° ê¸°ë°˜ ì¸ì¦ íë¦„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Frontend   â”‚                  â”‚   Backend    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜                  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚                                  â”‚
       â”‚  1. POST /api/auth/login        â”‚
       â”‚  { email, password }             â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                                  â”‚
       â”‚                                  â”‚  2. ì‚¬ìš©ì í™•ì¸
       â”‚                                  â”‚     - DBì—ì„œ ì¡°íšŒ
       â”‚                                  â”‚     - ë¹„ë°€ë²ˆí˜¸ ê²€ì¦
       â”‚                                  â”‚
       â”‚  3. ì‘ë‹µ: JWT í† í°               â”‚
       â”‚  {                               â”‚
       â”‚    accessToken: "eyJ...",        â”‚
       â”‚    refreshToken: "eyJ...",       â”‚
       â”‚    expiresIn: 900  (15ë¶„)       â”‚
       â”‚  }                               â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                                  â”‚
       â”‚  4. í† í° ì €ì¥                    â”‚
       â”‚  localStorage.setItem(...)       â”‚
       â”‚                                  â”‚
       â”‚                                  â”‚
       â”‚  5. ì´í›„ ëª¨ë“  API ìš”ì²­            â”‚
       â”‚  Authorization: Bearer eyJ...    â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€>â”‚
       â”‚                                  â”‚
       â”‚                                  â”‚  6. Interceptor
       â”‚                                  â”‚     - í† í° ê²€ì¦
       â”‚                                  â”‚     - ë§Œë£Œ í™•ì¸
       â”‚                                  â”‚     - ë¸”ë™ë¦¬ìŠ¤íŠ¸ í™•ì¸
       â”‚                                  â”‚
       â”‚  7. API ì‘ë‹µ                     â”‚
       â”‚<â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
       â”‚                                  â”‚
```

### 5.2 JWT í† í° êµ¬ì¡°

```
eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VyQ29kZSI6IjIwMjQwMDAxIiwiaWF0IjoxNzI4NTQwMDAwLCJleHAiOjE3Mjg1NDA5MDB9.SflKxwRJSMeKKF2QT4fwpMeJf36POk6yJV_adQssw5c
â”‚                                    â”‚                                                                                                          â”‚
â”‚         Header (í—¤ë”)              â”‚                              Payload (ë‚´ìš©)                                                              â”‚  Signature (ì„œëª…)
â”‚                                    â”‚                                                                                                          â”‚
â””â”€ ì•Œê³ ë¦¬ì¦˜ ì •ë³´                      â””â”€ ì‚¬ìš©ì ì •ë³´ + ë§Œë£Œì‹œê°„                                                                                   â””â”€ ìœ„ì¡° ë°©ì§€ ì„œëª…
   { "alg": "HS256" }                  { "userCode": "20240001",
                                         "iat": 1728540000,
                                         "exp": 1728540900 }
```

### 5.3 ì¸ì¦ì´ í•„ìš”í•œ API vs ë¶ˆí•„ìš”í•œ API

| API | ì¸ì¦ í•„ìš” | ì´ìœ  |
|-----|----------|------|
| `POST /api/auth/login` | âŒ | ë¡œê·¸ì¸ ìì²´ê°€ í† í° ë°œê¸‰ ê³¼ì • |
| `POST /api/boards/list` | âŒ | ê³µê°œ ê²Œì‹œê¸€ ì¡°íšŒ |
| `POST /api/boards/detail` | âŒ | ê³µê°œ ê²Œì‹œê¸€ ìƒì„¸ ì¡°íšŒ |
| `POST /api/boards/create` | âœ… | ê¸€ ì‘ì„±ì€ ì¸ì¦ í•„ìš” |
| `POST /api/reservations` | âœ… | ì˜ˆì•½ì€ ì‚¬ìš©ì ì •ë³´ í•„ìš” |
| `POST /api/reservations/my` | âœ… | ë‚´ ì˜ˆì•½ ëª©ë¡ ì¡°íšŒ |
| `POST /api/profile/image` | âœ… | í”„ë¡œí•„ ìˆ˜ì • |

### 5.4 ê´€ë¦¬ì ì¸ì¦ (2ë‹¨ê³„ ì¸ì¦)

```
ê´€ë¦¬ì ë¡œê·¸ì¸ íë¦„
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 1: ì•„ì´ë””/ë¹„ë°€ë²ˆí˜¸ ì…ë ¥                           â”‚
â”‚  POST /api/admin/login                                 â”‚
â”‚  â†’ Redisì— ì„ì‹œ ì„¸ì…˜ ìƒì„± (5ë¶„ ìœ íš¨)                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 2: ì´ë©”ì¼ë¡œ ì¸ì¦ ì½”ë“œ ë°œì†¡                        â”‚
â”‚  POST /api/admin/email/send-code                       â”‚
â”‚  â†’ 6ìë¦¬ ì½”ë“œ ìƒì„± ë° ì´ë©”ì¼ ë°œì†¡                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Step 3: ì¸ì¦ ì½”ë“œ í™•ì¸                                 â”‚
â”‚  POST /api/admin/email/verify-code                     â”‚
â”‚  â†’ JWT í† í° ë°œê¸‰                                        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## 6. ì—ëŸ¬ ì²˜ë¦¬ ë° ì‘ë‹µ êµ¬ì¡°

### 6.1 í†µì¼ëœ ì‘ë‹µ êµ¬ì¡° (ApiResponse)

**ì„±ê³µ ì‘ë‹µ**:
```json
{
  "success": true,
  "message": "ìš”ì²­ì´ ì„±ê³µì ìœ¼ë¡œ ì²˜ë¦¬ë˜ì—ˆìŠµë‹ˆë‹¤.",
  "data": {
    // ì‹¤ì œ ë°ì´í„°
  },
  "timestamp": "2025-10-10T10:30:00"
}
```

**ì‹¤íŒ¨ ì‘ë‹µ**:
```json
{
  "success": false,
  "message": "ì—ëŸ¬ ë©”ì‹œì§€",
  "data": null,
  "timestamp": "2025-10-10T10:30:00"
}
```

### 6.2 HTTP ìƒíƒœ ì½”ë“œ ê°€ì´ë“œ

| ìƒíƒœ ì½”ë“œ | ì˜ë¯¸ | í”„ë¡ íŠ¸ì—”ë“œ ì²˜ë¦¬ |
|----------|------|----------------|
| **200 OK** | ìš”ì²­ ì„±ê³µ | ì •ìƒ ì²˜ë¦¬ |
| **201 Created** | ë¦¬ì†ŒìŠ¤ ìƒì„± ì„±ê³µ | ìƒì„± ì™„ë£Œ ë©”ì‹œì§€ |
| **400 Bad Request** | ì˜ëª»ëœ ìš”ì²­ (ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨) | ì…ë ¥ê°’ í™•ì¸ ìš”ì²­ |
| **401 Unauthorized** | ì¸ì¦ ì‹¤íŒ¨ (í† í° ì—†ìŒ/ë§Œë£Œ) | ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™ |
| **403 Forbidden** | ê¶Œí•œ ì—†ìŒ | ì ‘ê·¼ ë¶ˆê°€ ë©”ì‹œì§€ |
| **404 Not Found** | ë¦¬ì†ŒìŠ¤ ì—†ìŒ | ì¡´ì¬í•˜ì§€ ì•ŠìŒ ë©”ì‹œì§€ |
| **409 Conflict** | ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜ (ì¤‘ë³µ ë“±) | ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ |
| **500 Internal Server Error** | ì„œë²„ ë‚´ë¶€ ì˜¤ë¥˜ | "ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„" ë©”ì‹œì§€ |

### 6.3 ì—ëŸ¬ ì¢…ë¥˜ë³„ ì²˜ë¦¬

#### ìœ íš¨ì„± ê²€ì¦ ì—ëŸ¬ (400)
```java
// Backend
public class ReservationCreateRequestDto {
    @NotNull(message = "ì‹œì„¤ IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.")
    private Long facilityId;
    
    @Future(message = "ì‹œì‘ ì‹œê°„ì€ ë¯¸ë˜ì—¬ì•¼ í•©ë‹ˆë‹¤.")
    private LocalDateTime startTime;
}
```

**ì‘ë‹µ**:
```json
{
  "success": false,
  "message": "ì‹œì‘ ì‹œê°„ì€ ë¯¸ë˜ì—¬ì•¼ í•©ë‹ˆë‹¤.",
  "data": null,
  "timestamp": "2025-10-10T10:30:00"
}
```

#### ì¸ì¦ ì—ëŸ¬ (401)
```javascript
// Frontend
if (error.response?.status === 401) {
  // í† í° ì‚­ì œ
  localStorage.removeItem('accessToken');
  localStorage.removeItem('refreshToken');
  
  // ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
  navigate('/login');
  
  alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
}
```

#### ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—ëŸ¬ (409)
```javascript
// Frontend
if (error.response?.status === 409) {
  // ì‚¬ìš©ìì—ê²Œ ëª…í™•í•œ ë©”ì‹œì§€ í‘œì‹œ
  alert(error.response.data.message);
  // ì˜ˆ: "í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤."
}
```

---

## 7. í”„ë¡ íŠ¸ì—”ë“œ ì—°ë™ ì²´í¬ë¦¬ìŠ¤íŠ¸

### 7.1 API í˜¸ì¶œ ì „ ì¤€ë¹„ì‚¬í•­

- [ ] **Base URL í™•ì¸**: `https://bluecrab.chickenkiller.com/BlueCrab-1.0.0`
- [ ] **Content-Type í—¤ë”**: `application/json`
- [ ] **ì¸ì¦ì´ í•„ìš”í•œ APIì¸ì§€ í™•ì¸**
- [ ] **JWT í† í° ì €ì¥ ìœ„ì¹˜ ê²°ì •** (localStorage vs sessionStorage)

### 7.2 ìš”ì²­ ì‹œ ì²´í¬ì‚¬í•­

- [ ] **HTTP ë©”ì„œë“œ í™•ì¸** (GET, POST, PUT, DELETE)
- [ ] **Authorization í—¤ë” í¬í•¨** (ì¸ì¦ í•„ìš” ì‹œ)
  ```javascript
  headers: {
    'Authorization': `Bearer ${token}`
  }
  ```
- [ ] **ìš”ì²­ ë°”ë”” í˜•ì‹ í™•ì¸** (JSON.stringify í•„ìš”)
- [ ] **í•„ìˆ˜ íŒŒë¼ë¯¸í„° ëˆ„ë½ ì—†ëŠ”ì§€ í™•ì¸**

### 7.3 ì‘ë‹µ ì²˜ë¦¬ ì²´í¬ì‚¬í•­

- [ ] **success í•„ë“œ í™•ì¸**
  ```javascript
  if (response.data.success) {
    // ì„±ê³µ ì²˜ë¦¬
  } else {
    // ì‹¤íŒ¨ ì²˜ë¦¬
  }
  ```
- [ ] **HTTP ìƒíƒœ ì½”ë“œì— ë”°ë¥¸ ë¶„ê¸° ì²˜ë¦¬**
- [ ] **ì—ëŸ¬ ë©”ì‹œì§€ ì‚¬ìš©ìì—ê²Œ í‘œì‹œ**
- [ ] **í† í° ë§Œë£Œ ì‹œ ë¦¬í”„ë ˆì‹œ í† í°ìœ¼ë¡œ ê°±ì‹ **

### 7.4 ì˜ˆì™¸ ìƒí™© ì²˜ë¦¬

- [ ] **ë„¤íŠ¸ì›Œí¬ ì—ëŸ¬ ì²˜ë¦¬** (ì¸í„°ë„· ì—°ê²° ëŠê¹€)
- [ ] **íƒ€ì„ì•„ì›ƒ ì²˜ë¦¬** (ì‘ë‹µì´ ë„ˆë¬´ ëŠ¦ì„ ë•Œ)
- [ ] **401 ì—ëŸ¬ ì‹œ ë¡œê·¸ì•„ì›ƒ ì²˜ë¦¬**
- [ ] **500 ì—ëŸ¬ ì‹œ ì¬ì‹œë„ ë¡œì§**

---

## 8. ì‹¤ì „ ì—°ë™ ì˜ˆì œ

### 8.1 ì¸ì¦ì´ í•„ìš” ì—†ëŠ” API (ê²Œì‹œê¸€ ëª©ë¡ ì¡°íšŒ)

**Frontend ì½”ë“œ**:
```javascript
// noticeAPI.jsx
export const fetchNoticeList = async (page = 0, size = 10) => {
  try {
    const response = await fetch(
      'https://bluecrab.chickenkiller.com/BlueCrab-1.0.0/api/boards/bycode',
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json'
          // Authorization í—¤ë” ë¶ˆí•„ìš”
        },
        body: JSON.stringify({
          boardCode: 0,  // í•™êµê³µì§€
          page: page,
          size: size
        })
      }
    );
    
    const data = await response.json();
    
    if (data.success) {
      return {
        success: true,
        notices: data.data.content,
        totalPages: data.data.totalPages
      };
    } else {
      throw new Error(data.message);
    }
  } catch (error) {
    console.error('ê²Œì‹œê¸€ ì¡°íšŒ ì‹¤íŒ¨:', error);
    return {
      success: false,
      message: error.message
    };
  }
};
```

### 8.2 ì¸ì¦ì´ í•„ìš”í•œ API (ì˜ˆì•½ ìƒì„±)

**Frontend ì½”ë“œ**:
```javascript
// reservationAPI.jsx
import { getAccessToken } from '../auth/AuthFunc';

export const createReservation = async (reservationData) => {
  try {
    const token = getAccessToken();
    
    if (!token) {
      throw new Error('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
    }
    
    const response = await fetch(
      'https://bluecrab.chickenkiller.com/BlueCrab-1.0.0/api/reservations',
      {
        method: 'POST',
        headers: {
          'Content-Type': 'application/json',
          'Authorization': `Bearer ${token}`  // JWT í† í° í¬í•¨ í•„ìˆ˜
        },
        body: JSON.stringify(reservationData)
      }
    );
    
    const data = await response.json();
    
    // HTTP ìƒíƒœ ì½”ë“œë³„ ì²˜ë¦¬
    if (response.status === 401) {
      // í† í° ë§Œë£Œ ë˜ëŠ” ì¸ì¦ ì‹¤íŒ¨
      localStorage.removeItem('accessToken');
      window.location.href = '/login';
      throw new Error('ë¡œê·¸ì¸ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
    }
    
    if (response.status === 409) {
      // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì—ëŸ¬ (ì‹œê°„ ì¤‘ë³µ ë“±)
      throw new Error(data.message);
    }
    
    if (!response.ok) {
      throw new Error(data.message || 'ì˜ˆì•½ ìƒì„±ì— ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.');
    }
    
    return {
      success: true,
      reservation: data.data,
      message: data.message
    };
    
  } catch (error) {
    console.error('ì˜ˆì•½ ìƒì„± ì‹¤íŒ¨:', error);
    return {
      success: false,
      message: error.message
    };
  }
};
```

### 8.3 íŒŒì¼ ì—…ë¡œë“œ API

**Frontend ì½”ë“œ**:
```javascript
// profileAPI.jsx
export const uploadProfileImage = async (imageFile) => {
  try {
    const token = getAccessToken();
    
    // FormData ì‚¬ìš© (JSONì´ ì•„ë‹˜!)
    const formData = new FormData();
    formData.append('file', imageFile);
    
    const response = await fetch(
      'https://bluecrab.chickenkiller.com/BlueCrab-1.0.0/api/profile/image',
      {
        method: 'POST',
        headers: {
          // Content-Typeì„ ëª…ì‹œí•˜ì§€ ì•ŠìŒ (ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ multipart/form-data ì„¤ì •)
          'Authorization': `Bearer ${token}`
        },
        body: formData  // JSON.stringify í•˜ì§€ ì•ŠìŒ!
      }
    );
    
    const data = await response.json();
    
    if (data.success) {
      return {
        success: true,
        imageUrl: data.data.imageUrl
      };
    } else {
      throw new Error(data.message);
    }
  } catch (error) {
    console.error('ì´ë¯¸ì§€ ì—…ë¡œë“œ ì‹¤íŒ¨:', error);
    return {
      success: false,
      message: error.message
    };
  }
};
```

---

## 9. ë””ë²„ê¹… íŒ

### 9.1 ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸í•˜ëŠ” ë²•

**Backendì—ì„œ ë¡œê·¸ ì¶œë ¥**:
```java
@Service
public class ReservationService {
    
    private static final Logger logger = LoggerFactory.getLogger(ReservationService.class);
    
    public ReservationDto createReservation(String userCode, ReservationCreateRequestDto request) {
        logger.info("ì˜ˆì•½ ìƒì„± ì‹œì‘ - ì‚¬ìš©ì: {}, ì‹œì„¤: {}", userCode, request.getFacilityId());
        
        try {
            // ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§...
            
            logger.info("ì˜ˆì•½ ìƒì„± ì™„ë£Œ - ì˜ˆì•½ ID: {}", reservation.getId());
            return dto;
        } catch (Exception e) {
            logger.error("ì˜ˆì•½ ìƒì„± ì‹¤íŒ¨ - ì‚¬ìš©ì: {}, ì—ëŸ¬: {}", userCode, e.getMessage(), e);
            throw e;
        }
    }
}
```

**ë¡œê·¸ í™•ì¸ ìœ„ì¹˜**: `backend/BlueCrab/logs/application.log`

### 9.2 API í…ŒìŠ¤íŠ¸ ë„êµ¬ ì‚¬ìš©

**Postman/Insomniaë¡œ í…ŒìŠ¤íŠ¸**:
```
1. URL ì…ë ¥: https://bluecrab.chickenkiller.com/BlueCrab-1.0.0/api/reservations
2. Method: POST
3. Headers:
   - Content-Type: application/json
   - Authorization: Bearer eyJhbGc...
4. Body (JSON):
   {
     "facilityId": 1,
     "startTime": "2025-10-15T14:00:00",
     "endTime": "2025-10-15T16:00:00",
     "purpose": "ì„¸ë¯¸ë‚˜"
   }
5. Send ë²„íŠ¼ í´ë¦­
```

### 9.3 ë¸Œë¼ìš°ì € ê°œë°œì ë„êµ¬ í™œìš©

**Network íƒ­ì—ì„œ í™•ì¸**:
- Request Headers: Authorization í† í°ì´ ì œëŒ€ë¡œ ë“¤ì–´ê°”ëŠ”ì§€
- Request Payload: ìš”ì²­ ë°”ë””ê°€ ì˜¬ë°”ë¥¸ JSONì¸ì§€
- Response: ì‘ë‹µ ìƒíƒœ ì½”ë“œì™€ ë°ì´í„° í™•ì¸
- Timing: ì‘ë‹µ ì‹œê°„ í™•ì¸ (ë„ˆë¬´ ëŠë¦¬ë©´ ìµœì í™” í•„ìš”)

**Console íƒ­ì—ì„œ í™•ì¸**:
```javascript
// API ì‘ë‹µ ì „ì²´ ë¡œê¹…
console.log('API Response:', response);
console.log('Status Code:', response.status);
console.log('Response Data:', await response.json());
```

---

## 10. ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ (FAQ)

### Q1: API í˜¸ì¶œ ì‹œ CORS ì—ëŸ¬ê°€ ë‚˜ìš”
**A**: ë°±ì—”ë“œì—ì„œ CORS ì„¤ì •ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤. í˜„ì¬ í”„ë¡œì íŠ¸ëŠ” ì´ë¯¸ ì„¤ì •ë˜ì–´ ìˆìŠµë‹ˆë‹¤:
```java
@Configuration
public class WebConfig implements WebMvcConfigurer {
    @Override
    public void addCorsMappings(CorsRegistry registry) {
        registry.addMapping("/**")
            .allowedOrigins("http://localhost:5173", "https://your-frontend-domain.com")
            .allowedMethods("GET", "POST", "PUT", "DELETE", "OPTIONS")
            .allowedHeaders("*")
            .allowCredentials(true);
    }
}
```

### Q2: í† í°ì´ ë§Œë£Œë˜ë©´ ì–´ë–»ê²Œ í•˜ë‚˜ìš”?
**A**: Refresh Tokenìœ¼ë¡œ ìƒˆ Access Tokenì„ ë°œê¸‰ë°›ìŠµë‹ˆë‹¤:
```javascript
const refreshAccessToken = async () => {
  const refreshToken = localStorage.getItem('refreshToken');
  
  const response = await fetch('/api/auth/refresh', {
    method: 'POST',
    headers: { 'Content-Type': 'application/json' },
    body: JSON.stringify({ refreshToken })
  });
  
  const data = await response.json();
  
  if (data.success) {
    localStorage.setItem('accessToken', data.data.accessToken);
    return data.data.accessToken;
  } else {
    // Refresh Tokenë„ ë§Œë£Œë¨ â†’ ì¬ë¡œê·¸ì¸ í•„ìš”
    localStorage.clear();
    window.location.href = '/login';
  }
};
```

### Q3: íŒŒì¼ ì—…ë¡œë“œëŠ” ì–´ë–»ê²Œ í•˜ë‚˜ìš”?
**A**: `FormData`ë¥¼ ì‚¬ìš©í•˜ê³  `Content-Type`ì„ ì„¤ì •í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤:
```javascript
const formData = new FormData();
formData.append('file', fileInput.files[0]);

fetch('/api/upload', {
  method: 'POST',
  headers: {
    'Authorization': `Bearer ${token}`
    // Content-Type ì„¤ì • ì•ˆ í•¨!
  },
  body: formData
});
```

### Q4: í˜ì´ì§•ì€ ì–´ë–»ê²Œ ì²˜ë¦¬í•˜ë‚˜ìš”?
**A**: ìš”ì²­ì— `page`ì™€ `size`ë¥¼ í¬í•¨í•˜ê³ , ì‘ë‹µì—ì„œ `totalPages`ë¥¼ í™•ì¸í•©ë‹ˆë‹¤:
```javascript
const [currentPage, setCurrentPage] = useState(0);
const [totalPages, setTotalPages] = useState(0);

const fetchList = async (page) => {
  const response = await fetch('/api/boards/list', {
    method: 'POST',
    body: JSON.stringify({ page, size: 10 })
  });
  
  const data = await response.json();
  setTotalPages(data.data.totalPages);
  return data.data.content;
};
```

### Q5: ì—ëŸ¬ ë©”ì‹œì§€ë¥¼ ì–´ë–»ê²Œ í‘œì‹œí•˜ë‚˜ìš”?
**A**: `ApiResponse`ì˜ `message` í•„ë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤:
```javascript
try {
  const response = await createReservation(data);
  
  if (response.success) {
    alert(response.message);  // "ì˜ˆì•½ì´ ìƒì„±ë˜ì—ˆìŠµë‹ˆë‹¤."
  } else {
    alert(`ì—ëŸ¬: ${response.message}`);
  }
} catch (error) {
  alert('ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
}
```

---

## 11. ìš”ì•½ ë° í•µì‹¬ í¬ì¸íŠ¸

### ğŸ¯ ë°±ì—”ë“œ ë™ì‘ í•µì‹¬ 3ë‹¨ê³„
1. **Controller**: HTTP ìš”ì²­ ë°›ê¸° â†’ DTO ë³€í™˜ â†’ Service í˜¸ì¶œ
2. **Service**: ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì‹¤í–‰ â†’ Repository í˜¸ì¶œ
3. **Repository**: ë°ì´í„°ë² ì´ìŠ¤ ì¿¼ë¦¬ ì‹¤í–‰ â†’ ê²°ê³¼ ë°˜í™˜

### ğŸ” ì¸ì¦ í•µì‹¬
- JWT í† í°ì„ `Authorization: Bearer {token}` í—¤ë”ì— í¬í•¨
- Access Token: 15ë¶„ (ì§§ì€ ìˆ˜ëª…)
- Refresh Token: 7ì¼ (ê¸´ ìˆ˜ëª…)
- 401 ì—ëŸ¬ â†’ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™

### ğŸ“¡ API í˜¸ì¶œ í•µì‹¬
- ëª¨ë“  ì‘ë‹µì€ `ApiResponse<T>` í˜•ì‹ìœ¼ë¡œ í†µì¼
- `success` í•„ë“œë¡œ ì„±ê³µ/ì‹¤íŒ¨ í™•ì¸
- `message` í•„ë“œë¡œ ì‚¬ìš©ì ë©”ì‹œì§€ í‘œì‹œ
- `data` í•„ë“œì— ì‹¤ì œ ë°ì´í„° í¬í•¨

### âš ï¸ ì—ëŸ¬ ì²˜ë¦¬ í•µì‹¬
- 400: ì…ë ¥ê°’ ê²€ì¦ ì‹¤íŒ¨ â†’ ì…ë ¥ê°’ í™•ì¸ ìš”ì²­
- 401: ì¸ì¦ ì‹¤íŒ¨ â†’ ë¡œê·¸ì¸ í˜ì´ì§€ë¡œ ì´ë™
- 409: ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜ â†’ ì—ëŸ¬ ë©”ì‹œì§€ í‘œì‹œ
- 500: ì„œë²„ ì˜¤ë¥˜ â†’ "ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„" ë©”ì‹œì§€

---

## 12. ë‹¤ìŒ ë‹¨ê³„

ì´ ë¬¸ì„œë¥¼ ë°”íƒ•ìœ¼ë¡œ:
1. âœ… **ê° API ì—”ë“œí¬ì¸íŠ¸ ë¬¸ì„œ ì°¸ê³ **: `api-documentation.md`
2. âœ… **ì‹¤ì œ ì½”ë“œ êµ¬í˜„**: ìœ„ ì˜ˆì œ ì½”ë“œ í™œìš©
3. âœ… **Postmanìœ¼ë¡œ API í…ŒìŠ¤íŠ¸**: í”„ë¡ íŠ¸ ê°œë°œ ì „ ë°±ì—”ë“œ ë™ì‘ í™•ì¸
4. âœ… **ì—ëŸ¬ ì²˜ë¦¬ êµ¬í˜„**: ëª¨ë“  ì˜ˆì™¸ ìƒí™© ëŒ€ë¹„
5. âœ… **ë¡œê·¸ í™•ì¸ ìŠµê´€**: ë¬¸ì œ ë°œìƒ ì‹œ ë°±ì—”ë“œ ë¡œê·¸ í™•ì¸

---

**ë¬¸ì„œ ì‘ì„±ì**: GitHub Copilot  
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-10-10  
**ê´€ë ¨ ë¬¸ì„œ**:
- [`í”„ë¡ íŠ¸ì—”ë“œ_ì™„ì „_ì—°ë™_ê°€ì´ë“œ.md`](../í”„ë¡ íŠ¸ì—”ë“œ_ì™„ì „_ì—°ë™_ê°€ì´ë“œ.md)
- [`api-documentation.md`](./api-endpoints/api-documentation.md)
- [`backend-analysis/01-ì „ì²´êµ¬ì¡°-ë¶„ì„.md`](./backend-analysis/01-ì „ì²´êµ¬ì¡°-ë¶„ì„.md)
