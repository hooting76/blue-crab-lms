# ë°±ì—”ë“œ í´ë” êµ¬ì¡° ë¹ ë¥¸ ì°¸ì¡° ê°€ì´ë“œ

> **ëŒ€ìƒ**: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œì  
> **ëª©ì **: ë°±ì—”ë“œ í´ë”ì—ì„œ í•„ìš”í•œ ì •ë³´ë¥¼ ë¹ ë¥´ê²Œ ì°¾ê¸°  
> **ì‘ì„±ì¼**: 2025-10-10

---

## ğŸ¯ ìƒí™©ë³„ ì°¾ì•„ì•¼ í•  í´ë”

| ìƒí™© | ì°¾ì•„ê°ˆ í´ë” | íŒŒì¼ ì˜ˆì‹œ |
|------|-----------|----------|
| **API URL í™•ì¸í•˜ê³  ì‹¶ì„ ë•Œ** | `controller/` | `FacilityReservationController.java` |
| **ë³´ë‚¼ ë°ì´í„° í˜•ì‹ í™•ì¸** | `dto/` | `ReservationCreateRequestDto.java` |
| **ë°›ì„ ë°ì´í„° í˜•ì‹ í™•ì¸** | `dto/` | `ReservationDto.java` |
| **ìƒíƒœ ì½”ë“œ ëª©ë¡ í™•ì¸** | `enums/` | `ReservationStatus.java` |
| **ì—ëŸ¬ ì¢…ë¥˜ í™•ì¸** | `exception/` | `GlobalExceptionHandler.java` |
| **ë°ì´í„°ë² ì´ìŠ¤ êµ¬ì¡° ì´í•´** | `entity/` | `FacilityReservationTbl.java` |
| **ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ ì´í•´** | `service/` | `FacilityReservationService.java` |

---

## ğŸ“ 15ê°œ í´ë” í•œëˆˆì— ë³´ê¸°

```
backend/BlueCrab/src/main/java/BlueCrab/com/example/
â”‚
â”œâ”€â”€ ğŸ“ controller/     â­â­â­ [28ê°œ] URL ë§¤í•‘, HTTP ë©”ì„œë“œ
â”œâ”€â”€ ğŸ“ dto/            â­â­â­ [42ê°œ] JSON ìš”ì²­/ì‘ë‹µ í˜•ì‹
â”œâ”€â”€ ğŸ“ enums/          â­â­  ìƒíƒœ ì½”ë“œ, íƒ€ì… ì •ì˜
â”œâ”€â”€ ğŸ“ entity/         â­â­  [12ê°œ] ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” êµ¬ì¡°
â”œâ”€â”€ ğŸ“ service/        â­   [26ê°œ] ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ êµ¬í˜„
â”œâ”€â”€ ğŸ“ exception/      â­   ì—ëŸ¬ íƒ€ì…, ì—ëŸ¬ ì²˜ë¦¬
â”œâ”€â”€ ğŸ“ repository/         JPA ì¿¼ë¦¬ ì¸í„°í˜ì´ìŠ¤
â”œâ”€â”€ ğŸ“ config/            [12ê°œ] ì‹œìŠ¤í…œ ì„¤ì • (CORS, Security ë“±)
â”œâ”€â”€ ğŸ“ security/          JWT í•„í„°, Spring Security
â”œâ”€â”€ ğŸ“ util/              ìœ í‹¸ë¦¬í‹° (JWT ì²˜ë¦¬ ë“±)
â”œâ”€â”€ ğŸ“ annotation/        ì»¤ìŠ¤í…€ ì–´ë…¸í…Œì´ì…˜ (@RateLimit ë“±)
â”œâ”€â”€ ğŸ“ interceptor/       HTTP ìš”ì²­ ì „ì²˜ë¦¬
â”œâ”€â”€ ğŸ“ scheduler/         ë°°ì¹˜ ì‘ì—… (ì •ê¸° ì‹¤í–‰)
â”œâ”€â”€ ğŸ“ initializer/       ì• í”Œë¦¬ì¼€ì´ì…˜ ì´ˆê¸°í™”
â””â”€â”€ ğŸ“ model/             ê¸°íƒ€ ëª¨ë¸ í´ë˜ìŠ¤
```

**â­ í‘œì‹œ**: í”„ë¡ íŠ¸ì—”ë“œ ê°œë°œìê°€ ìì£¼ ë³¼ í´ë”

---

## ğŸ” í•µì‹¬ í´ë” ìƒì„¸ ì„¤ëª…

### 1. controller/ - API ì—”ë“œí¬ì¸íŠ¸ (28ê°œ)

**ê¸°ëŠ¥ë³„ ë¶„ë¥˜**:

```
ğŸ“Œ ì¸ì¦/ë³´ì•ˆ (5ê°œ)
â”œâ”€â”€ AuthController.java                    # /api/auth (ë¡œê·¸ì¸, ë¡œê·¸ì•„ì›ƒ)
â”œâ”€â”€ AdminController.java                   # /api/admin (ê´€ë¦¬ì ë¡œê·¸ì¸)
â”œâ”€â”€ AdminEmailAuthController.java          # /api/admin/email (2ë‹¨ê³„ ì¸ì¦)
â”œâ”€â”€ PasswordResetController.java           # /api/auth/password-reset
â””â”€â”€ FindIdController.java                  # /api/account (ì•„ì´ë”” ì°¾ê¸°)

ğŸ“ ê²Œì‹œíŒ (7ê°œ)
â”œâ”€â”€ BoardController.java                   # /api/boards (ì¡°íšŒ)
â”œâ”€â”€ BoardCreateController.java             # /api/boards/create
â”œâ”€â”€ BoardUpdateController.java             # /api/boards/update
â”œâ”€â”€ BoardAttachmentUploadController.java   # /api/boards/upload
â”œâ”€â”€ BoardAttachmentDownloadController.java # /api/boards/attachment/download
â”œâ”€â”€ BoardAttachmentDeleteController.java   # /api/boards/attachment/delete
â””â”€â”€ BoardStatisticsController.java         # /api/boards/statistics

ğŸ¢ ì‹œì„¤/ì—´ëŒì‹¤ (4ê°œ)
â”œâ”€â”€ FacilityController.java                # /api/facilities
â”œâ”€â”€ FacilityReservationController.java     # /api/reservations
â”œâ”€â”€ AdminFacilityReservationController.java # /api/admin/reservations
â””â”€â”€ ReadingRoomController.java             # /api/reading-room

ğŸ”” í‘¸ì‹œ ì•Œë¦¼ (2ê°œ)
â”œâ”€â”€ FcmTokenController.java                # /api/fcm
â””â”€â”€ PushNotificationController.java        # /api/push

ğŸ‘¤ ì‚¬ìš©ì/í”„ë¡œí•„ (2ê°œ)
â”œâ”€â”€ UserController.java                    # /api/users
â””â”€â”€ ProfileController.java                 # /api/profile

ğŸ› ï¸ ì‹œìŠ¤í…œ (8ê°œ)
â”œâ”€â”€ ApiController.java                     # /api (ìƒíƒœ ì²´í¬)
â”œâ”€â”€ HomeController.java                    # / (í™ˆí˜ì´ì§€)
â”œâ”€â”€ DatabaseController.java                # /api/database
â”œâ”€â”€ DatabaseTestController.java            # /api/database/test
â”œâ”€â”€ LogMonitorController.java              # /admin/logs
â”œâ”€â”€ MetricsController.java                 # /admin/metrics
â”œâ”€â”€ FirebaseTestController.java            # /api/test/fcm
â””â”€â”€ MailAuthCheckController.java           # /api/mail
```

**Controller íŒŒì¼ ë³´ëŠ” ë²•**:
```java
@RestController
@RequestMapping("/api/reservations")  // â† ê¸°ë³¸ URL
public class FacilityReservationController {
    
    @PostMapping  // â† POST /api/reservations
    public ResponseEntity<ApiResponse<ReservationDto>> createReservation(
        @RequestBody ReservationCreateRequestDto request) {  // â† ìš”ì²­ íƒ€ì…
        // ...
        return ResponseEntity.ok(ApiResponse.success(message, reservation));  // â† ì‘ë‹µ íƒ€ì…
    }
    
    @PostMapping("/my")  // â† POST /api/reservations/my
    public ResponseEntity<ApiResponse<List<ReservationDto>>> getMyReservations() {
        // ...
    }
}
```

---

### 2. dto/ - ë°ì´í„° ì „ì†¡ ê°ì²´ (42ê°œ)

**íŒŒì¼ëª… ê·œì¹™**:
- `*Request.java` / `*RequestDto.java` â†’ í”„ë¡ íŠ¸ì—”ë“œ â†’ ë°±ì—”ë“œ (ìš”ì²­)
- `*Response.java` / `*ResponseDto.java` â†’ ë°±ì—”ë“œ â†’ í”„ë¡ íŠ¸ì—”ë“œ (ì‘ë‹µ)
- `*Dto.java` â†’ ì–‘ë°©í–¥ ë˜ëŠ” ì‘ë‹µìš©

**ì£¼ìš” DTO íŒŒì¼**:

```
ğŸ” ì¸ì¦ ê´€ë ¨
LoginRequest.java              # ë¡œê·¸ì¸ ìš”ì²­ { username, password }
LoginResponse.java             # ë¡œê·¸ì¸ ì‘ë‹µ { accessToken, refreshToken, user }
RefreshTokenRequest.java       # í† í° ê°±ì‹  ìš”ì²­
LogoutRequest.java             # ë¡œê·¸ì•„ì›ƒ ìš”ì²­

ğŸ¢ ì‹œì„¤ ì˜ˆì•½
ReservationCreateRequestDto.java   # ì˜ˆì•½ ìƒì„± ìš”ì²­
ReservationDto.java                # ì˜ˆì•½ ì •ë³´ ì‘ë‹µ
FacilityDto.java                   # ì‹œì„¤ ì •ë³´
FacilityAvailabilityDto.java       # ì‹œì„¤ ê°€ìš©ì„±

ğŸ“š ì—´ëŒì‹¤
SeatReserveRequestDto.java         # ì¢Œì„ ì˜ˆì•½ ìš”ì²­
SeatReserveResponseDto.java        # ì¢Œì„ ì˜ˆì•½ ì‘ë‹µ
ReadingSeatDto.java                # ì¢Œì„ ì •ë³´
ReadingRoomStatusDto.java          # ì—´ëŒì‹¤ í˜„í™©

ğŸ”” í‘¸ì‹œ ì•Œë¦¼
FcmRegisterRequest.java            # FCM í† í° ë“±ë¡ ìš”ì²­
FcmRegisterResponse.java           # FCM í† í° ë“±ë¡ ì‘ë‹µ
FcmSendRequest.java                # í‘¸ì‹œ ì•Œë¦¼ ì „ì†¡ ìš”ì²­
FcmBroadcastRequest.java           # ì „ì²´ í‘¸ì‹œ ì•Œë¦¼ ìš”ì²­

ğŸ“ ê²Œì‹œíŒ
(ê²Œì‹œíŒ DTOëŠ” entityì˜ BoardTblì„ ì§ì ‘ ì‚¬ìš©)

ğŸ”§ ê³µí†µ
ApiResponse.java                   # ëª¨ë“  APIì˜ ê³µí†µ ì‘ë‹µ ë˜í¼
```

**DTO íŒŒì¼ ë³´ëŠ” ë²•**:
```java
// ReservationCreateRequestDto.java (ìš”ì²­ DTO)
public class ReservationCreateRequestDto {
    @NotNull(message = "ì‹œì„¤ IDëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.")  // â† í•„ìˆ˜ í•„ë“œ
    private Integer facilityIdx;
    
    @NotNull
    @Future(message = "ì‹œì‘ ì‹œê°„ì€ ë¯¸ë˜ì—¬ì•¼ í•©ë‹ˆë‹¤.")  // â† ìœ íš¨ì„± ê²€ì¦
    private LocalDateTime startTime;
    
    private String purpose;  // â† ì„ íƒ í•„ë“œ (ì–´ë…¸í…Œì´ì…˜ ì—†ìŒ)
    
    // getter, setter...
}
```

**í”„ë¡ íŠ¸ì—”ë“œì—ì„œ TypeScriptë¡œ ë³€í™˜**:
```typescript
// TypeScript ì¸í„°í˜ì´ìŠ¤
interface ReservationCreateRequest {
  facilityIdx: number;        // Integer â†’ number
  startTime: string;          // LocalDateTime â†’ ISO 8601 string
  endTime: string;
  partySize?: number;         // ì„ íƒ í•„ë“œëŠ” ? í‘œì‹œ
  purpose?: string;
  requestedEquipment?: string;
}

// ì‹¤ì œ ì‚¬ìš©
const requestData: ReservationCreateRequest = {
  facilityIdx: 5,
  startTime: "2025-10-15T14:00:00",
  endTime: "2025-10-15T16:00:00",
  purpose: "í•™ìŠµ ì„¸ë¯¸ë‚˜"
};
```

---

### 3. enums/ - ì—´ê±°í˜• íƒ€ì…

**ì£¼ìš” Enum íŒŒì¼**:

```java
ReservationStatus.java        # ì˜ˆì•½ ìƒíƒœ
  - PENDING      # ëŒ€ê¸°ì¤‘
  - APPROVED     # ìŠ¹ì¸ë¨
  - REJECTED     # ë°˜ë ¤ë¨
  - CANCELLED    # ì·¨ì†Œë¨
  - COMPLETED    # ì™„ë£Œë¨

BoardCode.java               # ê²Œì‹œíŒ ì½”ë“œ
  - 0: í•™êµê³µì§€
  - 1: í•™ì‚¬ê³µì§€
  - 2: í•™ê³¼ê³µì§€
  - 3: êµìˆ˜ê³µì§€

FacilityType.java            # ì‹œì„¤ íƒ€ì…
  - SEMINAR_ROOM   # ì„¸ë¯¸ë‚˜ì‹¤
  - CONFERENCE     # íšŒì˜ì‹¤
  - LAB            # ì‹¤ìŠµì‹¤

SeatStatus.java              # ì¢Œì„ ìƒíƒœ
  - AVAILABLE      # ì´ìš© ê°€ëŠ¥
  - OCCUPIED       # ì‚¬ìš© ì¤‘
  - MAINTENANCE    # ìœ ì§€ë³´ìˆ˜
```

**í”„ë¡ íŠ¸ì—”ë“œ í™œìš©ë²•**:
```javascript
// Reactì—ì„œ ë“œë¡­ë‹¤ìš´ ë§Œë“¤ê¸°
const ReservationStatusFilter = () => {
  const statusOptions = [
    { value: 'PENDING', label: 'ëŒ€ê¸°ì¤‘', color: 'yellow' },
    { value: 'APPROVED', label: 'ìŠ¹ì¸ë¨', color: 'green' },
    { value: 'REJECTED', label: 'ë°˜ë ¤ë¨', color: 'red' },
    { value: 'CANCELLED', label: 'ì·¨ì†Œë¨', color: 'gray' },
    { value: 'COMPLETED', label: 'ì™„ë£Œë¨', color: 'blue' }
  ];
  
  return (
    <Select>
      {statusOptions.map(option => (
        <Option key={option.value} value={option.value}>
          <Badge color={option.color}>{option.label}</Badge>
        </Option>
      ))}
    </Select>
  );
};
```

---

### 4. entity/ - ë°ì´í„°ë² ì´ìŠ¤ í…Œì´ë¸” (12ê°œ)

**ì£¼ìš” Entity íŒŒì¼**:

```
UserTbl.java                  # ì‚¬ìš©ì í…Œì´ë¸”
â”œâ”€â”€ user_idx (PK)
â”œâ”€â”€ user_code
â”œâ”€â”€ user_email
â”œâ”€â”€ user_name
â””â”€â”€ user_password

BoardTbl.java                 # ê²Œì‹œíŒ í…Œì´ë¸”
â”œâ”€â”€ board_idx (PK)
â”œâ”€â”€ board_code
â”œâ”€â”€ board_title
â”œâ”€â”€ board_body
â””â”€â”€ board_writer

BoardAttachmentTbl.java       # ì²¨ë¶€íŒŒì¼ í…Œì´ë¸”
â”œâ”€â”€ file_idx (PK)
â”œâ”€â”€ board_idx (FK)
â””â”€â”€ file_path

FacilityTbl.java             # ì‹œì„¤ í…Œì´ë¸”
â”œâ”€â”€ facility_idx (PK)
â”œâ”€â”€ facility_name
â””â”€â”€ facility_type

FacilityReservationTbl.java  # ì‹œì„¤ ì˜ˆì•½ í…Œì´ë¸”
â”œâ”€â”€ reservation_idx (PK)
â”œâ”€â”€ facility_idx (FK)
â”œâ”€â”€ user_code (FK)
â”œâ”€â”€ start_time
â”œâ”€â”€ end_time
â””â”€â”€ status

ReadingSeat.java             # ì—´ëŒì‹¤ ì¢Œì„ í…Œì´ë¸”
â”œâ”€â”€ seat_id (PK)
â”œâ”€â”€ room_number
â”œâ”€â”€ seat_number
â”œâ”€â”€ user_code (FK)
â””â”€â”€ status

FcmToken.java                # FCM í† í° í…Œì´ë¸”
â”œâ”€â”€ token_id (PK)
â”œâ”€â”€ user_code (FK)
â”œâ”€â”€ fcm_token
â””â”€â”€ device_type

AdminTbl.java                # ê´€ë¦¬ì í…Œì´ë¸”
â”œâ”€â”€ admin_idx (PK)
â”œâ”€â”€ admin_id
â””â”€â”€ admin_password
```

**Entity ê´€ê³„ë„**:
```
UserTbl (ì‚¬ìš©ì)
  â†“ (1:N)
FacilityReservationTbl (ì˜ˆì•½)
  â†“ (N:1)
FacilityTbl (ì‹œì„¤)

UserTbl (ì‚¬ìš©ì)
  â†“ (1:N)
BoardTbl (ê²Œì‹œê¸€)
  â†“ (1:N)
BoardAttachmentTbl (ì²¨ë¶€íŒŒì¼)

UserTbl (ì‚¬ìš©ì)
  â†“ (1:1)
ReadingSeat (ì—´ëŒì‹¤ ì¢Œì„)

UserTbl (ì‚¬ìš©ì)
  â†“ (1:N)
FcmToken (í‘¸ì‹œ í† í°)
```

**í”„ë¡ íŠ¸ì—”ë“œ ê´€ì **:
- EntityëŠ” ì§ì ‘ ë°›ì§€ ì•Šê³  **DTOë¡œ ë³€í™˜ëœ ë°ì´í„°**ë¥¼ ë°›ìŠµë‹ˆë‹¤
- í•˜ì§€ë§Œ ë°ì´í„° êµ¬ì¡°ì™€ ê´€ê³„ë¥¼ ì´í•´í•˜ëŠ” ë° ìœ ìš©í•©ë‹ˆë‹¤
- ì˜ˆ: ì˜ˆì•½ ìƒì„± ì‹œ `facilityIdx`ì™€ `userCode`ê°€ í•„ìš”í•œ ì´ìœ  ì´í•´

---

### 5. exception/ - ì˜ˆì™¸ ì²˜ë¦¬

**ì»¤ìŠ¤í…€ ì˜ˆì™¸ í´ë˜ìŠ¤**:

```java
NotFoundException.java            # 404 - ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
â”œâ”€â”€ "ì‚¬ìš©ìë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
â”œâ”€â”€ "ì‹œì„¤ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."
â””â”€â”€ "ì˜ˆì•½ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤."

UnauthorizedException.java        # 401 - ì¸ì¦ ì‹¤íŒ¨
â”œâ”€â”€ "í† í°ì´ ìœ íš¨í•˜ì§€ ì•ŠìŠµë‹ˆë‹¤."
â”œâ”€â”€ "ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤."
â””â”€â”€ "í† í°ì´ ë§Œë£Œë˜ì—ˆìŠµë‹ˆë‹¤."

ForbiddenException.java           # 403 - ê¶Œí•œ ì—†ìŒ
â”œâ”€â”€ "ê´€ë¦¬ìë§Œ ì ‘ê·¼ ê°€ëŠ¥í•©ë‹ˆë‹¤."
â””â”€â”€ "ë³¸ì¸ì˜ ì˜ˆì•½ë§Œ ì·¨ì†Œí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤."

BusinessException.java            # 409 - ë¹„ì¦ˆë‹ˆìŠ¤ ê·œì¹™ ìœ„ë°˜
â”œâ”€â”€ "í•´ë‹¹ ì‹œê°„ëŒ€ì— ì´ë¯¸ ì˜ˆì•½ì´ ì¡´ì¬í•©ë‹ˆë‹¤."
â”œâ”€â”€ "ì´ë¯¸ ì¢Œì„ì„ ì‚¬ìš© ì¤‘ì…ë‹ˆë‹¤."
â””â”€â”€ "ì‹œì„¤ ì˜ˆì•½ì€ 2ì£¼ ì „ë¶€í„° ê°€ëŠ¥í•©ë‹ˆë‹¤."

ValidationException.java          # 400 - ìœ íš¨ì„± ê²€ì¦ ì‹¤íŒ¨
â”œâ”€â”€ "ì‹œì‘ ì‹œê°„ì€ ì¢…ë£Œ ì‹œê°„ë³´ë‹¤ ë¹¨ë¼ì•¼ í•©ë‹ˆë‹¤."
â””â”€â”€ "í•„ìˆ˜ ì…ë ¥ í•­ëª©ì´ ëˆ„ë½ë˜ì—ˆìŠµë‹ˆë‹¤."

RateLimitException.java           # 429 - API í˜¸ì¶œ ì œí•œ ì´ˆê³¼
â””â”€â”€ "ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”."
```

**GlobalExceptionHandler.java**:
```java
@RestControllerAdvice
public class GlobalExceptionHandler {
    
    @ExceptionHandler(NotFoundException.class)
    public ResponseEntity<ApiResponse<Void>> handleNotFound(NotFoundException e) {
        return ResponseEntity
            .status(HttpStatus.NOT_FOUND)
            .body(ApiResponse.error(e.getMessage()));
    }
    
    @ExceptionHandler(UnauthorizedException.class)
    public ResponseEntity<ApiResponse<Void>> handleUnauthorized(UnauthorizedException e) {
        return ResponseEntity
            .status(HttpStatus.UNAUTHORIZED)
            .body(ApiResponse.error(e.getMessage()));
    }
    
    // ... ê¸°íƒ€ ì˜ˆì™¸ ì²˜ë¦¬
}
```

**í”„ë¡ íŠ¸ì—”ë“œ ì—ëŸ¬ ì²˜ë¦¬**:
```javascript
try {
  const response = await createReservation(data);
  alert(response.message);
} catch (error) {
  // HTTP ìƒíƒœ ì½”ë“œë³„ ì²˜ë¦¬
  switch (error.response?.status) {
    case 400:
      alert('ì…ë ¥ê°’ì„ í™•ì¸í•´ì£¼ì„¸ìš”.');
      break;
    case 401:
      alert('ë¡œê·¸ì¸ì´ í•„ìš”í•©ë‹ˆë‹¤.');
      navigate('/login');
      break;
    case 403:
      alert('ê¶Œí•œì´ ì—†ìŠµë‹ˆë‹¤.');
      break;
    case 404:
      alert('ìš”ì²­í•œ ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.');
      break;
    case 409:
      alert(error.response.data.message);  // ë¹„ì¦ˆë‹ˆìŠ¤ ì—ëŸ¬ëŠ” ë©”ì‹œì§€ í‘œì‹œ
      break;
    case 429:
      alert('ìš”ì²­ì´ ë„ˆë¬´ ë§ìŠµë‹ˆë‹¤. ì ì‹œ í›„ ë‹¤ì‹œ ì‹œë„í•´ì£¼ì„¸ìš”.');
      break;
    case 500:
      alert('ì„œë²„ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
      break;
    default:
      alert('ì•Œ ìˆ˜ ì—†ëŠ” ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.');
  }
}
```

---

## ğŸ“ ì‹¤ì „ ê°€ì´ë“œ: API ì—°ë™ 4ë‹¨ê³„

### Step 1: Controllerì—ì„œ API ì •ë³´ í™•ì¸

```java
// FacilityReservationController.java
@RestController
@RequestMapping("/api/reservations")
public class FacilityReservationController {
    
    @PostMapping  // âœ… í™•ì¸: POST /api/reservations
    public ResponseEntity<ApiResponse<ReservationDto>> createReservation(
            @Valid @RequestBody ReservationCreateRequestDto request,  // âœ… ìš”ì²­ íƒ€ì…
            HttpServletRequest httpRequest) {
        // ...
        return ResponseEntity.ok(ApiResponse.success(message, reservation));  // âœ… ì‘ë‹µ íƒ€ì…
    }
}
```

**í™•ì¸ì‚¬í•­**:
- âœ… URL: `/api/reservations`
- âœ… HTTP ë©”ì„œë“œ: `POST`
- âœ… ìš”ì²­ DTO: `ReservationCreateRequestDto`
- âœ… ì‘ë‹µ DTO: `ApiResponse<ReservationDto>`
- âœ… ì¸ì¦ í•„ìš” ì—¬ë¶€: `HttpServletRequest`ê°€ ìˆìœ¼ë©´ ì¸ì¦ í•„ìš”

---

### Step 2: dto/ í´ë”ì—ì„œ ìš”ì²­ í˜•ì‹ í™•ì¸

```java
// ReservationCreateRequestDto.java
public class ReservationCreateRequestDto {
    @NotNull  // âœ… í•„ìˆ˜ í•„ë“œ
    private Integer facilityIdx;
    
    @NotNull
    @Future
    private LocalDateTime startTime;
    
    @NotNull
    private LocalDateTime endTime;
    
    private Integer partySize;  // âŒ í•„ìˆ˜ ì•„ë‹˜ (ì–´ë…¸í…Œì´ì…˜ ì—†ìŒ)
    private String purpose;
    private String requestedEquipment;
}
```

**í™•ì¸ì‚¬í•­**:
- âœ… í•„ìˆ˜ í•„ë“œ: `@NotNull` ì–´ë…¸í…Œì´ì…˜ í™•ì¸
- âœ… ìœ íš¨ì„± ê²€ì¦: `@Future`, `@Email`, `@Size` ë“± í™•ì¸
- âœ… íƒ€ì…: `Integer` â†’ `number`, `LocalDateTime` â†’ `string`

---

### Step 3: dto/ í´ë”ì—ì„œ ì‘ë‹µ í˜•ì‹ í™•ì¸

```java
// ReservationDto.java
public class ReservationDto {
    private Integer reservationIdx;
    private String facilityName;
    private String userName;
    private LocalDateTime startTime;
    private LocalDateTime endTime;
    private ReservationStatus status;  // âœ… Enum íƒ€ì…
    private LocalDateTime createdAt;
}
```

---

### Step 4: í”„ë¡ íŠ¸ì—”ë“œ ì½”ë“œ ì‘ì„±

```javascript
// reservationAPI.js
export const createReservation = async (reservationData) => {
  const token = localStorage.getItem('accessToken');
  
  const response = await fetch(
    'https://bluecrab.chickenkiller.com/BlueCrab-1.0.0/api/reservations',
    {
      method: 'POST',  // Step 1ì—ì„œ í™•ì¸
      headers: {
        'Content-Type': 'application/json',
        'Authorization': `Bearer ${token}`  // ì¸ì¦ í•„ìš”
      },
      body: JSON.stringify({
        // Step 2ì—ì„œ í™•ì¸í•œ í•„ë“œë“¤
        facilityIdx: reservationData.facilityId,
        startTime: reservationData.startTime,  // ISO 8601 í˜•ì‹
        endTime: reservationData.endTime,
        partySize: reservationData.partySize,
        purpose: reservationData.purpose,
        requestedEquipment: reservationData.equipment
      })
    }
  );
  
  const data = await response.json();
  
  // ApiResponse<ReservationDto> í˜•ì‹
  if (data.success) {
    return data.data;  // Step 3ì—ì„œ í™•ì¸í•œ ReservationDto
  } else {
    throw new Error(data.message);
  }
};

// React ì»´í¬ë„ŒíŠ¸ì—ì„œ ì‚¬ìš©
const handleSubmit = async (formData) => {
  try {
    const reservation = await createReservation(formData);
    
    alert(`ì˜ˆì•½ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.\nì˜ˆì•½ ë²ˆí˜¸: ${reservation.reservationIdx}`);
    navigate('/reservations/my');
    
  } catch (error) {
    alert(`ì˜ˆì•½ ì‹¤íŒ¨: ${error.message}`);
  }
};
```

---

## ğŸ“š ì¶”ê°€ ì°¸ê³  ìë£Œ

### ê° í´ë”ì˜ ìƒì„¸ ë¬¸ì„œ
- [`í”„ë¡ íŠ¸ì—”ë“œë¥¼_ìœ„í•œ_ë°±ì—”ë“œ_ë™ì‘ë°©ì‹_ì„¤ëª…ê³„íš.md`](./í”„ë¡ íŠ¸ì—”ë“œë¥¼_ìœ„í•œ_ë°±ì—”ë“œ_ë™ì‘ë°©ì‹_ì„¤ëª…ê³„íš.md) - ì „ì²´ ë™ì‘ ì›ë¦¬
- [`ë°±ì—”ë“œ_ìµœì‹ í™”_í™•ì¸_ë°_ì—…ë°ì´íŠ¸_í•„ìš”ì‚¬í•­.md`](./ë°±ì—”ë“œ_ìµœì‹ í™”_í™•ì¸_ë°_ì—…ë°ì´íŠ¸_í•„ìš”ì‚¬í•­.md) - ìµœì‹  ë³€ê²½ì‚¬í•­
- [`api-documentation.md`](./api-endpoints/api-documentation.md) - API ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

### í´ë”ë³„ íŒŒì¼ ê°œìˆ˜
```
controller/     28ê°œ
service/        26ê°œ
dto/            42ê°œ
entity/         12ê°œ
config/         12ê°œ
enums/          ë‹¤ìˆ˜
exception/      ë‹¤ìˆ˜
repository/     ë‹¤ìˆ˜
util/           ë‹¤ìˆ˜
```

---

**ì‘ì„±ì**: GitHub Copilot  
**ìµœì¢… ìˆ˜ì •ì¼**: 2025-10-10  
**ë²„ì „**: 1.0
