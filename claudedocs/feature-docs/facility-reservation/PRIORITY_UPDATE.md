# 시설물 예약 백엔드 API 우선순위 업데이트

**업데이트일:** 2025-10-10  
**변경 사유:** 우선순위 재조정 - 핵심 기능 집중

---

## 📊 우선순위 변경 사항

### ✅ 구현 완료 (Phase 1)

#### 1. 관리자 전체 예약 목록 API
- **상태:** ✅ 구현 완료
- **엔드포인트:** `POST /api/admin/reservations/all`
- **기능:** 전체 예약 조회 + 필터링 (status, facilityIdx, dateRange)

---

## ❌ 우선순위에서 제외

### 제외 항목

#### 1. 시설 관리 API (4개)
- ❌ 시설 생성
- ❌ 시설 수정
- ❌ 시설 활성화/비활성화
- ❌ 시설 차단 설정

**제외 사유:**
- 시설 데이터는 초기 설정 후 거의 변경되지 않음
- DB에서 직접 관리 가능
- 개발 우선순위 낮음

#### 2. 예약 수정 API
- ❌ `PUT /api/reservations/{id}`

**제외 사유:**
- 예약 취소 후 재신청으로 대체 가능
- 비즈니스 로직 복잡도 증가
- 사용 빈도 낮음

---

## 🎯 새로운 우선순위 목록

### Phase 2: Medium Priority (선택적 구현)

#### 1. 시설 정책 조회/수정 API
**우선순위:** 🟡 Medium

```http
GET /api/admin/facilities/{id}/policy
PUT /api/admin/facilities/{id}/policy
```

**필요성:**
- 시설별 예약 정책 동적 관리
- 승인 필수 여부, 최대 예약 시간 등 설정

**예상 시간:** 3시간

---

#### 2. 예약 이력(로그) 조회 API
**우선순위:** 🟡 Medium

```http
GET /api/admin/reservations/{id}/logs
```

**필요성:**
- 예약 상태 변경 이력 추적
- 감사 로그 확인
- 문제 발생 시 원인 파악

**예상 시간:** 2시간

---

## 📊 최종 API 현황

### 현재 구현 상태

| 카테고리 | 구현 완료 | 제외됨 | 선택적 | 총계 |
|---------|----------|--------|--------|------|
| 유저 - 시설 조회 | 5개 | - | - | 5개 |
| 유저 - 예약 관리 | 5개 | 1개 | - | 6개 |
| 관리자 - 예약 관리 | 6개 | - | - | 6개 |
| 관리자 - 시설 관리 | - | 4개 | - | 4개 |
| 관리자 - 정책 관리 | - | - | 2개 | 2개 |
| 관리자 - 로그 조회 | - | - | 1개 | 1개 |
| **총계** | **16개** | **5개** | **3개** | **24개** |

### API 완성도

```
핵심 기능:    ██████████ 100% ✅
필수 기능:    ██████████ 100% ✅
선택 기능:    ░░░░░░░░░░   0% 📋
```

---

## 💡 권장 사항

### 현재 상태로 충분한 이유

#### ✅ 유저 기능
- 시설 조회 ✅
- 예약 생성 ✅
- 예약 조회 (내 예약) ✅
- 예약 취소 ✅
- 시간대 조회 ✅

#### ✅ 관리자 기능
- 전체 예약 조회 ✅ (방금 구현)
- 승인 대기 목록 ✅
- 예약 승인/반려 ✅
- 예약 통계 ✅
- 대기 건수 ✅

### 추가하면 좋은 기능 (선택)

#### 🟡 시설 정책 API (3시간)
**장점:**
- 동적으로 예약 정책 변경 가능
- 시설마다 다른 규칙 적용 가능

**단점:**
- 정책 변경 빈도 낮음
- DB 직접 수정으로도 가능

#### 🟡 예약 이력 API (2시간)
**장점:**
- 문제 발생 시 디버깅 용이
- 감사 추적 가능

**단점:**
- 실제 사용 빈도 낮음
- DB 직접 조회로도 가능

---

## 🚀 다음 단계 제안

### Option 1: 현재 상태 유지 (권장)
**이유:**
- 핵심 기능 100% 완성
- 프론트엔드 연동 시작 가능
- 추가 기능은 실제 사용 후 필요성 판단

**다음 작업:**
1. 프론트엔드 API 연동
2. 실제 사용 테스트
3. 피드백 수집
4. 필요시 선택 기능 추가

### Option 2: 선택 기능 추가 (5시간)
**포함 내용:**
- 시설 정책 API (3시간)
- 예약 이력 API (2시간)

**장점:**
- 관리 기능 완전성 향상
- 향후 확장 용이

**단점:**
- 프론트엔드 연동 지연
- 사용 빈도 낮을 가능성

---

## 📝 결론

### 현재 시스템 평가

#### ✅ 충분히 완성됨
- 유저가 시설 예약하는 모든 기능 완성
- 관리자가 예약 관리하는 모든 기능 완성
- 통계, 필터링 등 고급 기능 포함

#### 🎯 권장 방향
1. **현재 상태로 프론트엔드 연동 시작**
2. 실제 운영 환경에서 테스트
3. 사용자 피드백 수집
4. 필요시 추가 기능 개발

#### 💡 핵심 인사이트
> "완벽한 시스템보다 동작하는 시스템이 먼저다"

- 핵심 기능 100% 완성
- 나머지는 실제 필요성 검증 후 추가
- 빠른 출시와 피드백 루프가 중요

---

**결정 필요:**
- [ ] Option 1: 프론트엔드 연동 시작 (권장)
- [ ] Option 2: 선택 기능 추가 후 연동

**예상 일정:**
- Option 1: 즉시 시작 가능
- Option 2: +5시간 후 시작
